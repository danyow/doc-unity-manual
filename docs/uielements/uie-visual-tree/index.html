<!doctype html>
<html class="docs-version-current" lang="zh" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.17">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="My Site RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="My Site Atom Feed"><title data-rh="true">视觉树 | My Site</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/docs/uielements/uie-visual-tree"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="视觉树 | My Site"><meta data-rh="true" name="description" content="UI 工具包中最基本的构建块是视觉元素。视觉元素被组织为具有父子关系的层级结构树。下图显示了层级结构树的简化示例，以及 UI 工具包中的渲染结果。"><meta data-rh="true" property="og:description" content="UI 工具包中最基本的构建块是视觉元素。视觉元素被组织为具有父子关系的层级结构树。下图显示了层级结构树的简化示例，以及 UI 工具包中的渲染结果。"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/docs/uielements/uie-visual-tree"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/uielements/uie-visual-tree" hreflang="zh"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/uielements/uie-visual-tree" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.3b98a603.css">
<link rel="preload" href="/assets/js/runtime~main.6049f43e.js" as="script">
<link rel="preload" href="/assets/js/main.d0765fc1.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">跳到主要内容</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">My Site</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Tutorial</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_S7eR toggle_TdHA toggleDisabled_f9M3"><div class="toggleButton_rCf9" role="button" tabindex="-1"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></div><input type="checkbox" class="toggleScreenReader_g2nN" aria-label="切换浅色/暗黑模式（当前为浅色模式）"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Tutorial Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/tutorial-basics/create-a-page">Tutorial - Basics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/tutorial-extras/manage-docs-versions">Tutorial - Extras</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/animation-section">animation-section</a><button aria-label="打开/收起侧边栏菜单「animation-section」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/asset-store">asset-store</a><button aria-label="打开/收起侧边栏菜单「asset-store」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/asset-workflow">asset-workflow</a><button aria-label="打开/收起侧边栏菜单「asset-workflow」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/audio">audio</a><button aria-label="打开/收起侧边栏菜单「audio」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/creating-environments">creating-environments</a><button aria-label="打开/收起侧边栏菜单「creating-environments」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Glossary">术语表</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/graphics">graphics</a><button aria-label="打开/收起侧边栏菜单「graphics」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/input">input</a><button aria-label="打开/收起侧边栏菜单「input」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/legacy-topics">legacy-topics</a><button aria-label="打开/收起侧边栏菜单「legacy-topics」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/navigation">navigation</a><button aria-label="打开/收起侧边栏菜单「navigation」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/open-source-repositories">open-source-repositories</a><button aria-label="打开/收起侧边栏菜单「open-source-repositories」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/packages-list">packages-list</a><button aria-label="打开/收起侧边栏菜单「packages-list」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/physics-section">physics-section</a><button aria-label="打开/收起侧边栏菜单「physics-section」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/platform-specific">platform-specific</a><button aria-label="打开/收起侧边栏菜单「platform-specific」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/scripting-section">scripting-section</a><button aria-label="打开/收起侧边栏菜单「scripting-section」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/search-overview">search-overview</a><button aria-label="打开/收起侧边栏菜单「search-overview」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" href="/docs/uitoolkits">uitoolkits</a><button aria-label="打开/收起侧边栏菜单「uitoolkits」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs/com-unity-ugui">com-unity-ugui</a><button aria-label="打开/收起侧边栏菜单「com-unity-ugui」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs/guiscripting-guide">guiscripting-guide</a><button aria-label="打开/收起侧边栏菜单「guiscripting-guide」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/uitoolkits/ui-system-compare">Unity 中 UI 系统的对比</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" tabindex="0" href="/docs/uielements">uielements</a><button aria-label="打开/收起侧边栏菜单「uielements」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs/uibuilder">uibuilder</a><button aria-label="打开/收起侧边栏菜单「uibuilder」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/uielements/uie-binding">绑定</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs/uie-controls">uie-controls</a><button aria-label="打开/收起侧边栏菜单「uie-controls」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs/uie-events">uie-events</a><button aria-label="打开/收起侧边栏菜单「uie-events」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs/uie-examples">uie-examples</a><button aria-label="打开/收起侧边栏菜单「uie-examples」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs/uie-getting-started">uie-getting-started</a><button aria-label="打开/收起侧边栏菜单「uie-getting-started」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/uielements/uie-imgui">IMGUI support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/uielements/uie-layout-engine">布局引擎</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs/uie-migration-guides">uie-migration-guides</a><button aria-label="打开/收起侧边栏菜单「uie-migration-guides」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs/uie-uss">uie-uss</a><button aria-label="打开/收起侧边栏菜单「uie-uss」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs/uie-uxml">uie-uxml</a><button aria-label="打开/收起侧边栏菜单「uie-uxml」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/uielements/uie-view-data">ViewData 持久性</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/uielements/uie-visual-tree">视觉树</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/unet">unet</a><button aria-label="打开/收起侧边栏菜单「unet」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/unity-manual">unity-manual</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/unity-overview">unity-overview</a><button aria-label="打开/收起侧边栏菜单「unity-overview」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/unity-services">unity-services</a><button aria-label="打开/收起侧边栏菜单「unity-services」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/unity2d">unity2d</a><button aria-label="打开/收起侧边栏菜单「unity2d」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/video-player">video-player</a><button aria-label="打开/收起侧边栏菜单「video-player」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/xr">xr</a><button aria-label="打开/收起侧边栏菜单「xr」" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/">🏠</a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/docs/uitoolkits">uitoolkits</a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/docs/uielements">uielements</a></li><li class="breadcrumbs__item breadcrumbs__item--active"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/docs/uielements/uie-visual-tree">视觉树</a></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>视觉树</h1><p>UI 工具包中最基本的构建块是视觉元素。视觉元素被组织为具有父子关系的层级结构树。下图显示了层级结构树的简化示例，以及 UI 工具包中的渲染结果。</p><p><img src="https://docs.unity3d.com/cn/2022.1/uploads/Main/VisualTreeExample.png" alt="视觉树的简化层级视图"></p><p>视觉树的简化层级视图</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="视觉元素">视觉元素<a class="hash-link" href="#视觉元素" title="标题的直接链接">​</a></h2><p>The <a href="https://docs.unity3d.com/cn/2022.1/ScriptReference/UIElements.VisualElement.html" target="_blank" rel="noopener noreferrer">VisualElement</a> class is the base for all nodes in the visual tree. The <code>VisualElement</code> base class contains properties such as styles, layout data, and event handlers. Visual elements can have children and descendant visual elements. For example, in the diagram above, the first <code>Box</code> visual element has three child visual elements: <code>Label</code>, <code>Checkbox</code>, and <code>Slider</code>.</p><p>您可以通过样式表自定义视觉元素的外观。还可以使用事件回调修改视觉元素的行为。</p><p><code>VisualElement</code> 派生出若干定义了额外行为和功能的子类，如控件。UI 工具包提供了各种具有特定行为的内置控件。例如，以下项目是可用的内置控件：</p><ul><li>Buttons（按钮）</li><li>Toggles（开关）</li><li>Text input fields（文本输入字段）</li></ul><p>您还可以将视觉元素组合在一起并修改其行为以创建自定义控件。有关内置控件的列表，请参阅<a href="/docs/uie-controls/uie-controls-reference">控件参考</a>页面。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="面板">面板<a class="hash-link" href="#面板" title="标题的直接链接">​</a></h2><p>The panel is the parent object of the visual tree. A visual tree must connect to a panel for the visual elements inside a tree to render. All panels belong to either an Editor Window or a runtime <a href="https://docs.unity3d.com/cn/2022.1/ScriptReference/UIElements.UIDocument.html" target="_blank" rel="noopener noreferrer">UIDocument</a>. The panel also handles focus control and the event dispatching for the visual tree.</p><p>视觉树中的每个元素都包含对包含视觉树的面板的直接引用。为了验证 <code>VisualElement</code> 是否已连接到面板，可以测试此元素的 <code>panel</code> 属性。当视觉元素未连接时，测试将返回 <code>null</code>。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="绘制顺序">绘制顺序<a class="hash-link" href="#绘制顺序" title="标题的直接链接">​</a></h2><p>The draw order of elements in the visual tree follows a depth-first search. Child visual elements appear on top of parent elements. UI Toolkit draws child elements in the order of the sibling list. The draw order is the following:</p><p>1.顶级视觉元素。 2.该视觉元素的第一个子元素。 3.后代元素的子元素。</p><p>下图显示了上一示例的绘制顺序：</p><p><img src="https://docs.unity3d.com/cn/2022.1/uploads/Main/UIEDrawingOrder.png" alt="视觉元素绘制顺序"></p><p>视觉元素绘制顺序</p><p>要更改视觉元素绘制顺序，请使用以下函数：</p><ul><li><a href="https://docs.unity3d.com/cn/2022.1/ScriptReference/UIElements.VisualElement.BringToFront.html" target="_blank" rel="noopener noreferrer">BringToFront()</a></li><li><a href="https://docs.unity3d.com/cn/2022.1/ScriptReference/UIElements.VisualElement.SendToBack.html" target="_blank" rel="noopener noreferrer">SendToBack()</a></li></ul><p>对于同级视觉元素，请使用以下函数：</p><ul><li><a href="https://docs.unity3d.com/cn/2022.1/ScriptReference/UIElements.VisualElement.PlaceBehind.html" target="_blank" rel="noopener noreferrer">PlaceBehind()</a></li><li><a href="https://docs.unity3d.com/cn/2022.1/ScriptReference/UIElements.VisualElement.PlaceInFront.html" target="_blank" rel="noopener noreferrer">PlaceInFront()</a></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="坐标和位置系统">坐标和位置系统<a class="hash-link" href="#坐标和位置系统" title="标题的直接链接">​</a></h2><p>UI Toolkit uses a powerful layout system that automatically calculates the position and size of individual elements based on the layout parameters in their style properties. This is based on Flexbox, a web layout model. For more information, see <a href="/docs/uielements/uie-layout-engine">Layout Engine</a>.</p><p>UI 工具包有两种坐标：</p><ul><li><strong>Relative</strong> : Coordinates relative to the element’s calculated position. The layout system calculates the position of the element, then adds the coordinates as an offset. Child elements can influence the position and size of the parent element, as the layout engine takes them into account when it calculates the element position.</li><li><strong>绝对</strong> ：相对于父元素的坐标。这样就绕过了自动布局计算，直接设置了元素的位置。同一父级下的子元素对元素的位置没有影响。同样，该元素不会影响同一父级下其他同级元素的位置和大小。</li></ul><p>每个视觉元素确定用于计算其位置的坐标系。您可以在元素样式表中配置要使用的坐标系。</p><p>下面的代码演示如何通过代码设置一个视觉元素的坐标空间和位置：</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">    var newElement = new VisualElement();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        newElement.style.position = Position.Relative;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        newElement.style.left = 15;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        newElement.style.top = 35;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" class="copyButton_wuS7 clean-btn">复制</button></div></div><p>元素的原点是其左上角。</p><p>布局系统为每​​个元素计算 <code>VisualElement.layout</code> 属性 (type <code>Rect</code>)，其中包括元素的最终位置。这会考虑元素的相对或绝对位置。</p><p><code>layout.position</code> 以点 (point) 表示，相对于其父级的坐标空间。</p><p>每个 <code>VisualElement</code> 都有一个变换属性 (<code>ITransform</code>)，您可以使用它为元素的位置和旋转添加额外的局部偏移。偏移量并不在计算的布局属性中表示。默认情况下，<code>transform</code> 是标识。</p><p>使用 <code>worldBound</code> 属性检索 <code>VisualElement</code> 的最终窗口空间坐标，同时考虑布局位置和变换。此位置包括窗口标题的高度。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="示例">示例<a class="hash-link" href="#示例" title="标题的直接链接">​</a></h3><p>以下代码示例演示了相对定位和绝对定位之间的区别。它使用自动布局系统将一些方框添加到窗口并计算它们的位置。一个方框演示 <code>25 px</code> 的相对偏移，而另一个方框演示 <code>25 px, 25 px</code> 的绝对位置。</p><p><img src="https://docs.unity3d.com/cn/2022.1/uploads/Main/UIEcoordinatesExample.png" alt="视觉元素定位"></p><p>视觉元素定位</p><p>要查看此示例运行效果，请执行以下操作：</p><ol><li>Under  <strong>Assets <!-- -->&gt;<!-- --> Scripts <!-- -->&gt;<!-- --> Editor</strong> , create a C# script called <code>PositioningTestWindow</code>. 2.将下方的代码复制到 C# 脚本。 3.从编辑器工具栏中，选择  <strong>Window <!-- -->&gt;<!-- --> UI Toolkit <!-- -->&gt;<!-- --> Positioning Test Window</strong> 。</li></ol><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEditor;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine.UIElements;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class PositioningTestWindow : EditorWindow</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [MenuItem(&quot;Window/UI Toolkit/Positioning Test Window&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void ShowExample()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var wnd = GetWindow&amp;lt;PositioningTestWindow&amp;gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        wnd.titleContent = new GUIContent(&quot;Positioning Test Window&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void CreateGUI()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (int i = 0; i &amp;lt; 2; i++)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            var temp = new VisualElement();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            temp.style.width = 70;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            temp.style.height = 70;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            temp.style.marginBottom = 2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            temp.style.backgroundColor = Color.gray;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            rootVisualElement.Add(temp);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Relative positioning</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var relative = new Label(&quot;Relative\nPos\n25, 0&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        relative.style.width = 70;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        relative.style.height = 70;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        relative.style.left = 25;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        relative.style.marginBottom = 2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        relative.style.backgroundColor = new Color(0.2165094f, 0, 0.254717f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rootVisualElement.Add(relative);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (int i = 0; i &amp;lt; 2; i++)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            var temp = new VisualElement();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            temp.style.width = 70;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            temp.style.height = 70;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            temp.style.marginBottom = 2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            temp.style.backgroundColor = Color.gray;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            rootVisualElement.Add(temp);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Absolute positioning</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var absolutePositionElement = new Label(&quot;Absolute\nPos\n25, 25&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        absolutePositionElement.style.position = Position.Absolute;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        absolutePositionElement.style.top = 25;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        absolutePositionElement.style.left = 25;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        absolutePositionElement.style.width = 70;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        absolutePositionElement.style.height = 70;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        absolutePositionElement.style.backgroundColor = Color.black;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rootVisualElement.Add(absolutePositionElement);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" class="copyButton_wuS7 clean-btn">复制</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="坐标系之间的变换">坐标系之间的变换<a class="hash-link" href="#坐标系之间的变换" title="标题的直接链接">​</a></h2><p><code>VisualElement.layout.position</code> 和 <code>VisualElement.transform</code> 属性用于定义如何在局部坐标系和父坐标系之间进行转换。</p><p><a href="https://docs.unity3d.com/cn/2022.1/ScriptReference/UIElements.VisualElementExtensions.html" target="_blank" rel="noopener noreferrer">VisualElementExtensions</a> 静态类提供了以下扩展方法在坐标系之间转换点和矩形：</p><ul><li><code>WorldToLocal</code> 将 <code>Vector2</code> 或 <code>Rect</code> 从 <code>Panel</code> 空间转换为元素内的参照。</li><li><code>LocalToWorld</code> 将 <code>Vector2</code> 或 <code>Rect</code> 转换为 <code>Panel</code> 空间参照。</li><li><code>ChangeCoordinatesTo</code> 将 <code>Vector2</code> 或 <code>Rect</code> 从一个元素的局部空间转换为另一个元素的局部空间。</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/uitoolkits/uielements/uie-visual-tree.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/uielements/uie-view-data"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">ViewData 持久性</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/unet"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">多玩家和联网</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#视觉元素" class="table-of-contents__link toc-highlight">视觉元素</a></li><li><a href="#面板" class="table-of-contents__link toc-highlight">面板</a></li><li><a href="#绘制顺序" class="table-of-contents__link toc-highlight">绘制顺序</a></li><li><a href="#坐标和位置系统" class="table-of-contents__link toc-highlight">坐标和位置系统</a><ul><li><a href="#示例" class="table-of-contents__link toc-highlight">示例</a></li></ul></li><li><a href="#坐标系之间的变换" class="table-of-contents__link toc-highlight">坐标系之间的变换</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.6049f43e.js"></script>
<script src="/assets/js/main.d0765fc1.js"></script>
</body>
</html>