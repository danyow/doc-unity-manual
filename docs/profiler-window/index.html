<!doctype html>
<html class="docs-version-current" lang="zh" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.17">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Unity 手册 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Unity 手册 Atom Feed"><title data-rh="true">Profiler 窗口 | Unity 手册</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="http://danyow.github.io/doc-unity-manual//docs/profiler-window"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Profiler 窗口 | Unity 手册"><meta data-rh="true" name="description" content="要访问 Unity 性能分析器 (Unity Profiler)，请选择  Window &amp;gt; Analysis &amp;gt; Profiler ，或使用键盘快捷键 Ctrl+7 （macOS 上为  Command+7 ）。"><meta data-rh="true" property="og:description" content="要访问 Unity 性能分析器 (Unity Profiler)，请选择  Window &amp;gt; Analysis &amp;gt; Profiler ，或使用键盘快捷键 Ctrl+7 （macOS 上为  Command+7 ）。"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="http://danyow.github.io/doc-unity-manual//docs/profiler-window"><link data-rh="true" rel="alternate" href="http://danyow.github.io/doc-unity-manual//docs/profiler-window" hreflang="zh"><link data-rh="true" rel="alternate" href="http://danyow.github.io/doc-unity-manual//docs/profiler-window" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.3b98a603.css">
<link rel="preload" href="/assets/js/runtime~main.13c240a3.js" as="script">
<link rel="preload" href="/assets/js/main.8f4a8c68.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">跳到主要内容</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">My Site</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Tutorial</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_S7eR toggle_TdHA toggleDisabled_f9M3"><div class="toggleButton_rCf9" role="button" tabindex="-1"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></div><input type="checkbox" class="toggleScreenReader_g2nN" aria-label="切换浅色/暗黑模式（当前为浅色模式）"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Tutorial Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/tutorial-basics/create-a-page">Tutorial - Basics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/tutorial-extras/manage-docs-versions">Tutorial - Extras</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/animation-section">animation-section</a><button aria-label="打开/收起侧边栏菜单「animation-section」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/asset-store">asset-store</a><button aria-label="打开/收起侧边栏菜单「asset-store」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/asset-workflow">asset-workflow</a><button aria-label="打开/收起侧边栏菜单「asset-workflow」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/audio">audio</a><button aria-label="打开/收起侧边栏菜单「audio」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/creating-environments">creating-environments</a><button aria-label="打开/收起侧边栏菜单「creating-environments」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Glossary">术语表</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/graphics">graphics</a><button aria-label="打开/收起侧边栏菜单「graphics」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/input">input</a><button aria-label="打开/收起侧边栏菜单「input」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/legacy-topics">legacy-topics</a><button aria-label="打开/收起侧边栏菜单「legacy-topics」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/navigation">navigation</a><button aria-label="打开/收起侧边栏菜单「navigation」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/open-source-repositories">open-source-repositories</a><button aria-label="打开/收起侧边栏菜单「open-source-repositories」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/packages-list">packages-list</a><button aria-label="打开/收起侧边栏菜单「packages-list」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/physics-section">physics-section</a><button aria-label="打开/收起侧边栏菜单「physics-section」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/platform-specific">platform-specific</a><button aria-label="打开/收起侧边栏菜单「platform-specific」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/scripting-section">scripting-section</a><button aria-label="打开/收起侧边栏菜单「scripting-section」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/search-overview">search-overview</a><button aria-label="打开/收起侧边栏菜单「search-overview」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/uitoolkits">uitoolkits</a><button aria-label="打开/收起侧边栏菜单「uitoolkits」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/unet">unet</a><button aria-label="打开/收起侧边栏菜单「unet」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/unity-manual">unity-manual</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" href="/docs/unity-overview">unity-overview</a><button aria-label="打开/收起侧边栏菜单「unity-overview」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" tabindex="0" href="/docs/analysis">analysis</a><button aria-label="打开/收起侧边栏菜单「analysis」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/analysis/async-read-manager-metrics">资源加载指标</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs/best-practice-understanding-performance-in-unity">best-practice-understanding-performance-in-unity</a><button aria-label="打开/收起侧边栏菜单「best-practice-understanding-performance-in-unity」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/analysis/log-files">Log files</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs/performance-memory-overview">performance-memory-overview</a><button aria-label="打开/收起侧边栏菜单「performance-memory-overview」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs/performance-profiling-tools">performance-profiling-tools</a><button aria-label="打开/收起侧边栏菜单「performance-profiling-tools」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" tabindex="0" href="/docs/profiler">profiler</a><button aria-label="打开/收起侧边栏菜单「profiler」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/profiler/low-level-native-plugin-profiler">低级原生插件 Profiler API</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs/profiler-customizing">profiler-customizing</a><button aria-label="打开/收起侧边栏菜单「profiler-customizing」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/profiler/profiler-markers">常见性能分析器标记</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/profiler/profiler-profiling-applications">应用程序性能分析</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/profiler-window">profiler-window</a><button aria-label="打开/收起侧边栏菜单「profiler-window」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/profiler-window/profiler-2d-physics-profiler-module">2D Physics Profiler 模块</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/profiler-window/profiler-asset-loading-module">Asset Loading Profiler module</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/profiler-window/profiler-audio">Audio Profiler 模块</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/profiler-window/profiler-cpu">CPU Usage Profiler 模块</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/profiler-window/profiler-file-access-module">File Access Profiler module</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/profiler-window/profiler-gi">Global Illumination Profiler 模块</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/profiler-window/profiler-gpu">GPU Usage Profiler 模块</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/profiler-window/profiler-memory">Memory Profiler 模块</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/profiler-window/profiler-physics">Physics Profiler 模块</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/profiler-window/profiler-rendering">Rendering Profiler 模块</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/profiler-window/profiler-ui">UI 和 UI Details Profiler</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/profiler-window/profiler-video-profiler-module">Video Profiler 模块</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/profiler-window/profiler-virtual-texturing-module">Virtual Texturing Profiler 模块</a></li></ul></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs/creating-gameplay">creating-gameplay</a><button aria-label="打开/收起侧边栏菜单「creating-gameplay」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs/editor-features">editor-features</a><button aria-label="打开/收起侧边栏菜单「editor-features」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs/getting-started-installing-unity">getting-started-installing-unity</a><button aria-label="打开/收起侧边栏菜单「getting-started-installing-unity」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs/quickstart-guides">quickstart-guides</a><button aria-label="打开/收起侧边栏菜单「quickstart-guides」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs/upgrade-guides">upgrade-guides</a><button aria-label="打开/收起侧边栏菜单「upgrade-guides」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs/using-the-editor">using-the-editor</a><button aria-label="打开/收起侧边栏菜单「using-the-editor」" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/unity-services">unity-services</a><button aria-label="打开/收起侧边栏菜单「unity-services」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/unity2d">unity2d</a><button aria-label="打开/收起侧边栏菜单「unity2d」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/video-player">video-player</a><button aria-label="打开/收起侧边栏菜单「video-player」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/xr">xr</a><button aria-label="打开/收起侧边栏菜单「xr」" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/">🏠</a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/docs/unity-overview">unity-overview</a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/docs/analysis">analysis</a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/docs/profiler">profiler</a></li><li class="breadcrumbs__item breadcrumbs__item--active"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/docs/profiler-window">profiler-window</a></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>Profiler 窗口</h1><p>要访问 Unity 性能分析器 (Unity Profiler)，请选择  <strong>Window <!-- -->&gt;<!-- --> Analysis <!-- -->&gt;<!-- --> Profiler</strong> ，或使用键盘快捷键 <strong>Ctrl+7</strong> （macOS 上为  <strong>Command+7</strong> ）。</p><p>性能分析器记录应用程序性能的多个方面并显示相关信息。使用此信息可以做出有关应用程序中可能需要优化的事项的明智决策，并确认所做的优化是否产生预期结果。</p><p>By default, the Profiler records and keeps the last 300 frames of your game, and shows you detailed information about every frame. You can increase the number of frames it records in the Preferences window (menu:  <strong>Edit <!-- -->&gt;<!-- --> Preferences</strong> ), up to 2,000 frames.  <strong>Note:</strong>  If you increase this setting to a large number of frames, the Profiler’s overhead and memory usage might become more performance intensive.</p><p>可以检查脚本代码，以及应用程序如何使用某些资源（这可能会降低应用程序速度）。还可以比较应用程序在不同设备上的性能。性能分析器具有几个不同的<a href="#%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90%E5%99%A8%E6%A8%A1%E5%9D%97">性能分析器模块</a>，这些模块可以添加到性能分析会话中，从而获取有关渲染、内存和音频等方面的更多信息。</p><p>本页涵盖以下主题：</p><ul><li><a href="#profiler-%E7%AA%97%E5%8F%A3%E5%B8%83%E5%B1%80">Profiler 窗口布局</a></li><li><a href="#profiler-%E9%A6%96%E9%80%89%E9%A1%B9">Profiler 首选项</a></li><li><a href="#%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90%E5%99%A8%E6%8E%A7%E4%BB%B6">性能分析器控件</a><ul><li><a href="#%E6%B7%B1%E5%BA%A6%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90">深度性能分析</a></li></ul></li><li><a href="#%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90%E5%99%A8%E6%A8%A1%E5%9D%97">性能分析器模块</a><ul><li><a href="#%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90%E5%99%A8%E6%A8%A1%E5%9D%97%E5%BC%80%E9%94%80">性能分析器模块开销</a></li><li><a href="#%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90%E5%99%A8%E5%B8%A7%E5%9B%BE%E8%A1%A8">性能分析器帧图表</a></li></ul></li><li><a href="#%E7%8B%AC%E7%AB%8B%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90%E5%99%A8">独立性能分析器</a></li><li><a href="#%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%8F%82%E6%95%B0">命令行参数</a></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="profiler-窗口布局">Profiler 窗口布局<a class="hash-link" href="#profiler-窗口布局" title="标题的直接链接">​</a></h2><p>Profiler 窗口布局如下：</p><p><img src="https://docs.unity3d.com/cn/2022.1/uploads/Main/profiler-window-layout.png" alt="Profiler 窗口，其中已选中 CPU Usage Profiler 模块"></p><p>Profiler 窗口，其中已选中 CPU Usage Profiler 模块</p><ul><li><strong>A：</strong> <a href="#%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90%E5%99%A8%E6%A8%A1%E5%9D%97">性能分析器模块</a>。这是可以在应用程序中接受性能分析的所有模块的列表。使用此区域顶部的下拉菜单可以在窗口中添加和删除模块。</li><li><strong>B：</strong> <a href="#%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90%E5%99%A8%E6%8E%A7%E4%BB%B6">性能分析器控件</a>。使用这些控件可以设置要从哪个设备进行性能分析以及 Unity 应该执行哪种性能分析，可以在帧之间进行导航，还可以开始记录数据。</li><li><strong>C：</strong>  <strong>帧图表</strong> 。此区域包含性能分析器进行性能分析的每个模块的图表。首次打开性能分析器时，该区域为空白；开始对应用程序进行性能分析时，该区域中将填充信息。</li><li><strong>D：</strong>  <strong>模块详细信息面板</strong> 。此窗口区域中的信息根据所选择的模块而异。例如，选择 CPU Usage Profiler 模块时，此区域包含详细的时间轴和切换到 Hierarchy 视图的选项。选择 Rendering Profiler 模块时，此区域显示调试信息列表。首次打开性能分析器时，该区域为空白；开始对应用程序进行性能分析时，该区域中将填充信息。</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="profiler-首选项">Profiler 首选项<a class="hash-link" href="#profiler-首选项" title="标题的直接链接">​</a></h2><p>Preferences 窗口包含额外的 Profiler 窗口设置，如下所示：</p><table><thead><tr><th><strong>首选项</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td><strong>Frame count</strong></td><td>设置性能分析器要捕获的最大帧数。您可以将此数字设置在 300 到 2,000 之间。</td></tr><tr><td><strong>Show stats for ‘current frame’</strong></td><td>默认情况下，选择  <strong>Current Frame</strong>  按钮并进入 Current Frame 模式时，帧指示线不会随当前帧统计信息显示相关注释。这是因为统计信息注释可能导致难以实时查看数据。要显示注释，请启用此设置。</td></tr><tr><td><strong>Default recording state</strong></td><td>选择性能分析器应该在哪种记录状态下打开。可选择  <strong>Enabled</strong> 、 <strong>Disabled</strong>  或  <strong>Remember</strong> 。Enabled 保持  <strong>Record</strong>  按钮在会话之间启用，而  <strong>Disbled</strong>  则将其禁用，无论您在性能分析会话期间是否将其打开或关闭。 <strong>Remember</strong>  状态会记住您是否启用或禁用了  <strong>Record</strong>  按钮，并在您下次打开 Profiler 窗口时保持其上次的状态。</td></tr><tr><td><strong>Default editor target mode</strong></td><td>选择  <strong>Attach to Player</strong>  下拉选单的默认目标模式。可选择  <strong>Playmode</strong>  或  <strong>Editor</strong> 。</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_mojV" id="性能分析器控件">性能分析器控件<a class="hash-link" href="#性能分析器控件" title="标题的直接链接">​</a></h2><p><img src="https://docs.unity3d.com/cn/2022.1/uploads/Main/ProfilerControls.png" alt="ProfilerControls.png"></p><p>性能分析器控件位于 Profiler 窗口顶部的工具栏中。使用这些控件可开始或停止记录性能分析器数据以及浏览分析的帧。</p><table><thead><tr><th><strong>控件</strong></th><th><strong>功能</strong></th></tr></thead><tbody><tr><td><strong>Attach to Player</strong></td><td>选择对应用程序进行性能分析时所针对的目标。默认设置为  <strong>Playmode</strong> 。也可以选择  <strong>Editor</strong>  以对 Unity Editor 进行性能分析并显示 Editor 当前在使用的资源。<br> <br> Unity 还自动检测网络上正在运行或通过 USB 连接的所有设备，并将这些设备显示在下拉选单中。单击下拉选单中的  <strong>Enter IP</strong>  可手动输入设备的 IP 地址，以便在该设备上对应用程序进行性能分析。有关更多信息，请参阅<a href="/docs/profiler/profiler-profiling-applications">应用程序性能分析</a>。</td></tr><tr><td><strong>Record</strong></td><td>启用此设置可以在运行应用程序时记录活跃模块的性能分析信息。如果未启用此按钮，则在运行应用程序时，性能分析器不会收集任何数据。</td></tr><tr><td><strong>Back arrow</strong></td><td>向后导航一帧。</td></tr><tr><td><strong>Forward arrow</strong></td><td>向前导航一帧。</td></tr><tr><td><strong>Current Frame</strong></td><td>单击  <strong>Current Frame</strong>  按钮时，帧指示线会跳到最后记录的帧，并且性能分析器进入 Current Frame 模式。性能分析器在此模式下收集数据时，它会停留在当前帧上并实时显示收集的数据。再次单击该按钮将退出 Current Frame 模式。</td></tr><tr><td><strong>Frame number</strong></td><td>指示当前在性能分析器中查看的帧的编号。左边的数字是当前选择的帧，右边的数字是性能分析器在整个分析会话期间收集的总帧数。</td></tr><tr><td><strong>Clear</strong></td><td>从 Profiler 窗口擦除所有数据。</td></tr><tr><td><strong>Clear on Play</strong></td><td>启用此设置后，下次单击 Player 窗口中的 Play 或连接到新的目标设备时，可从 Profiler 窗口擦除所有数据。</td></tr><tr><td><strong>Deep Profile</strong></td><td>启用此设置可对所有 C# 方法进行性能分析。启用此设置后，Unity 会将检测功能添加到所有 Mono 调用，然后便可以对脚本进行更详细的调查。请参阅<a href="#%E6%B7%B1%E5%BA%A6%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90">深度性能分析</a>。</td></tr><tr><td><strong>Call Stacks</strong></td><td>要记录用于脚本内存分配的调用栈，请单击此开关。启用此选项时，性能分析器记录的帧包含所选样本在完整调用栈的信息；即使在  <strong>Deep Profile</strong>  未激活的情况下，完整调用栈上的这些样本也会导致托管脚本分配。默认情况下，启用此设置时性能分析器记录 GC.Alloc 样本的完整调用栈信息 ，但您可以从下拉菜单中将其更改为另一个样本（ <strong>UnsafeUtility.Malloc</strong> 、 <strong>JobHandle.Complete</strong>  或  <strong>Native Allocations</strong> ）。有关更多信息，请参阅“CPU Usage Profiler 模块”页面的<a href="/docs/profiler-window/profiler-cpu#%E5%88%86%E9%85%8D%E8%B0%83%E7%94%A8%E6%A0%88">分配调用栈</a>部分。</td></tr><tr><td><strong>Load</strong></td><td>将已保存的性能分析器数据加载到 Profiler 窗口中。还可以加载播放器通过 <a href="https://docs.unity3d.com/cn/2022.1/Manual/Profiling.Profiler-logFile.html" target="_blank" rel="noopener noreferrer">Profiler.logFile</a> API 写出到文件的二进制性能分析数据。<br> <br> 按住 Shift 按钮并单击  <strong>Load</strong>  按钮可将文件内容附加到当前性能分析帧。</td></tr><tr><td><strong>Save</strong></td><td>将性能分析器数据保存到 Project 文件夹中的 .data 文件中。</td></tr><tr><td><strong>上下文菜单</strong></td><td></td></tr><tr><td>-&gt; Color Blind Mode</td><td>启用此设置可使性能分析器在其图形中使用更高对比度的颜色。这样可以增强红绿色盲（例如绿色盲、红色盲或蓝色盲）用户的视觉感知度。</td></tr><tr><td>-&gt; Show stats for “current” frame</td><td>默认情况下，选择  <strong>Current Frame</strong>  按钮并进入 Current Frame 模式时，帧指示线不会随当前帧统计信息显示相关注释。这是因为统计信息注释可能导致难以实时查看数据。要显示注释，请启用此设置。</td></tr><tr><td>-&gt; Preferences</td><td>打开  <strong>Preferences</strong>  菜单以调整特定于性能分析器的属性。</td></tr></tbody></table><p>为了保持低开销，Unity 仅每隔五帧重绘一次 Editor UI。这样会导致更新过程略有卡顿。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="深度性能分析">深度性能分析<a class="hash-link" href="#深度性能分析" title="标题的直接链接">​</a></h3><p>通常，性能分析器仅对用 <a href="https://docs.unity3d.com/cn/2022.1/ScriptReference/Unity.Profiling.ProfilerMarker.html" target="_blank" rel="noopener noreferrer">ProfilerMarker</a> 显式包裹的代码时序进行性能分析。这包括从引擎原生代码到脚本代码的调用（例如 <code>MonoBehaviour</code> 的 <code>Start</code>、<code>Update</code> 或类似方法）的第一个调用栈深度。</p><p>如果未向您自己的代码添加更显式的 <code>ProfilerMarker</code> 检测，您可以视为脚本代码的子样本的唯一其他样本是回调到 Unity API 中的样本（如果已对该 API 进行检测）。带有性能开销的大多数 API 调用都会经过检测。例如，通过 <code>Camera.main</code> API 访问主摄像机的操作被注册为“<code>FindMainCamera</code>”样本。</p><p>启用  <strong>Deep Profile</strong>  设置后，性能分析器会对脚本代码的每个部分进行性能分析，并记录所有函数调用，至少包括进入任何 Unity API 中的第一个调用栈深度。此信息可用于帮助您确定代码对应用程序性能的影响，但这会带来很大的开销。</p><p>对应用程序进行深度性能分析时，Unity 会将性能分析器检测功能注入到所有脚本方法中，从而记录所有函数调用。这有助于了解应用程序代码在哪些方面花费最多的时间。</p><p>深度性能分析是资源密集型操作，会耗用大量内存。因此，在进行性能分析时，应用程序运行速度显著降低。深度性能分析更适合用简单脚本编写的小游戏。如果使用的是复杂脚本代码，则应用程序可能根本无法使用深度性能分析。对于许多较大的应用程序，深度性能分析可能会使 Unity 耗尽内存。</p><p>如果遇到问题，导致性能分析器的太多样本存储在环形缓冲区（用于将样本流式传输到性能分析器）中，Unity 将显示一条错误消息。为了增加环形缓冲区的大小，可以调整进行性能分析的播放器的 <a href="https://docs.unity3d.com/cn/2022.1/Manual/Profiling.Profiler-maxUsedMemory.html" target="_blank" rel="noopener noreferrer">Profiler.maxUsedMemory</a> 属性。</p><p>如果深度性能分析导致应用程序的帧率下降太多而无法运行，您可以手动对脚本代码块进行性能分析，此方法的开销小于深度性能分析。使用 <a href="https://docs.unity3d.com/cn/2022.1/ScriptReference/Unity.Profiling.ProfilerMarker.html" target="_blank" rel="noopener noreferrer">ProfilerMarker</a> 可以手动添加标记脚本块所需的检测。这些会显示在 <a href="/docs/profiler-window/profiler-cpu">CPU Usage Profiler 模块</a>中。</p><p>如果要找出产生 GC.Alloc 样本的调用栈而不想进行深度性能分析，可以开启 <strong>分配调用栈</strong> 的收集。启用性能分析器控件中的  <strong>Call Stacks</strong>  设置，然后可以在 Timeline 视图中选择 GC.Alloc 样本，或者使用 Hierarchy 视图中的  <strong>Show Related Objects</strong>  面板来查找这些样本的调用栈。有关更多信息，请参阅 <a href="/docs/profiler-window/profiler-cpu#%E5%88%86%E9%85%8D%E8%B0%83%E7%94%A8%E6%A0%88">CPU Profiler 模块</a>页面中关于分配调用栈的文档。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="性能分析器模块">性能分析器模块<a class="hash-link" href="#性能分析器模块" title="标题的直接链接">​</a></h2><p>Profiler 窗口的顶部被分为几个性能分析器模块，这些模块对游戏的特定方面进行性能分析。对应用程序进行性能分析时，Unity 在相应图表中显示与每个模块相关的数据。</p><p> <strong>CPU Usage</strong>  模块最能够体现应用程序在每帧中花费的时间。其他模块收集更具体的数据，有助于检查更具体的方面或监测应用程序的重要信息，例如内存消耗、渲染或音频统计信息。</p><p>每个模块都有自己的图表。选择模块时，模块详细信息面板将显示在窗口的底部，可用于检查该模块收集的详细数据。</p><table><thead><tr><th><strong>性能分析器模块</strong></th><th><strong>功能</strong></th></tr></thead><tbody><tr><td><strong>CPU Usage</strong></td><td>概要显示应用程序在哪些方面花费最多时间（涉及物理、脚本、动画和垃圾收集等多个方面）。该模块包含有关应用程序的大量性能分析信息，您可以使用这些信息来决定进一步使用哪些其他模块来调查应用程序中的更具体问题。该模块始终处于激活状态（即使您将其关闭）。请参阅 <a href="/docs/profiler-window/profiler-cpu">CPU Usage Profiler 模块</a></td></tr><tr><td><strong>GPU Usage</strong></td><td>显示与图形处理有关的信息。默认情况下，此模块处于非激活状态，因为它的开销较大。请参阅 <a href="/docs/profiler-window/profiler-gpu">GPU Usage Profiler 模块</a>。</td></tr><tr><td><strong>渲染</strong></td><td>显示有关 Unity 如何在应用程序中渲染图形的信息，包括有关静态和动态批处理、SetPass 和 Draw 调用、三角形和顶点的信息。请参阅 <a href="/docs/profiler-window/profiler-rendering">Rendering Profiler 模块</a>。</td></tr><tr><td><strong>Memory</strong></td><td>显示有关 Unity 如何在应用程序中分配内存的信息。这尤其适合用于查看脚本分配 (GC.Alloc) 如何引起垃圾收集或者是应用程序的资源内存使用量随时间变化的趋势。请参阅 <a href="/docs/profiler-window/profiler-memory">Memory Profiler 模块</a>。</td></tr><tr><td><strong>Audio</strong></td><td>显示应用程序中的音频相关信息，例如何时播放音频源以及播放的音频源数量、音频系统需要的 CPU 使用率以及 Unity 为其分配的内存量。请参阅 <a href="/docs/profiler-window/profiler-audio">Audio Profiler 模块</a>。</td></tr><tr><td><strong>Video</strong></td><td>Displays information related to <a href="/docs/video-player">video</a> in your application. See <a href="/docs/profiler-window/profiler-video-profiler-module">Video Profiler module</a>.</td></tr><tr><td><strong>Physics</strong></td><td>显示应用程序中物理引擎已进行的物理处理的相关信息。请参阅 <a href="/docs/profiler-window/profiler-physics">Physics Profiler 模块</a>。</td></tr><tr><td><strong>Physics (2D)</strong></td><td>与 Physics Profiler 模块类似，此模块显示应用程序中物理引擎已进行的 2D 物理处理的相关信息。请参阅 <a href="/docs/profiler-window/profiler-2d-physics-profiler-module">2D Physics Profiler 模块</a>。</td></tr><tr><td><strong>Network Messages</strong> <br>（已弃用）</td><td>显示有关<a href="/docs/unet-using-hlapi">多玩家高级 API</a> 发送或接收的较低级数据包和消息的信息。<br>  <strong>注意：</strong> 多玩家高级 API 已被弃用。</td></tr><tr><td><strong>Network Operations</strong> <br>（已弃用）</td><td>显示有关多玩家高级 API 发送和接收的消息中含有哪些类型或操作的详细信息，例如已传输的 SyncVar 或命令的数量。<br>  <strong>注意：</strong> 多玩家高级 API 已被弃用。</td></tr><tr><td><strong>UI</strong></td><td>显示有关 Unity 如何为应用程序处理 UI 批处理的信息，包括 Unity 为何以及如何对项目进行批处理。请参阅 <a href="/docs/profiler-window/profiler-ui">UI 和 UI Details Profiler 模块</a>。</td></tr><tr><td><strong>UI Details</strong></td><td>与 UI 模块类似，此模块的图表添加有关批处理和顶点计数的数据，以及标记（包含有关触发 UI 变化的用户输入事件的信息）。请参阅 <a href="/docs/profiler-window/profiler-ui">UI 和 UI Details Profiler 模块</a></td></tr><tr><td><strong>Global Illumination</strong></td><td>显示有关 Unity 在应用程序中的全局光照 (Global Illumination) 光照子系统中花费的 CPU 资源的信息。请参阅 <a href="/docs/profiler-window/profiler-gi">Global Illumination Profiler 窗口</a>。</td></tr><tr><td><strong>Virtual Texturing</strong></td><td>显示有关您的应用程序中<a href="/docs/svt-streaming-virtual-texturing">串流虚拟纹理</a>的统计信息。请参阅 <a href="/docs/profiler-window/profiler-virtual-texturing-module">Virtual Texturing Profiler 模块</a>。</td></tr><tr><td><strong>Asset Loading</strong></td><td>Displays information about how your application loads assets. See the <a href="/docs/profiler-window/profiler-asset-loading-module">Asset Loading Profiler module</a>.</td></tr><tr><td><strong>File Access</strong></td><td>Displays information about file accesses in your application. See the <a href="/docs/profiler-window/profiler-file-access-module">File Access Profiler module</a>.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_mojV" id="性能分析器模块开销">性能分析器模块开销<a class="hash-link" href="#性能分析器模块开销" title="标题的直接链接">​</a></h3><p>某些性能分析器模块具有大量的数据收集开销，例如 GPU、UI 和 Audio Profiler 模块。为了防止这些模块影响应用程序的性能，可以通过在  <strong>Profiler Module</strong>  下拉选单中取消选择这些模块来将它们停用。这样可从窗口删除模块，让性能分析器停止收集该模块的数据，并减少性能分析器的开销。</p><p>这不适用于 CPU Usage 模块，该模块始终会收集数据（即使该模块处于非激活状态），因为其他模块依赖这些数据。</p><p>要添加模块，请选择  <strong>Profiler Module</strong>  下拉选单，然后选择要激活的性能分析器。从下拉选单选择性能分析器模块后，这个模块开始收集数据，但是在非激活时段内不显示任何数据。</p><p>为了避免 GPU Profiler 模块的开销，默认情况下该模块处于非激活状态。GPU Profiler 模块必须在应用程序启动时处于激活状态，才能挂接到图形驱动程序。如果稍后添加，在大多数平台上均无效，并且性能分析器显示消息：“GPU profiling is not supported by the graphics card driver (or it was disabled because of driver bugs)”。</p><p>如果您指示性能分析器收集数据并通过 <a href="https://docs.unity3d.com/cn/2022.1/Manual/Profiling.Profiler-logFile.html" target="_blank" rel="noopener noreferrer">Profiler.logFile</a> API 而不是通过 Profiler 窗口将数据发送到磁盘，您可以通过 <a href="https://docs.unity3d.com/cn/2022.1/ScriptReference/Profiling.Profiler.SetAreaEnabled.html" target="_blank" rel="noopener noreferrer">Profiler.SetAreaEnabled()</a> 来关闭性能分析器模块。</p><p>某些通过外部 IDE 来调试脚本的设置也可能产生开销。为了避免发生此开销并获得更准确的测量值，请禁用  <strong>Editor Attaching</strong>  设置（菜单： <strong>Preferences <!-- -->&gt;<!-- --> External Tools</strong> ）。同样，对构建播放器进行性能分析时，请打开  <strong>Build Settings</strong>  并禁用  <strong>Script Debugging</strong>  以避免发生此开销。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="性能分析器帧图表">性能分析器帧图表<a class="hash-link" href="#性能分析器帧图表" title="标题的直接链接">​</a></h3><p>Profiler 窗口的上半部分逐帧显示随时间推移的性能数据。运行应用程序时，性能分析器会记录每帧的数据。默认情况下，Profiler 窗口显示其进行性能分析的最近 300 帧的历史记录。可以在  <strong>Preferences</strong>  窗口中增加性能分析器进行性能分析的帧的数量（最多为 2,000 帧）。</p><p>在 Profiler 窗口的性能分析器帧图表区域中单击时，将出现一条白线来突出显示应用程序的一帧。要在帧之间导航，请使用 Profiler 窗口的工具栏中的<a href="#%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90%E5%99%A8%E6%8E%A7%E4%BB%B6">传输控件</a>。</p><p>Unity 自动管理图表的垂直刻度，而且图表会尝试填充窗口的垂直空间。要查看图表中的更多详细信息，可以删除其他性能分析器模块，也可以拖动图表和详细统计信息区域之间的分隔线来增大图表的屏幕区域。</p><p>要在图表中切换指标的隐藏和显示，请在相关模块中单击相应标签旁的有色方块。这样可以方便找到出现尖峰的原因。在堆积图表（例如 CPU Usage Profiler 的图表）中，可以将指标标签重新排序以影响堆积顺序，有助于使主要指标更加突出。</p><p>每个性能分析器模块收集不同的性能数据指标并将它们显示在单独的图表中。单击某个帧时，Unity 在 Profiler 窗口下半部分的模块详细信息面板中显示有关该帧的更多详细信息。此窗口中的详细信息类型会因选择的性能分析器模块而异。有关每个模块在此区域中显示的特定详细信息的更多信息，请参阅<a href="#%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90%E5%99%A8%E6%A8%A1%E5%9D%97">性能分析器模块</a>的单独文档。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="独立性能分析器">独立性能分析器<a class="hash-link" href="#独立性能分析器" title="标题的直接链接">​</a></h2><p>要使用独立性能分析器，请转到  <strong>Window <!-- -->&gt;<!-- --> Analysis <!-- -->&gt;<!-- --> Profiler (Standalone process)</strong> 。当您选择独立性能分析器时，Unity 会在 Unity 编辑器进程之外启动性能分析器，在一个新的单独进程中启动性能分析器。</p><p>当您以编辑器或运行模式为目标时，以专用进程启动性能分析器可确保性能分析器数据更加清洁。这样还会减少开销，因为性能分析器不会分析自身或与您的应用程序或编辑器共享进程。性能分析器的功能和控件与同编辑器共用进程运行性能分析器时相同。</p><p><img src="https://docs.unity3d.com/cn/2022.1/uploads/Main/profiler-standalone-menut.png" alt="独立性能分析器的菜单选择"></p><p>独立性能分析器的菜单选择</p><p>当您为 Profiler 窗口启动一个单独的进程时，启动时间要长于共用编辑器进程的启动时间。您不能将连接到单独进程的任何编辑器窗口停靠到主进程的窗口。此外，当您重新启动编辑器时，Unity 不会重新打开进程外性能分析器中的窗口。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="命令行参数">命令行参数<a class="hash-link" href="#命令行参数" title="标题的直接链接">​</a></h2><p>如果从命令行（例如 Windows 上的命令提示符，macOS 上的终端，Linux Shell，或者 Android 的 adb）启动构建的播放器或 Unity Editor，可以传递命令行参数来配置一些性能分析器设置。</p><table><thead><tr><th><strong>命令行参数</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td><code>-deepprofiling</code></td><td>在构建的播放器中启用深度性能分析。</td></tr><tr><td><code>-profiler-enable</code></td><td>对播放器或 Editor 的启动进行性能分析。将此参数与播放器一起使用时，效果与在 Build Settings 中启用  <strong>Autoconnect Profiler</strong>  选项来构建播放器的效果相同。<br> <br> 将此参数与 Editor 一起使用时，在 Editor 启动时会开始在 Profiler 窗口中收集和显示性能分析器信息。</td></tr><tr><td><code>-profiler-log-file &amp;lt;Path/To/Log/File.raw&amp;gt;</code></td><td>此参数用于设置性能分析器，使其在启动时将性能分析数据流式传输到 .raw 文件。对播放器和 Editor 都有效。</td></tr><tr><td><code>-profiler-capture-frame-count &amp;lt;NumberOfFrames&amp;gt;</code></td><td>此参数用于设置启动后流式传输到 .raw 文件时要在性能分析中捕获的帧数量。仅对播放器有效。</td></tr><tr><td><code>-profiler-maxusedmemory</code></td><td><code>maxUsedMemory</code> 的默认值是 16MB（对于播放器）和 256MB（对于 Editor）。可以在启动时使用此参数将 <code>maxUsedMemory</code> 参数设置为自定义大小（例如，<code>-profiler-maxusedmemory 16777216</code>）。此大小以字节为单位。</td></tr></tbody></table><hr><p>*<!-- -->进程外性能分析器添加于<a href="https://docs.unity3d.com/2020.1/Documentation/Manual/30_search.html?q=newin20201" target="_blank" rel="noopener noreferrer">2020.1</a> NewIn20201</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/unity-overview/analysis/profiler/profiler-window/profiler-window.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/profiler/profiler-profiling-applications"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">应用程序性能分析</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/profiler-window/profiler-2d-physics-profiler-module"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">2D Physics Profiler 模块</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#profiler-窗口布局" class="table-of-contents__link toc-highlight">Profiler 窗口布局</a></li><li><a href="#profiler-首选项" class="table-of-contents__link toc-highlight">Profiler 首选项</a></li><li><a href="#性能分析器控件" class="table-of-contents__link toc-highlight">性能分析器控件</a><ul><li><a href="#深度性能分析" class="table-of-contents__link toc-highlight">深度性能分析</a></li></ul></li><li><a href="#性能分析器模块" class="table-of-contents__link toc-highlight">性能分析器模块</a><ul><li><a href="#性能分析器模块开销" class="table-of-contents__link toc-highlight">性能分析器模块开销</a></li><li><a href="#性能分析器帧图表" class="table-of-contents__link toc-highlight">性能分析器帧图表</a></li></ul></li><li><a href="#独立性能分析器" class="table-of-contents__link toc-highlight">独立性能分析器</a></li><li><a href="#命令行参数" class="table-of-contents__link toc-highlight">命令行参数</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.13c240a3.js"></script>
<script src="/assets/js/main.8f4a8c68.js"></script>
</body>
</html>