<!doctype html>
<html class="docs-version-current" lang="zh" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.17">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Unity æ‰‹å†Œ RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Unity æ‰‹å†Œ Atom Feed"><title data-rh="true">Roslyn analyzers and source generators | Unity æ‰‹å†Œ</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="http://danyow.github.io/doc-unity-manual//docs/scripting-setting-up/roslyn-analyzers"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Roslyn analyzers and source generators | Unity æ‰‹å†Œ"><meta data-rh="true" name="description" content="Use Roslyn analyzers, source generators and ruleset files in Unity projects to inspect your code for style, quality, and other issues."><meta data-rh="true" property="og:description" content="Use Roslyn analyzers, source generators and ruleset files in Unity projects to inspect your code for style, quality, and other issues."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="http://danyow.github.io/doc-unity-manual//docs/scripting-setting-up/roslyn-analyzers"><link data-rh="true" rel="alternate" href="http://danyow.github.io/doc-unity-manual//docs/scripting-setting-up/roslyn-analyzers" hreflang="zh"><link data-rh="true" rel="alternate" href="http://danyow.github.io/doc-unity-manual//docs/scripting-setting-up/roslyn-analyzers" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.3b98a603.css">
<link rel="preload" href="/assets/js/runtime~main.13c240a3.js" as="script">
<link rel="preload" href="/assets/js/main.8f4a8c68.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">è·³åˆ°ä¸»è¦å†…å®¹</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">My Site</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Tutorial</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_S7eR toggle_TdHA toggleDisabled_f9M3"><div class="toggleButton_rCf9" role="button" tabindex="-1"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></div><input type="checkbox" class="toggleScreenReader_g2nN" aria-label="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæµ…è‰²æ¨¡å¼ï¼‰"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="å›åˆ°é¡¶éƒ¨" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Tutorial Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/tutorial-basics/create-a-page">Tutorial - Basics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/tutorial-extras/manage-docs-versions">Tutorial - Extras</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/animation-section">animation-section</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œanimation-sectionã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/asset-store">asset-store</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œasset-storeã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/asset-workflow">asset-workflow</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œasset-workflowã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/audio">audio</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œaudioã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/creating-environments">creating-environments</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œcreating-environmentsã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Glossary">æœ¯è¯­è¡¨</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/graphics">graphics</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œgraphicsã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/input">input</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œinputã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/legacy-topics">legacy-topics</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œlegacy-topicsã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/navigation">navigation</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œnavigationã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/open-source-repositories">open-source-repositories</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œopen-source-repositoriesã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/packages-list">packages-list</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œpackages-listã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/physics-section">physics-section</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œphysics-sectionã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/platform-specific">platform-specific</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œplatform-specificã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" href="/docs/scripting-section">scripting-section</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œscripting-sectionã€" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs/job-system">job-system</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œjob-systemã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs/plugins">plugins</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œpluginsã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs/scripting-concepts">scripting-concepts</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œscripting-conceptsã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs/scripting-important-classes">scripting-important-classes</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œscripting-important-classesã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" tabindex="0" href="/docs/scripting-setting-up">scripting-setting-up</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œscripting-setting-upã€" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/scripting-setting-up/managed-code-debugging">Debug C# code in Unity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/scripting-setting-up/roslyn-analyzers">Roslyn analyzers and source generators</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/scripting-setting-up/scripting-tools-ides">é›†æˆå¼€å‘ç¯å¢ƒ (IDE) æ”¯æŒ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/scripting-setting-up/testing-editortestsrunner">å•å…ƒæµ‹è¯•ã€‚</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs/unity-architecture">unity-architecture</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œunity-architectureã€" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/search-overview">search-overview</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œsearch-overviewã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/uitoolkits">uitoolkits</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œuitoolkitsã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/unet">unet</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œunetã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/unity-manual">unity-manual</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/unity-overview">unity-overview</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œunity-overviewã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/unity-services">unity-services</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œunity-servicesã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/unity2d">unity2d</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œunity2dã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/video-player">video-player</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œvideo-playerã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/xr">xr</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œxrã€" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/">ğŸ </a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/docs/scripting-section">scripting-section</a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/docs/scripting-setting-up">scripting-setting-up</a></li><li class="breadcrumbs__item breadcrumbs__item--active"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/docs/scripting-setting-up/roslyn-analyzers">Roslyn analyzers and source generators</a></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">æœ¬é¡µæ€»è§ˆ</button></div><div class="theme-doc-markdown markdown"><h1>Roslyn analyzers and source generators</h1><p>Use Roslyn analyzers, source generators and ruleset files in Unity projects to inspect your code for style, quality, and other issues.</p><p>You can use existing analyzer libraries to inspect your code, and write your own analyzers to promote the best practices or conventions within your organization. This page explains how to use Roslyn analyzers and source generators in an empty Unity Project.</p><p> <strong>Note</strong> : Roslyn analyzers are only compatible with the IDEs that Unity publically supports, which are Visual Studio and JetBrains Rider.</p><p>For more information about how to write and use Roslyn analyzers, see Microsoftâ€™s <a href="https://docs.microsoft.com/en-us/visualstudio/code-quality/use-roslyn-analyzers?view=vs-2019" target="_blank" rel="noopener noreferrer">Analyzer Configuration</a> and <a href="https://docs.microsoft.com/en-us/visualstudio/extensibility/getting-started-with-roslyn-analyzers?view=vs-2019" target="_blank" rel="noopener noreferrer">Get started with Roslyn analyzers</a> documentation.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="source-generators">Source generators<a class="hash-link" href="#source-generators" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>You can use source generators as an additional step in your script compilation process. You can use source generators to add new code while you compile your existing code. Like analyzers, you can use existing source generators or create your own.</p><p> <strong>Note</strong> : Unity only supports version 6.0.0-preview of the â€˜System.Text.Jsonâ€™ namespace. If you want to use this namespace in your application, ensure you use version 6.0.0-preview. For more information about <code>System.Text.Json</code>, see Microsoftâ€™s <a href="https://docs.microsoft.com/en-us/dotnet/api/system.text.json?view=net-6.0" target="_blank" rel="noopener noreferrer">System.Text.Json Namespace documentation</a>.</p><p>To set up a source generator using Visual Studio:</p><ol><li>In Visual Studio, create a .NET standard library project that targets .NET Standard 2.0.</li><li>Install the Microsoft.CodeAnalysis NuGet package. Your source generator must use <a href="https://www.nuget.org/packages/Microsoft.CodeAnalysis.CSharp/3.8.0" target="_blank" rel="noopener noreferrer">Microsoft.CodeAnalysis 3.8</a> to work with Unity.</li><li>In your Visual Studio project, create a new C# file and add the following code:</li></ol><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">using Microsoft.CodeAnalysis;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using Microsoft.CodeAnalysis.Text;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using System.Text;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">namespace ExampleSourceGenerator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Generator]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public class ExampleSourceGenerator : ISourceGenerator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public void Execute(GeneratorExecutionContext context)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.Console.WriteLine(System.DateTime.Now.ToString());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            var sourceBuilder = new StringBuilder(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            @&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            using System;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            namespace ExampleSourceGenerated</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                public static class ExampleSourceGenerated</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    public static string GetTestText() </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        return &quot;&quot;This is from source generator &quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            sourceBuilder.Append(System.DateTime.Now.ToString());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            sourceBuilder.Append(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                @&quot;&quot;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            context.AddSource(&quot;exampleSourceGenerator&quot;, SourceText.From(sourceBuilder.ToString(), Encoding.UTF8));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public void Initialize(GeneratorInitializationContext context) { }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div><ol><li>Build your source generator for release. Tod do this, go to  <strong>Build</strong>  and select the  <strong>Batch Build</strong>  option.</li><li>In your source generatorâ€™s project folder, find the bin/Release/netstandard2.0/ExampleSourceGenerator.dll file.</li><li>Copy this file into your Unity project, inside the Assets folder.</li><li>Inside the Asset Browser, click on the .dll file to open the Plugin Inspector window.</li><li>Go to  <strong>Select platforms</strong>  for plugin and disable  <strong>Any Platform</strong> .</li><li>Go to  <strong>Include Platforms</strong>  and disable  <strong>Editor</strong>  and  <strong>Standalone</strong> .</li><li>Go to  <strong>Asset Labels</strong>  and open the  <strong>Asset Labels</strong>  sub-menu.</li><li>Create and assign a new label called  <strong>RoslynAnalyzer</strong> . To do this, enter â€œ <strong>RoslynAnalyzer</strong> â€ into the text input window in the Asset Labels sub-menu. This label must match exactly and is case sensitive. After you create the label for the first analyzer, The label appears in the  <strong>Asset Labels</strong>  sub-menu. You can click on the name of the label in the menu to assign it to other analyzers.</li><li>To test the source generator is working, create a new C# script in the editor with the following code:</li></ol><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class HelloFromSourceGenerator : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    static string GetStringFromSourceGenerator()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return ExampleSourceGenerated.ExampleSourceGenerated.GetTestText();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Start is called before the first frame update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var output = &quot;Test&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        output = GetStringFromSourceGenerator();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Debug.Log(output);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div><ol><li>Add this script to a GameObject in the scene and enter Play mode. You should see a message from the source generator in the Console window, including the time stamp.</li></ol><p>For more information about source generators, see Microsoftâ€™s <a href="https://docs.microsoft.com/en-us/dotnet/csharp/roslyn-sdk/source-generators-overview" target="_blank" rel="noopener noreferrer">Source Generators documentation</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="analyzer-scope">Analyzer scope<a class="hash-link" href="#analyzer-scope" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>You can limit the scope of analyzers in your project by using assembly definitions, so that they only analyze certain portions of your code.</p><p>Unity applies analyzers to all assemblies in your projectâ€™s Assets folder, or in any subfolder whose parent folder doesnâ€™t contain an <a href="/docs/script-compilation-assembly-definition-files">assembly definition file</a>. If an analyzer is in a folder that contains an assembly definition, or a subfolder of such a folder, the analyzer only applies to the assembly generated from that assembly definition, and to any other assembly that references it.</p><p>This means, for example, that a <a href="/docs/packages-list">package</a> can supply analyzers that only analyze code related to the package, which can help package users to use the package API correctly.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="report-analyzer-diagnostics">Report analyzer diagnostics<a class="hash-link" href="#report-analyzer-diagnostics" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>To view information such as the total execution time of your analyzers and source generators or the relative execution times of each analyzer or source generator, go to  <strong>Preferences</strong>  <!-- -->&gt;<!-- -->  <strong>Diagnostic Switches</strong>  and enable  <strong>EnableDomainReloadTimings</strong> . When enabled, the information is displayed in the console window.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="installing-an-existing-roslyn-analyzer-or-source-generator">Installing an existing Roslyn analyzer or source generator<a class="hash-link" href="#installing-an-existing-roslyn-analyzer-or-source-generator" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>Unity doesnâ€™t support the installation of Roslyn Analyzers or source generators through NuGet directly. The below example uses the <a href="https://www.nuget.org/packages/ErrorProne.NET.CoreAnalyzers/" target="_blank" rel="noopener noreferrer">ErrorProne.NET.CoreAnalyzers</a> library to demonstrate how to install Roslyn Analyzers and source generators from NuGet:</p><ol><li>Download the library as a .zip file with the  <strong>Download package</strong>  button.</li><li>Extract the contents of the .zip file.</li><li>Inside the extracted folder, locate the .dll files that contain the analyzers. In this example, navigate to  <strong><code>errorprone.net.coreanalyzers&amp;lt;version-number&amp;gt;\analyzers\dotnet\cd</code></strong> . The required files should be in this folder, named <code>ErrorProne.NET.Core.dll</code>, <code>ErrorProne.Net.CoreAnalyzers.dll</code>, and <code>RuntimeContracts.dll</code>.</li><li>Move these files into the Assets folder, or any folder nested inside of the Assets folder, in your Unity project. To do this, either go to  <strong>Assets</strong>  <!-- -->&gt;<!-- -->  <strong>Import new asset</strong>  and select the .dll for each of the three files, or copy them into your projectâ€™s Assets folder through your deviceâ€™s file browser.</li><li>Click on the .dll file inside the  <strong>Asset Browser</strong>  inside Unity to open the  <strong><a href="/docs/plugins/plugin-inspector">Plugin Inspector</a></strong>  window.</li><li>Inside the Plugin Inspector window:<ul><li>Under the  <strong>Select platforms for plugin</strong>  heading, disable  <strong>Any Platform</strong> .</li><li>Under the  <strong>Include Platforms</strong>  heading, disable  <strong>Editor</strong>  and  <strong>Standalone</strong> .</li></ul></li><li>Under the  <strong>Asset Labels</strong>  heading in the Plugin Inspector window, click on the blue label icon to open the  <strong>Asset Labels</strong>  sub-menu.</li><li>Create and assign a new label called RoslynAnalyzer. To do this, type â€œRoslynAnalyzerâ€ into the text input window in the  <strong>Asset Labels</strong>  sub-menu and press  <strong>Return</strong> . This label must exactly match the example and is case sensitive. After you create the label for the first analyzer, it appears on the list of available labels in the  <strong>Asset Labels</strong>  sub-menu. You can click on the name of the label in the menu to assign it to other analyzers.</li></ol><p>Unity recognizes the RoslynAnalyzer label and treats assets with this label as Roslyn Analyzers or source generators. When you assign the label to an analyzer, Unity recompiles scripts within the scope of the analyzer and analyzes the code in those scripts according to the rules in the analyzer. Any scripts that are within the same assembly definition as an analyzer are in that analyzerâ€™s scope. For analyzers in the root level of the Assets folder, Unity considers all files in the project to be in scope. For more information about scope, see <a href="#analyzer-scope">Analyzer scope</a> above.</p><p>To test that your analyzers work correctly, follow the example below. If you have installed the analyzers correctly, the ErrorProne.NET analyzer raises warnings when it analyzes the code in the example.</p><p>Create a new script file named <code>RethrowError.cs</code>. Copy the following code into this script and save the file:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">using System;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class RethrowError : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Update()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            DoSomethingInteresting();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        catch (Exception e)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Debug.Log(e.Message);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw e;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private void DoSomethingInteresting()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        throw new System.NotImplementedException();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div><p>When you save the file, Unity recompiles the script and runs any applicable analyzers on the scriptâ€™s code. When the ErrorProne.NET analyzer is correctly installed, it raises the following warnings in the Console window about the above code:</p><p><code>Assets\RethrowError.cs(14,23): warning EPC12: Suspicious exception handling: only e.Message is observed in exception block.</code></p><p><code>Assets\RethrowError.cs(15,19): warning ERP021: Incorrect exception propagation. Use throw; instead.</code></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="è§„åˆ™é›†æ–‡ä»¶">è§„åˆ™é›†æ–‡ä»¶<a class="hash-link" href="#è§„åˆ™é›†æ–‡ä»¶" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>To define your own rules on how to handle the various warnings and errors that the analyzers in your project raise, you can create a ruleset file. For more information on how to create a custom ruleset, see Microsoftâ€™s Visual Studio documentation on <a href="https://docs.microsoft.com/en-us/visualstudio/code-quality/how-to-create-a-custom-rule-set?view=vs-2019" target="_blank" rel="noopener noreferrer">how to create a custom rule set</a>.</p><p>In the Assets root folder, place a ruleset file named Default.ruleset. The rules you define in Default.ruleset apply to all predefined assemblies (for example <code>Assembly-CSharp.dll</code>), and all assemblies that are built using .asmdef files.</p><p>To override the rules in Default.ruleset for a predefined assembly, create a .ruleset file in the root folder with the name <code>[PredefinedAssemblyName].ruleset</code>. For example, the rules in <code>Assembly-CSharp.ruleset</code> apply to the code in <code>Assembly-CSharp.dll</code>. Only these .ruleset files are allowed inside the root folder:</p><ul><li><code>Default.ruleset</code></li><li><code>Assembly-CSharp.ruleset</code></li><li><code>Assembly-CSharp-firstpass.ruleset</code></li><li><code>Assembly-CSharp-Editor.ruleset</code></li><li><code>Assembly-CSharp-Editor-firstpass.ruleset</code></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="å·¥ä½œæµç¨‹åœ¨-unity-ä¸­æµ‹è¯•è§„åˆ™é›†æ–‡ä»¶">å·¥ä½œæµç¨‹ï¼šåœ¨ Unity ä¸­æµ‹è¯•è§„åˆ™é›†æ–‡ä»¶<a class="hash-link" href="#å·¥ä½œæµç¨‹åœ¨-unity-ä¸­æµ‹è¯•è§„åˆ™é›†æ–‡ä»¶" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>è¦åœ¨ Unity ä¸­æµ‹è¯•è§„åˆ™é›†æ–‡ä»¶ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="æ­¥éª¤-1è®¾ç½®è§„åˆ™é›†æ–‡ä»¶">æ­¥éª¤ 1ï¼šè®¾ç½®è§„åˆ™é›†æ–‡ä»¶<a class="hash-link" href="#æ­¥éª¤-1è®¾ç½®è§„åˆ™é›†æ–‡ä»¶" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h4><ol><li>Create a subfolder named â€œSubfolderâ€ inside your projectâ€™s Assets folder.</li><li>Inside  <strong>Subfolder</strong> :<ol><li>Create a new .asmdef file.</li><li>Save a duplicate copy of <code>RethrowError.cs</code>.</li></ol></li><li>Create a Default.ruleset file inside  <strong>Assets</strong>  with the following code:</li></ol><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&amp;gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&amp;lt;RuleSet Name=&quot;New Rule Set&quot; Description=&quot; &quot; ToolsVersion=&quot;10.0&quot;&amp;gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &amp;lt;Rules AnalyzerId=&quot;ErrorProne.NET.CodeAnalyzers&quot; RuleNamespace=&quot;ErrorProne.NET.CodeAnalyzers&quot;&amp;gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &amp;lt;Rule Id=&quot;ERP021&quot; Action=&quot;Error&quot; /&amp;gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &amp;lt;Rule Id=&quot;EPC12&quot; Action=&quot;None&quot; /&amp;gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &amp;lt;/Rules&amp;gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&amp;lt;/RuleSet&amp;gt;</span><br></span></code></pre><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div><p><code>Default.ruleset</code> æ–‡ä»¶å®šä¹‰äº†ä»¥ä¸‹è§„åˆ™ï¼š</p><ul><li>Suppress EPC12, the warning about suspicious exception handling.</li><li>Elevate ERP021, the warning about incorrect exception propagation, to an error.</li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="ç¬¬-2-æ­¥é‡æ–°åŠ è½½é¡¹ç›®">ç¬¬ 2 æ­¥ï¼šé‡æ–°åŠ è½½é¡¹ç›®<a class="hash-link" href="#ç¬¬-2-æ­¥é‡æ–°åŠ è½½é¡¹ç›®" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h4><p>After you add the ruleset files to your project, reimport any script that lives in an assembly where the rules should apply. This forces Unity to recompile the assembly using the new ruleset files. After recompilation, you should see two messages in the Console window:</p><p><code>Assets\Subfolder\RethrowError.cs(15,19): error ERP021: Incorrect exception propagation. Use throw; instead.</code></p><p><code>Assets\RethrowError.cs(15,19): error ERP021: Incorrect exception propagation. Use throw; instead.</code></p><p>Notice that Unity applies the rules defined in Default.ruleset to both <code>Assets/RethrowError.cs</code> and <code>Assets/Subfolder/RethrowError.cs</code>.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="ç¬¬-3-æ­¥æ·»åŠ è‡ªå®šä¹‰è§„åˆ™é›†">ç¬¬ 3 æ­¥ï¼šæ·»åŠ è‡ªå®šä¹‰è§„åˆ™é›†<a class="hash-link" href="#ç¬¬-3-æ­¥æ·»åŠ è‡ªå®šä¹‰è§„åˆ™é›†" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h4><p>In Assets/Subfolder, create a .ruleset file, and give it any name you like (in this <code>exampleHello.ruleset</code>):</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&amp;gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&amp;lt;RuleSet Name=&quot;New Rule Set&quot; Description=&quot; &quot; ToolsVersion=&quot;10.0&quot;&amp;gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &amp;lt;Rules AnalyzerId=&quot;ErrorProne.NET.CodeAnalyzers&quot; RuleNamespace=&quot;ErrorProne.NET.CodeAnalyzers&quot;&amp;gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &amp;lt;Rule Id=&quot;ERP021&quot; Action=&quot;Info&quot; /&amp;gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &amp;lt;Rule Id=&quot;EPC12&quot; Action=&quot;Info&quot; /&amp;gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &amp;lt;/Rules&amp;gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&amp;lt;/RuleSet&amp;gt;</span><br></span></code></pre><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div><p>This new <code>Hello.ruleset</code> file tells Unity to print both EPC12 and ERP021 to the Console, without treating them as warnings or errors.</p><p>Unity å†æ¬¡ç¼–è¯‘é¡¹ç›®åï¼Œæ‚¨ä¼šåœ¨ Console çª—å£ä¸­çœ‹åˆ°ä»¥ä¸‹æ¶ˆæ¯ï¼š</p><p><code>Assets\Subfolder\RethrowError.cs(14,23): info EPC12: Suspicious exception handling: only e.Message is observed in exception block.</code></p><p><code>Assets\Subfolder\RethrowError.cs(15,19): info ERP021: Incorrect exception propagation. Use throw; instead.</code></p><p><code>Assets\RethrowError.cs(15,19): error ERP021: Incorrect exception propagation. Use throw; instead.</code></p><p><code>Default.ruleset</code> ä¸­çš„è§„åˆ™ä»ç„¶åº”ç”¨äº <code>Assets\RethrowError.cs</code>ï¼Œä½†å®ƒä»¬ä¸å†åº”ç”¨äº <code>Assets\Subfolder\RethrowError.cs</code>ï¼Œå› ä¸º <code>Hello.ruleset</code> ä¸­çš„è§„åˆ™å°†å…¶è¦†ç›–ã€‚</p><p>æœ‰å…³æ‰€æœ‰å…è®¸çš„è§„åˆ™é›†æ“ä½œæ–‡ä»¶çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… Visual Studio æ–‡æ¡£<a href="https://docs.microsoft.com/en-us/visualstudio/code-quality/working-in-the-code-analysis-rule-set-editor?view=vs-2019" target="_blank" rel="noopener noreferrer">ä½¿ç”¨ä»£ç åˆ†æè§„åˆ™é›†ç¼–è¾‘å™¨</a>ã€‚</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="æ›´å¤šåˆ†æå™¨">æ›´å¤šåˆ†æå™¨<a class="hash-link" href="#æ›´å¤šåˆ†æå™¨" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>ä»¥ä¸‹æ˜¯æŒ‡å‘å…¶ä»–æµè¡Œ Roslyn åˆ†æå™¨åº“çš„ Github å­˜å‚¨åº“çš„é“¾æ¥ï¼š</p><ul><li><a href="https://github.com/Cybermaxs/awesome-analyzers" target="_blank" rel="noopener noreferrer">awesome-analyzers</a></li><li><a href="https://github.com/dotnet/roslyn-analyzers" target="_blank" rel="noopener noreferrer">dotnet/roslyn-analyzers</a></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/scripting-section/scripting-setting-up/roslyn-analyzers.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>ç¼–è¾‘æ­¤é¡µ</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="æ–‡æ¡£åˆ†é¡µå¯¼èˆª"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/scripting-setting-up/managed-code-debugging"><div class="pagination-nav__sublabel">ä¸Šä¸€é¡µ</div><div class="pagination-nav__label">Debug C# code in Unity</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/scripting-setting-up/scripting-tools-ides"><div class="pagination-nav__sublabel">ä¸‹ä¸€é¡µ</div><div class="pagination-nav__label">é›†æˆå¼€å‘ç¯å¢ƒ (IDE) æ”¯æŒ</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#source-generators" class="table-of-contents__link toc-highlight">Source generators</a></li><li><a href="#analyzer-scope" class="table-of-contents__link toc-highlight">Analyzer scope</a></li><li><a href="#report-analyzer-diagnostics" class="table-of-contents__link toc-highlight">Report analyzer diagnostics</a></li><li><a href="#installing-an-existing-roslyn-analyzer-or-source-generator" class="table-of-contents__link toc-highlight">Installing an existing Roslyn analyzer or source generator</a></li><li><a href="#è§„åˆ™é›†æ–‡ä»¶" class="table-of-contents__link toc-highlight">è§„åˆ™é›†æ–‡ä»¶</a><ul><li><a href="#å·¥ä½œæµç¨‹åœ¨-unity-ä¸­æµ‹è¯•è§„åˆ™é›†æ–‡ä»¶" class="table-of-contents__link toc-highlight">å·¥ä½œæµç¨‹ï¼šåœ¨ Unity ä¸­æµ‹è¯•è§„åˆ™é›†æ–‡ä»¶</a></li></ul></li><li><a href="#æ›´å¤šåˆ†æå™¨" class="table-of-contents__link toc-highlight">æ›´å¤šåˆ†æå™¨</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.13c240a3.js"></script>
<script src="/assets/js/main.8f4a8c68.js"></script>
</body>
</html>