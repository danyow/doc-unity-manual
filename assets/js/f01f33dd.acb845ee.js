"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[89523],{3905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return p}});var s=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,s,r=function(e,t){if(null==e)return{};var n,s,r={},o=Object.keys(e);for(s=0;s<o.length;s++)n=o[s],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var a=s.createContext({}),u=function(e){var t=s.useContext(a),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=u(e.components);return s.createElement(a.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return s.createElement(s.Fragment,{},t)}},b=s.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,a=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),b=u(n),p=r,m=b["".concat(a,".").concat(p)]||b[p]||c[p]||o;return n?s.createElement(m,i(i({ref:t},d),{},{components:n})):s.createElement(m,i({ref:t},d))}));function p(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=b;var l={};for(var a in t)hasOwnProperty.call(t,a)&&(l[a]=t[a]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var u=2;u<o;u++)i[u]=n[u];return s.createElement.apply(null,i)}return s.createElement.apply(null,n)}b.displayName="MDXCreateElement"},64557:function(e,t,n){n.r(t),n.d(t,{assets:function(){return d},contentTitle:function(){return a},default:function(){return p},frontMatter:function(){return l},metadata:function(){return u},toc:function(){return c}});var s=n(87462),r=n(63366),o=(n(67294),n(3905)),i=["components"],l={id:"webgl-assetbundles",title:"Reduce load times with AssetBundles",slug:"/webgl-building/webgl-assetbundles"},a="Reduce load times with AssetBundles",u={unversionedId:"platform-specific/webgl/webgl-building-distribution/webgl-building/webgl-assetbundles",id:"platform-specific/webgl/webgl-building-distribution/webgl-building/webgl-assetbundles",title:"Reduce load times with AssetBundles",description:"As all your Asset data must be pre-downloaded before your content starts, you should consider moving Assets out of your main data files and into AssetBundles. This way, you can create a small loader Scene for your content which loads quickly. It then dynamically loads Assets on-demand as the user proceeds through your content. AssetBundles also help with Asset data memory management: You can unload Asset data from memory for Assets that you don\u2019t need any more by calling AssetBundle.Unload.",source:"@site/docs/platform-specific/webgl/webgl-building-distribution/webgl-building/webgl-assetbundles.md",sourceDirName:"platform-specific/webgl/webgl-building-distribution/webgl-building",slug:"/webgl-building/webgl-assetbundles",permalink:"/docs/webgl-building/webgl-assetbundles",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/platform-specific/webgl/webgl-building-distribution/webgl-building/webgl-assetbundles.md",tags:[],version:"current",frontMatter:{id:"webgl-assetbundles",title:"Reduce load times with AssetBundles",slug:"/webgl-building/webgl-assetbundles"},sidebar:"tutorialSidebar",previous:{title:"Building your WebGL application",permalink:"/docs/webgl-building"},next:{title:"Distribution size and code stripping",permalink:"/docs/webgl-building/webgl-distributionsize-codestripping"}},d={},c=[],b={toc:c};function p(e){var t=e.components,n=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,s.Z)({},b,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"reduce-load-times-with-assetbundles"},"Reduce load times with AssetBundles"),(0,o.kt)("p",null,"As all your Asset data must be pre-downloaded before your content starts, you should consider moving Assets out of your main data files and into ",(0,o.kt)("a",{parentName:"p",href:"/docs/asset-bundles-intro"},"AssetBundles"),". This way, you can create a small loader Scene for your content which loads quickly. It then dynamically loads Assets on-demand as the user proceeds through your content. AssetBundles also help with ",(0,o.kt)("a",{parentName:"p",href:"/docs/webgl-develop/webgl-memory"},"Asset data memory")," management: You can unload Asset data from memory for Assets that you don\u2019t need any more by calling ",(0,o.kt)("a",{parentName:"p",href:"https://docs.unity3d.com/cn/2022.1/ScriptReference/AssetBundle.Unload.html"},"AssetBundle.Unload"),"."),(0,o.kt)("p",null,"The following considerations apply when using AssetBundles on the WebGL platform:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"When you use class types in your AssetBundle which are not used in your main build, Unity may strip the code for those classes from the build. This can cause a fail when trying to load Assets from the AssetBundle. Use ",(0,o.kt)("a",{parentName:"li",href:"https://docs.unity3d.com/cn/2022.1/Manual/BuildPlayerOptions-assetBundleManifestPath.html"},"BuildPlayerOptions.assetBundleManifestPath")," to fix that, or see the section on ","[","Distribution size and code stripping","]","(webgl-distribution size-codestripping.md), below, for other options."),(0,o.kt)("li",{parentName:"ul"},"WebGL \u4e0d\u652f\u6301\u7ebf\u7a0b\uff0c\u4f46 http \u4e0b\u8f7d\u5185\u5bb9\u4ec5\u5728\u4e0b\u8f7d\u5b8c\u6210\u540e\u624d\u53ef\u7528\u3002\u56e0\u6b64\uff0c\u5728\u4e0b\u8f7d\u5b8c\u6210\u65f6\uff0cUnity WebGL \u6784\u5efa\u9700\u8981\u5728\u4e3b\u7ebf\u7a0b\u4e0a\u89e3\u538b\u7f29 AssetBundle \u6570\u636e\uff0c\u800c\u8fd9\u4f1a\u963b\u6b62\u4e3b\u7ebf\u7a0b\u3002\u4e3a\u907f\u514d\u8fd9\u79cd\u4e2d\u65ad\uff0c",(0,o.kt)("a",{parentName:"li",href:"/docs/asset-bundles-intro/asset-bundles-building"},"LZMA AssetBundle \u538b\u7f29"),"\u4e0d\u53ef\u7528\u4e8e WebGL \u4e0a\u7684 AssetBundle\u3002\u6b64\u60c5\u51b5\u4e0b\u4f7f\u7528 LZ4 \u5bf9 AssetBundle \u8fdb\u884c\u538b\u7f29\uff0c\u8fd9\u79cd\u538b\u7f29\u683c\u5f0f\u53ef\u975e\u5e38\u9ad8\u6548\u5730\u6309\u9700\u8fdb\u884c\u89e3\u538b\u7f29\u3002\u5982\u679c\u6240\u9700\u7684\u538b\u7f29\u5927\u5c0f\u6bd4 LZ4 \u80fd\u591f\u63d0\u4f9b\u7684\u538b\u7f29\u5927\u5c0f\u66f4\u5c0f\uff0c\u53ef\u5c06 Web \u670d\u52a1\u5668\u914d\u7f6e\u4e3a\u5bf9 AssetBundle \u4f7f\u7528 gzip \u6216 Brotli \u538b\u7f29\uff08\u57fa\u4e8e LZ4 \u538b\u7f29\uff09\u3002\u8bf7\u53c2\u9605\u6709\u5173",(0,o.kt)("a",{parentName:"li",href:"/docs/webgl-building-distribution/webgl-deploying"},"\u90e8\u7f72\u538b\u7f29\u6784\u5efa"),"\u7684\u6587\u6863\u4ee5\u8be6\u7ec6\u4e86\u89e3\u5982\u4f55\u6267\u884c\u6b64\u64cd\u4f5c\u3002"),(0,o.kt)("li",{parentName:"ul"},"WebGL supports AssetBundle caching with ",(0,o.kt)("a",{parentName:"li",href:"https://docs.unity3d.com/cn/2022.1/ScriptReference/Networking.UnityWebRequestAssetBundle.GetAssetBundle.html"},"UnityWebRequestAssetBundle.GetAssetBundle"),". This method uses the IndexedDB API from your browser to store a cache on the user\u2019s device. Some browsers might have limited support for IndexedDB and any browsers might request the user\u2019s authorization to store data on the disk. For more information, see ",(0,o.kt)("a",{parentName:"li",href:"/docs/webgl-intro/webgl-browsercompatibility"},"WebGL browser compatibility"),".")))}p.isMDXComponent=!0}}]);