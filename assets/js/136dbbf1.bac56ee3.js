"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[63200],{3905:function(e,r,n){n.d(r,{Zo:function(){return p},kt:function(){return y}});var t=n(67294);function o(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function i(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function a(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?i(Object(n),!0).forEach((function(r){o(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function l(e,r){if(null==e)return{};var n,t,o=function(e,r){if(null==e)return{};var n,t,o={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||(o[n]=e[n]);return o}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var u=t.createContext({}),d=function(e){var r=t.useContext(u),n=r;return e&&(n="function"==typeof e?e(r):a(a({},r),e)),n},p=function(e){var r=d(e.components);return t.createElement(u.Provider,{value:r},e.children)},v={inlineCode:"code",wrapper:function(e){var r=e.children;return t.createElement(t.Fragment,{},r)}},c=t.forwardRef((function(e,r){var n=e.components,o=e.mdxType,i=e.originalType,u=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),c=d(n),y=o,m=c["".concat(u,".").concat(y)]||c[y]||v[y]||i;return n?t.createElement(m,a(a({ref:r},p),{},{components:n})):t.createElement(m,a({ref:r},p))}));function y(e,r){var n=arguments,o=r&&r.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=c;var l={};for(var u in r)hasOwnProperty.call(r,u)&&(l[u]=r[u]);l.originalType=e,l.mdxType="string"==typeof e?e:o,a[1]=l;for(var d=2;d<i;d++)a[d]=n[d];return t.createElement.apply(null,a)}return t.createElement.apply(null,n)}c.displayName="MDXCreateElement"},41388:function(e,r,n){n.r(r),n.d(r,{assets:function(){return p},contentTitle:function(){return u},default:function(){return y},frontMatter:function(){return l},metadata:function(){return d},toc:function(){return v}});var t=n(87462),o=n(63366),i=(n(67294),n(3905)),a=["components"],l={id:"VideoPlayer-MigratingFromMovieTexture",title:"\u4ece MovieTexture \u8fc1\u79fb\u5230 VideoPlayer",slug:"/class-video-player/video-player-migrating-from-movie-texture"},u="\u4ece MovieTexture \u8fc1\u79fb\u5230 VideoPlayer",d={unversionedId:"video-player/class-video-player/VideoPlayer-MigratingFromMovieTexture",id:"video-player/class-video-player/VideoPlayer-MigratingFromMovieTexture",title:"\u4ece MovieTexture \u8fc1\u79fb\u5230 VideoPlayer",description:"\u5982\u679c\u60a8\u7684\u67d0\u4e9b\u9879\u76ee\u4f7f\u7528\u65e7\u7248 MovieTexture \u7ec4\u4ef6\u4e0b\u8f7d\u548c\u64ad\u653e\u7535\u5f71\uff0c\u5219\u53ef\u4ee5\u66f4\u65b0\u5b83\u4eec\u4ee5\u4f7f\u7528\u8f83\u65b0\u7684 VideoPlayer \u7ec4\u4ef6\u3002",source:"@site/docs/video-player/class-video-player/video-player-migrating-from-movie-texture.md",sourceDirName:"video-player/class-video-player",slug:"/class-video-player/video-player-migrating-from-movie-texture",permalink:"/doc-unity-manual/docs/class-video-player/video-player-migrating-from-movie-texture",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/video-player/class-video-player/video-player-migrating-from-movie-texture.md",tags:[],version:"current",frontMatter:{id:"VideoPlayer-MigratingFromMovieTexture",title:"\u4ece MovieTexture \u8fc1\u79fb\u5230 VideoPlayer",slug:"/class-video-player/video-player-migrating-from-movie-texture"},sidebar:"tutorialSidebar",previous:{title:"\u5168\u666f\u89c6\u9891",permalink:"/doc-unity-manual/docs/class-video-player/video-panoramic"},next:{title:"\u89c6\u9891\u6587\u4ef6\u517c\u5bb9\u6027",permalink:"/doc-unity-manual/docs/class-video-player/video-sources-file-compatibility"}},p={},v=[{value:"\u64ad\u653e\u7535\u5f71",id:"\u64ad\u653e\u7535\u5f71",level:2},{value:"MovieTexture",id:"movietexture",level:3},{value:"VideoPlayer",id:"videoplayer",level:3},{value:"\u4e0b\u8f7d\u7535\u5f71",id:"\u4e0b\u8f7d\u7535\u5f71",level:2},{value:"MovieTexture",id:"movietexture-1",level:3},{value:"VideoPlayer",id:"videoplayer-1",level:3}],c={toc:v};function y(e){var r=e.components,n=(0,o.Z)(e,a);return(0,i.kt)("wrapper",(0,t.Z)({},c,n,{components:r,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"\u4ece-movietexture-\u8fc1\u79fb\u5230-videoplayer"},"\u4ece MovieTexture \u8fc1\u79fb\u5230 VideoPlayer"),(0,i.kt)("p",null,"\u5982\u679c\u60a8\u7684\u67d0\u4e9b\u9879\u76ee\u4f7f\u7528\u65e7\u7248 ",(0,i.kt)("a",{parentName:"p",href:"/doc-unity-manual/docs/textures/class-movie-texture"},"MovieTexture")," \u7ec4\u4ef6\u4e0b\u8f7d\u548c\u64ad\u653e\u7535\u5f71\uff0c\u5219\u53ef\u4ee5\u66f4\u65b0\u5b83\u4eec\u4ee5\u4f7f\u7528\u8f83\u65b0\u7684 ",(0,i.kt)("a",{parentName:"p",href:"/doc-unity-manual/docs/class-video-player"},"VideoPlayer")," \u7ec4\u4ef6\u3002"),(0,i.kt)("p",null,"\u4e3a\u4e86\u5e2e\u52a9\u60a8\u4ece MovieTexture \u8fc1\u79fb\u5230 VideoPlayer\uff0c\u6b64\u9875\u9762\u63d0\u4f9b\u4e86\u6709\u5173\u5982\u4f55\u4f7f\u7528\u6bcf\u4e2a\u7ec4\u4ef6\u4e0b\u8f7d\u548c\u64ad\u653e\u7535\u5f71\u7684\u793a\u4f8b\u3002"),(0,i.kt)("h2",{id:"\u64ad\u653e\u7535\u5f71"},"\u64ad\u653e\u7535\u5f71"),(0,i.kt)("h3",{id:"movietexture"},"MovieTexture"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'using UnityEngine;\n\npublic class PlayMovieMT : MonoBehaviour\n{\n    public AudioClip movieAudioClip;\n    public MovieTexture movieTexture;\n\n    void Start()\n    {\n        var audioSource = gameObject.AddComponent&lt;AudioSource&gt;();\n        audioSource.clip = movieAudioClip;\n    }\n\n    void Update()\n    {\n        if (Input.GetButtonDown("Jump"))\n        {\n            var audioSource = GetComponent&lt;AudioSource&gt;();\n            GetComponent&lt;Renderer&gt;().material.mainTexture = movieTexture;\n\n            if (movieTexture.isPlaying)\n            {\n                movieTexture.Pause();\n                audioSource.Pause();\n            }\n            else\n            {\n                movieTexture.Play();\n                audioSource.Play();\n            }\n        }\n    }\n}\n')),(0,i.kt)("h3",{id:"videoplayer"},"VideoPlayer"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'using UnityEngine;\n\npublic class PlayMovieVP : MonoBehaviour\n{\n    public UnityEngine.Video.VideoClip videoClip;\n\n    void Start()\n    {\n        var videoPlayer = gameObject.AddComponent&lt;UnityEngine.Video.VideoPlayer&gt;();\n        var audioSource = gameObject.AddComponent&lt;AudioSource&gt;();\n\n        videoPlayer.playOnAwake = false;\n        videoPlayer.clip = videoClip;\n        videoPlayer.renderMode = UnityEngine.Video.VideoRenderMode.MaterialOverride;\n        videoPlayer.targetMaterialRenderer = GetComponent&lt;Renderer&gt;();\n        videoPlayer.targetMaterialProperty = "_MainTex";\n        videoPlayer.audioOutputMode = UnityEngine.Video.VideoAudioOutputMode.AudioSource;\n        videoPlayer.SetTargetAudioSource(0, audioSource);\n    }\n\n    void Update()\n    {\n        if (Input.GetButtonDown("Jump"))\n        {\n            var vp = GetComponent&lt;UnityEngine.Video.VideoPlayer&gt;();\n\n            if (vp.isPlaying)\n            {\n                vp.Pause();\n            }\n            else\n            {\n                vp.Play();\n            }\n        }\n    }\n}\n')),(0,i.kt)("h2",{id:"\u4e0b\u8f7d\u7535\u5f71"},"\u4e0b\u8f7d\u7535\u5f71"),(0,i.kt)("h3",{id:"movietexture-1"},"MovieTexture"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'using UnityEngine;\n\npublic class DownloadMovieMT : MonoBehaviour\n{\n    void Start()\n    {\n        StartCoroutine(GetMovieTexture());\n    }\n\n    IEnumerator GetMovieTexture()\n    {\n        using (var uwr = UnityWebRequestMultimedia.GetMovieTexture("https://myserver.com/mymovie.ogv"))\n        {\n            yield return uwr.SendWebRequest();\n            if (uwr.isNetworkError || uwr.isHttpError)\n            {\n                Debug.LogError(uwr.error);\n                yield break;\n            }\n\n            MovieTexture movie = DownloadHandlerMovieTexture.GetContent(uwr);\n\n            GetComponent&lt;Renderer&gt;().material.mainTexture = movie;\n            movie.loop = true;\n            movie.Play();\n        }\n    }\n}\n')),(0,i.kt)("h3",{id:"videoplayer-1"},"VideoPlayer"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'using UnityEngine;\n\npublic class DownloadMovieVP : MonoBehaviour\n{\n    void Start()\n    {\n        var vp = gameObject.AddComponent&lt;UnityEngine.Video.VideoPlayer&gt;();\n        vp.url = "https://myserver.com/mymovie.mp4";\n\n        vp.isLooping = true;\n        vp.renderMode = UnityEngine.Video.VideoRenderMode.MaterialOverride;\n        vp.targetMaterialRenderer = GetComponent&lt;Renderer&gt;();\n        vp.targetMaterialProperty = "_MainTex";\n\n        vp.Play();\n    }\n}\n')),(0,i.kt)("hr",null),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"2019\u201305\u201307 \u9875\u9762\u5df2\u53d1\u5e03")))}y.isMDXComponent=!0}}]);