"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[69229],{3905:function(e,t,r){r.d(t,{Zo:function(){return d},kt:function(){return c}});var a=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var p=a.createContext({}),s=function(e){var t=a.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},d=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,p=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),m=s(r),c=n,h=m["".concat(p,".").concat(c)]||m[c]||u[c]||i;return r?a.createElement(h,l(l({ref:t},d),{},{components:r})):a.createElement(h,l({ref:t},d))}));function c(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,l=new Array(i);l[0]=m;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:n,l[1]=o;for(var s=2;s<i;s++)l[s]=r[s];return a.createElement.apply(null,l)}return a.createElement.apply(null,r)}m.displayName="MDXCreateElement"},71179:function(e,t,r){r.r(t),r.d(t,{assets:function(){return d},contentTitle:function(){return p},default:function(){return c},frontMatter:function(){return o},metadata:function(){return s},toc:function(){return u}});var a=r(87462),n=r(63366),i=(r(67294),r(3905)),l=["components"],o={id:"class-ComputeShader",title:"\u8ba1\u7b97\u7740\u8272\u5668",slug:"/shaders-overview/class-compute-shader"},p="\u8ba1\u7b97\u7740\u8272\u5668",s={unversionedId:"graphics/shaders/shaders-overview/class-ComputeShader",id:"graphics/shaders/shaders-overview/class-ComputeShader",title:"\u8ba1\u7b97\u7740\u8272\u5668",description:"Compute shaders are shader programs that run on the GPU, outside of the normal rendering pipeline.",source:"@site/docs/graphics/shaders/shaders-overview/class-compute-shader.md",sourceDirName:"graphics/shaders/shaders-overview",slug:"/shaders-overview/class-compute-shader",permalink:"/doc-unity-manual/docs/shaders-overview/class-compute-shader",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/graphics/shaders/shaders-overview/class-compute-shader.md",tags:[],version:"current",frontMatter:{id:"class-ComputeShader",title:"\u8ba1\u7b97\u7740\u8272\u5668",slug:"/shaders-overview/class-compute-shader"},sidebar:"tutorialSidebar",previous:{title:"\u7740\u8272\u5668\u6838\u5fc3\u6982\u5ff5",permalink:"/doc-unity-manual/docs/shaders-overview"},next:{title:"\u7740\u8272\u5668\u8d44\u6e90",permalink:"/doc-unity-manual/docs/shaders-overview/class-shader"}},d={},u=[{value:"\u8ba1\u7b97\u7740\u8272\u5668\u8d44\u6e90",id:"\u8ba1\u7b97\u7740\u8272\u5668\u8d44\u6e90",level:2},{value:"\u8c03\u7528\u8ba1\u7b97\u7740\u8272\u5668",id:"\u8c03\u7528\u8ba1\u7b97\u7740\u8272\u5668",level:2},{value:"\u8ba1\u7b97\u7740\u8272\u5668\u4e2d\u7684\u7eb9\u7406\u91c7\u6837\u5668",id:"\u8ba1\u7b97\u7740\u8272\u5668\u4e2d\u7684\u7eb9\u7406\u91c7\u6837\u5668",level:2},{value:"\u8de8\u5e73\u53f0\u652f\u6301",id:"\u8de8\u5e73\u53f0\u652f\u6301",level:2},{value:"\u8de8\u5e73\u53f0\u6700\u4f73\u5b9e\u8df5",id:"\u8de8\u5e73\u53f0\u6700\u4f73\u5b9e\u8df5",level:3},{value:"\u5e73\u53f0\u7279\u5b9a\u5dee\u5f02",id:"\u5e73\u53f0\u7279\u5b9a\u5dee\u5f02",level:3},{value:"\u4ec5\u9650 HLSL \u6216\u4ec5\u9650 GLSL \u7684\u8ba1\u7b97\u7740\u8272\u5668",id:"\u4ec5\u9650-hlsl-\u6216\u4ec5\u9650-glsl-\u7684\u8ba1\u7b97\u7740\u8272\u5668",level:2},{value:"\u53d8\u4f53\u548c\u5173\u952e\u5b57",id:"\u53d8\u4f53\u548c\u5173\u952e\u5b57",level:2}],m={toc:u};function c(e){var t=e.components,r=(0,n.Z)(e,l);return(0,i.kt)("wrapper",(0,a.Z)({},m,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"\u8ba1\u7b97\u7740\u8272\u5668"},"\u8ba1\u7b97\u7740\u8272\u5668"),(0,i.kt)("p",null,"Compute shaders are shader programs that run on the GPU, outside of the normal rendering pipeline."),(0,i.kt)("p",null,"They can be used for massively parallel GPGPU algorithms, or to accelerate parts of game rendering. In order to efficiently use them, an in-depth knowledge of GPU architectures and parallel algorithms is often needed; as well as knowledge of ",(0,i.kt)("a",{parentName:"p",href:"http://msdn.microsoft.com/en-us/library/windows/desktop/ff476331.aspx"},"DirectCompute"),", ",(0,i.kt)("a",{parentName:"p",href:"https://www.khronos.org/opengl/wiki/Compute_Shader"},"OpenGL Compute"),", ",(0,i.kt)("a",{parentName:"p",href:"http://en.wikipedia.org/wiki/CUDA"},"CUDA"),", or ",(0,i.kt)("a",{parentName:"p",href:"http://en.wikipedia.org/wiki/OpenCL"},"OpenCL"),"."),(0,i.kt)("p",null,"Unity \u4e2d\u7684\u8ba1\u7b97\u7740\u8272\u5668\u4e0e ",(0,i.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/DirectX"},"DirectX")," 11 DirectCompute \u6280\u672f\u7d27\u5bc6\u914d\u5408\u3002\u8ba1\u7b97\u7740\u8272\u5668\u9002\u7528\u7684\u5e73\u53f0\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Windows \u548c Windows \u5e94\u7528\u5546\u5e97\uff0c\u4f7f\u7528 DirectX 11 \u6216 DirectX 12 \u56fe\u5f62 API \u548c Shader Model 5.0 GPU"),(0,i.kt)("li",{parentName:"ul"},"macOS \u548c iOS\uff0c\u4f7f\u7528 ",(0,i.kt)("a",{parentName:"li",href:"https://developer.apple.com/metal/"},"Metal \u56fe\u5f62")," API"),(0,i.kt)("li",{parentName:"ul"},"Android\u3001Linux \u548c Windows \u5e73\u53f0\uff0c",(0,i.kt)("a",{parentName:"li",href:"https://www.khronos.org/vulkan/"},"Vulkan")," API"),(0,i.kt)("li",{parentName:"ul"},"\u73b0\u4ee3 ",(0,i.kt)("a",{parentName:"li",href:"https://www.opengl.org/"},"OpenGL")," \u5e73\u53f0\uff08Linux \u6216 Windows \u4e0a\u7684 OpenGL 4.3\uff1bAndroid \u4e0a\u7684 OpenGL ES 3.1\uff09\u3002\u8bf7\u6ce8\u610f\uff0cMac OS X \u4e0d\u652f\u6301 OpenGL 4.3"),(0,i.kt)("li",{parentName:"ul"},"Modern consoles")),(0,i.kt)("p",null,"\u5728\u8fd0\u884c\u65f6\u53ef\u4f7f\u7528 ",(0,i.kt)("a",{parentName:"p",href:"https://docs.unity3d.com/cn/2022.1/Manual/SystemInfo-supportsComputeShaders.html"},"SystemInfo.supportsComputeShaders")," \u6765\u67e5\u8be2\u8ba1\u7b97\u7740\u8272\u5668\u652f\u6301\u60c5\u51b5\u3002"),(0,i.kt)("h2",{id:"\u8ba1\u7b97\u7740\u8272\u5668\u8d44\u6e90"},"\u8ba1\u7b97\u7740\u8272\u5668\u8d44\u6e90"),(0,i.kt)("p",null,"Similar to ",(0,i.kt)("a",{parentName:"p",href:"/doc-unity-manual/docs/shaders-overview/class-shader"},"shader assets"),", compute shader assets are files in your project. with a ",(0,i.kt)("em",{parentName:"p"},".compute")," file extension. They are written in DirectX 11 style ",(0,i.kt)("a",{parentName:"p",href:"http://msdn.microsoft.com/en-us/library/windows/desktop/bb509561.aspx"},"HLSL")," language, with a minimal number of #pragma compilation directives to indicate which functions to compile as compute shader kernels."),(0,i.kt)("p",null,"\u4e0b\u9762\u662f\u8ba1\u7b97\u7740\u8272\u5668\u6587\u4ef6\u7684\u57fa\u672c\u793a\u4f8b\uff0c\u5b83\u4f7f\u7528\u7ea2\u8272\u586b\u5145\u8f93\u51fa\u7eb9\u7406\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"// test.compute\n\n# pragma kernel FillWithRed\n\nRWTexture2D&lt;float4&gt; res;\n\n[numthreads(1,1,1)]\nvoid FillWithRed (uint3 dtid : SV_DispatchThreadID)\n{\n    res[dtid.xy] = float4(1,0,0,1);\n}\n")),(0,i.kt)("p",null,"The language is standard DX11 HLSL, with an additional ",(0,i.kt)("inlineCode",{parentName:"p"},"#pragma kernel FillWithRed")," directive. One compute shader Asset file must contain at least one",(0,i.kt)("inlineCode",{parentName:"p"},"compute kernel")," that can be invoked, and that function is indicated by the ",(0,i.kt)("inlineCode",{parentName:"p"},"#pragma directive"),". There can be more kernels in the file; just add multiple ",(0,i.kt)("inlineCode",{parentName:"p"},"#pragma kernel")," lines."),(0,i.kt)("p",null,"\u4f7f\u7528\u591a\u4e2a ",(0,i.kt)("inlineCode",{parentName:"p"},"#pragma kernel")," \u884c\u65f6\uff0c\u8bf7\u6ce8\u610f\u5728 ",(0,i.kt)("inlineCode",{parentName:"p"},"#pragma kernel")," \u6307\u4ee4\u7684\u540c\u4e00\u884c\u4e0a\u4e0d\u5141\u8bb8 ",(0,i.kt)("inlineCode",{parentName:"p"},"// text")," \u6837\u5f0f\u7684\u6ce8\u91ca\uff0c\u5982\u679c\u4f7f\u7528\uff0c\u4f1a\u5bfc\u81f4\u7f16\u8bd1\u9519\u8bef\u3002"),(0,i.kt)("p",null,"\u53ef\u9009\u62e9\u6027\u5730\u5728 ",(0,i.kt)("inlineCode",{parentName:"p"},"#pragma kernel")," \u884c\u540e\u9762\u6dfb\u52a0\u8981\u5728\u7f16\u8bd1\u8be5\u5185\u6838\u65f6\u5b9a\u4e49\u7684\u591a\u4e2a\u9884\u5904\u7406\u5668\u5b8f\uff0c\u4f8b\u5982\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"# pragma kernel KernelOne SOME_DEFINE DEFINE_WITH_VALUE=1337\n# pragma kernel KernelTwo OTHER_DEFINE\n// ...\n")),(0,i.kt)("h2",{id:"\u8c03\u7528\u8ba1\u7b97\u7740\u8272\u5668"},"\u8c03\u7528\u8ba1\u7b97\u7740\u8272\u5668"),(0,i.kt)("p",null,"\u5728\u811a\u672c\u4e2d\uff0c\u5e94\u5b9a\u4e49 ComputeShader \u7c7b\u578b\u7684\u53d8\u91cf\u5e76\u5206\u914d\u5bf9\u8d44\u6e90\u7684\u5f15\u7528\u3002\u5982\u6b64\u4fbf\u53ef\u4f7f\u7528 ",(0,i.kt)("a",{parentName:"p",href:"https://docs.unity3d.com/cn/2022.1/ScriptReference/ComputeShader.Dispatch.html"},"ComputeShader.Dispatch")," \u51fd\u6570\u6765\u8c03\u7528\u5b83\u4eec\u3002\u8bf7\u53c2\u9605\u5173\u4e8e ",(0,i.kt)("a",{parentName:"p",href:"https://docs.unity3d.com/cn/2022.1/ScriptReference/ComputeShader.html"},"ComputeShader \u7c7b"),"\u7684 Unity \u6587\u6863\u4ee5\u4e86\u89e3\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\u3002"),(0,i.kt)("p",null,"\u4e0e\u8ba1\u7b97\u7740\u8272\u5668\u5bc6\u5207\u76f8\u5173\u7684\u662f ",(0,i.kt)("a",{parentName:"p",href:"https://docs.unity3d.com/cn/2022.1/ScriptReference/ComputeBuffer.html"},"ComputeBuffer")," \u7c7b\uff0c\u8be5\u7c7b\u5c06\u5b9a\u4e49\u4efb\u610f\u6570\u636e\u7f13\u51b2\u533a\uff08\u5728 DX11 \u672f\u8bed\u4e2d\u79f0\u4e3a\u201c\u7ed3\u6784\u5316\u7f13\u51b2\u533a\u201d\uff09\u3002\u5982\u679c\u5df2\u8bbe\u7f6e\u201c\u968f\u673a\u8bbf\u95ee\u201d\u6807\u5fd7\uff08\u5728 DX11 \u4e2d\u79f0\u4e3a\u201c\u65e0\u5e8f\u8bbf\u95ee\u89c6\u56fe\u201d\uff09\uff0c\u4e5f\u53ef\u4ece\u8ba1\u7b97\u7740\u8272\u5668\u4e2d\u5199\u5165",(0,i.kt)("a",{parentName:"p",href:"https://docs.unity3d.com/cn/2022.1/ScriptReference/RenderTexture.html"},"\u6e32\u67d3\u7eb9\u7406"),"\u3002\u8bf7\u53c2\u9605 ",(0,i.kt)("a",{parentName:"p",href:"https://docs.unity3d.com/cn/2022.1/Manual/RenderTexture-enableRandomWrite.html"},"RenderTexture.enableRandomWrite")," \u4ee5\u4e86\u89e3\u4e0e\u6b64\u76f8\u5173\u7684\u66f4\u591a\u4fe1\u606f\u3002"),(0,i.kt)("h2",{id:"\u8ba1\u7b97\u7740\u8272\u5668\u4e2d\u7684\u7eb9\u7406\u91c7\u6837\u5668"},"\u8ba1\u7b97\u7740\u8272\u5668\u4e2d\u7684\u7eb9\u7406\u91c7\u6837\u5668"),(0,i.kt)("p",null,"\u7eb9\u7406\u548c\u91c7\u6837\u5668\u4e0d\u662f Unity \u4e2d\u7684\u5355\u72ec\u5bf9\u8c61\uff0c\u56e0\u6b64\u8981\u5728\u8ba1\u7b97\u7740\u8272\u5668\u4e2d\u4f7f\u7528\u5b83\u4eec\uff0c\u5fc5\u987b\u9075\u5faa\u4ee5\u4e0b Unity \u7279\u5b9a\u89c4\u5219\u4e4b\u4e00\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u4f7f\u7528\u4e0e\u7eb9\u7406\u540d\u79f0\u76f8\u540c\u7684\u540d\u79f0\uff0c\u4ee5 ",(0,i.kt)("inlineCode",{parentName:"li"},"sampler")," \u5f00\u5934\uff08\u4f8b\u5982\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"Texture2D MyTex"),"\uff1b",(0,i.kt)("inlineCode",{parentName:"li"},"SamplerState samplerMyTex"),"\uff09\u3002\u5728\u6b64\u60c5\u51b5\u4e0b\uff0c\u91c7\u6837\u5668\u5c06\u521d\u59cb\u5316\u4e3a\u7eb9\u7406\u7684\u8fc7\u6ee4/\u5305\u88f9/\u5404\u5411\u5f02\u6027 (filter/wrap/aniso) \u8bbe\u7f6e\u3002"),(0,i.kt)("li",{parentName:"ul"},"\u4f7f\u7528\u9884\u5b9a\u4e49\u91c7\u6837\u5668\u3002\u56e0\u6b64\uff0c\u8be5\u540d\u79f0\u5fc5\u987b\u5177\u6709 ",(0,i.kt)("inlineCode",{parentName:"li"},"Linear")," \u6216 ",(0,i.kt)("inlineCode",{parentName:"li"},"Point"),"\uff08\u5bf9\u4e8e\u8fc7\u6ee4\u6a21\u5f0f\uff09\u548c ",(0,i.kt)("inlineCode",{parentName:"li"},"Clamp")," \u6216 ",(0,i.kt)("inlineCode",{parentName:"li"},"Repeat"),"\uff08\u5305\u88f9\u6a21\u5f0f\uff09\u3002\u4f8b\u5982\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"SamplerState MyLinearClampSampler")," \u4f1a\u521b\u5efa\u4e00\u4e2a\u5177\u6709\u7ebf\u6027\u8fc7\u6ee4\u6a21\u5f0f\u548c\u94b3\u5236\u5305\u88f9\u6a21\u5f0f\u7684\u91c7\u6837\u5668\u3002")),(0,i.kt)("p",null,"\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605",(0,i.kt)("a",{parentName:"p",href:"/doc-unity-manual/docs/sl-shader-programs/sl-sampler-states"},"\u91c7\u6837\u5668\u72b6\u6001"),"\u6587\u6863\u3002"),(0,i.kt)("h2",{id:"\u8de8\u5e73\u53f0\u652f\u6301"},"\u8de8\u5e73\u53f0\u652f\u6301"),(0,i.kt)("p",null,"As with regular shaders, Unity is capable of ",(0,i.kt)("a",{parentName:"p",href:"/doc-unity-manual/docs/shader-compilation"},"translating")," compute shaders from HLSL to other shader languages. Therefore, for the easiest cross-platform builds, you should write compute shaders in HLSL. However, there are some factors that need to be considered when doing this."),(0,i.kt)("h3",{id:"\u8de8\u5e73\u53f0\u6700\u4f73\u5b9e\u8df5"},"\u8de8\u5e73\u53f0\u6700\u4f73\u5b9e\u8df5"),(0,i.kt)("p",null,"DirectX 11 (DX11) \u652f\u6301\u5728\u5176\u4ed6\u5e73\u53f0\uff08\u5982 ",(0,i.kt)("a",{parentName:"p",href:"https://developer.apple.com/metal/"},"Metal")," \u6216 ",(0,i.kt)("a",{parentName:"p",href:"https://www.opengl.org/"},"OpenGL ES"),"\uff09\u4e0a\u4e0d\u652f\u6301\u7684\u8bb8\u591a\u64cd\u4f5c\u3002\u56e0\u6b64\uff0c\u5e94\u59cb\u7ec8\u786e\u4fdd\u7740\u8272\u5668\u5728\u63d0\u4f9b\u66f4\u5c11\u652f\u6301\u7684\u5e73\u53f0\uff08\u800c\u4e0d\u662f\u4ec5\u5728 DX11 \u4e0a\uff09\u4e0a\u5177\u6709\u826f\u597d\u5b9a\u4e49\u7684\u884c\u4e3a\u3002\u4ee5\u4e0b\u662f\u8981\u8003\u8651\u7684\u4e00\u4e9b\u4e8b\u9879\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u8d8a\u754c\u5185\u5b58\u8bbf\u95ee\u662f\u9519\u8bef\u7684\u3002DX11 \u5728\u8bfb\u53d6\u65f6\u53ef\u80fd\u59cb\u7ec8\u8fd4\u56de\u96f6\uff0c\u5e76\u4e14\u5728\u8bfb\u53d6\u67d0\u4e9b\u5199\u5165\u65f6\u6ca1\u6709\u95ee\u9898\uff0c\u4f46\u63d0\u4f9b\u8f83\u5c11\u652f\u6301\u7684\u5e73\u53f0\u53ef\u80fd\u4f1a\u5728\u6267\u884c\u6b64\u64cd\u4f5c\u65f6\u5bfc\u81f4 GPU \u5d29\u6e83\u3002\u5bc6\u5207\u6ce8\u610f\u7279\u5b9a\u4e8e DX11 \u7684\u7834\u89e3\u95ee\u9898\uff0c\u4e0e\u7ebf\u7a0b\u7ec4\u5927\u5c0f\u500d\u6570\u4e0d\u5339\u914d\u7684\u7f13\u51b2\u533a\u5927\u5c0f\uff0c\u8bd5\u56fe\u4ece\u7f13\u51b2\u533a\u7684\u5f00\u5934\u6216\u7ed3\u5c3e\u8bfb\u53d6\u76f8\u90bb\u7684\u6570\u636e\u5143\u7d20\uff0c\u4ee5\u53ca\u7c7b\u4f3c\u7684\u4e0d\u517c\u5bb9\u6027\u3002"),(0,i.kt)("li",{parentName:"ul"},"\u521d\u59cb\u5316\u60a8\u7684\u8d44\u6e90\u3002\u65b0\u7f13\u51b2\u533a\u548c\u7eb9\u7406\u7684\u5185\u5bb9\u662f\u672a\u5b9a\u4e49\u7684\u3002\u6709\u4e9b\u5e73\u53f0\u53ef\u80fd\u4f1a\u63d0\u4f9b\u5168\u96f6\uff0c\u4f46\u5728\u5176\u4ed6\u5e73\u53f0\u4e0a\uff0c\u53ef\u80fd\u4f1a\u6709\u67d0\u79cd\u5185\u5bb9\uff08\u5305\u62ec\u975e\u6570\u5b57\uff09\u3002"),(0,i.kt)("li",{parentName:"ul"},"\u7ed1\u5b9a\u8ba1\u7b97\u7740\u8272\u5668\u58f0\u660e\u7684\u6240\u6709\u8d44\u6e90\u3002\u5373\u4f7f\u60a8\u786e\u5b9a\u7740\u8272\u5668\u5728\u5f53\u524d\u72b6\u6001\u4e0b\u7531\u4e8e\u5206\u652f\u800c\u6ca1\u6709\u4f7f\u7528\u8d44\u6e90\uff0c\u4ecd\u5fc5\u987b\u786e\u4fdd\u6709\u8d44\u6e90\u4e0e\u5176\u7ed1\u5b9a\u3002")),(0,i.kt)("h3",{id:"\u5e73\u53f0\u7279\u5b9a\u5dee\u5f02"},"\u5e73\u53f0\u7279\u5b9a\u5dee\u5f02"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://developer.apple.com/metal/"},"Metal"),"\uff08\u9002\u7528\u4e8e iOS \u548c tvOS \u5e73\u53f0\uff09\u4e0d\u652f\u6301\u5bf9\u7eb9\u7406\u7684\u539f\u5b50\u64cd\u4f5c\u3002Metal \u4e5f\u4e0d\u652f\u6301\u5bf9\u7f13\u51b2\u533a\u7684 ",(0,i.kt)("inlineCode",{parentName:"li"},"GetDimensions")," \u67e5\u8be2\u3002\u5982\u679c\u9700\u8981\uff0c\u8bf7\u5c06\u7f13\u51b2\u533a\u5927\u5c0f\u4fe1\u606f\u4f5c\u4e3a\u5e38\u91cf\u4f20\u9012\u7ed9\u7740\u8272\u5668\u3002"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://www.opengl.org/"},"OpenGL ES")," 3.1\uff08\u9002\u7528\u4e8e Android\u3001iOS\u3001tvOS \u5e73\u53f0\uff09\u4ec5\u4fdd\u8bc1\u4e00\u6b21\u652f\u6301 4 \u4e2a\u8ba1\u7b97\u7f13\u51b2\u533a\u3002\u5b9e\u9645\u7684\u5b9e\u73b0\u901a\u5e38\u652f\u6301\u66f4\u591a\u6570\u91cf\uff0c\u4f46\u5728\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u4e3a OpenGL ES \u8fdb\u884c\u5f00\u53d1\uff0c\u5e94\u8003\u8651\u5728\u7ed3\u6784\u4e2d\u5bf9\u76f8\u5173\u6570\u636e\u5206\u7ec4\uff0c\u800c\u4e0d\u662f\u5c06\u6bcf\u4e2a\u6570\u636e\u9879\u653e\u5728\u81ea\u5df1\u7684\u7f13\u51b2\u533a\u4e2d\u3002")),(0,i.kt)("h2",{id:"\u4ec5\u9650-hlsl-\u6216\u4ec5\u9650-glsl-\u7684\u8ba1\u7b97\u7740\u8272\u5668"},"\u4ec5\u9650 HLSL \u6216\u4ec5\u9650 GLSL \u7684\u8ba1\u7b97\u7740\u8272\u5668"),(0,i.kt)("p",null,"\u901a\u5e38\u60c5\u51b5\u4e0b\u4f1a\u4ee5 ",(0,i.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/High-Level_Shading_Language"},"HLSL")," \u7f16\u5199\u8ba1\u7b97\u7740\u8272\u5668\u6587\u4ef6\uff0c\u5e76\u81ea\u52a8\u5c06\u8fd9\u4e9b\u6587\u4ef6\u7f16\u8bd1\u6216\u8f6c\u6362\u5230\u6240\u6709\u9700\u8981\u7684\u5e73\u53f0\u4e2d\u3002\u4f46\u662f\uff0c\u53ef\u4ee5\u963b\u6b62\u8f6c\u6362\u4e3a\u5176\u4ed6\u8bed\u8a00\uff08\u5373\u4ec5\u4fdd\u7559 HLSL \u5e73\u53f0\uff09\u6216\u8005\u624b\u52a8\u7f16\u5199 ",(0,i.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/OpenGL_Shading_Language"},"GLSL")," \u8ba1\u7b97\u4ee3\u7801\u3002"),(0,i.kt)("p",null,"\u4ee5\u4e0b\u4fe1\u606f\u4ec5\u9002\u7528\u4e8e\u4ec5\u9650 HLSL \u6216\u4ec5\u9650 GLSL \u7684\u8ba1\u7b97\u7740\u8272\u5668\uff0c\u800c\u4e0d\u9002\u7528\u4e8e\u8de8\u5e73\u53f0\u7248\u672c\u3002\u8fd9\u662f\u56e0\u4e3a\u6b64\u4fe1\u606f\u53ef\u80fd\u5bfc\u81f4\u8ba1\u7b97\u7740\u8272\u5668\u6e90\u4ee3\u7801\u88ab\u6392\u9664\u5728\u67d0\u4e9b\u5e73\u53f0\u4e4b\u5916\u3002"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u5bf9\u4e8e\u975e HLSL \u5e73\u53f0\uff0c\u4e0d\u4f1a\u5904\u7406 ",(0,i.kt)("inlineCode",{parentName:"li"},"CGPROGRAM")," \u548c ",(0,i.kt)("inlineCode",{parentName:"li"},"ENDCG")," \u5173\u952e\u5b57\u5305\u56f4\u7684\u8ba1\u7b97\u7740\u8272\u5668\u6e90\u4ee3\u7801\u3002"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"GLSLPROGRAM")," \u548c ",(0,i.kt)("inlineCode",{parentName:"li"},"ENDGLSL")," \u5173\u952e\u5b57\u5305\u56f4\u7684\u8ba1\u7b97\u7740\u8272\u5668\u6e90\u4ee3\u7801\u89c6\u4e3a GLSL \u6e90\u4ee3\u7801\uff0c\u5e76\u9010\u5b57\u53d1\u51fa\u3002\u8fd9\u4ec5\u5728\u76ee\u6807\u5e73\u53f0\u4e3a OpenGL \u6216 GLSL \u5e73\u53f0\u65f6\u624d\u594f\u6548\u3002\u8fd8\u5e94\u6ce8\u610f\uff0c\u867d\u7136\u81ea\u52a8\u8f6c\u6362\u7684\u7740\u8272\u5668\u9075\u5faa\u7f13\u51b2\u533a\u4e0a\u7684 HLSL \u6570\u636e\u5e03\u5c40\uff0c\u4f46\u662f\u624b\u52a8\u7f16\u5199\u7684 GLSL \u7740\u8272\u5668\u5c06\u9075\u5faa GLSL \u5e03\u5c40\u89c4\u5219\u3002")),(0,i.kt)("h2",{id:"\u53d8\u4f53\u548c\u5173\u952e\u5b57"},"\u53d8\u4f53\u548c\u5173\u952e\u5b57"),(0,i.kt)("p",null,"You can use keywords to produce multiple variants of compute shaders, the same as you can for graphics shaders."),(0,i.kt)("p",null,"For general information on variants, see ",(0,i.kt)("a",{parentName:"p",href:"/doc-unity-manual/docs/shader-variants-and-keywords/shader-variants"},"Shader variants"),". For information on how to implement these features in compute shaders, see ",(0,i.kt)("a",{parentName:"p",href:"/doc-unity-manual/docs/shader-preprocessor-directives/sl-multiple-program-variants"},"Declaring and using shader keywords in HLSL")," and the ",(0,i.kt)("a",{parentName:"p",href:"https://docs.unity3d.com/cn/2022.1/ScriptReference/ComputeShader.html"},"ComputeShader API documentation"),"."))}c.isMDXComponent=!0}}]);