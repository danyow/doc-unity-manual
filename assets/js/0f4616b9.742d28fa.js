"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[92879],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return d}});var r=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=r.createContext({}),s=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=s(e.components);return r.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,c=e.parentName,u=a(e,["components","mdxType","originalType","parentName"]),m=s(n),d=i,k=m["".concat(c,".").concat(d)]||m[d]||p[d]||o;return n?r.createElement(k,l(l({ref:t},u),{},{components:n})):r.createElement(k,l({ref:t},u))}));function d(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,l=new Array(o);l[0]=m;var a={};for(var c in t)hasOwnProperty.call(t,c)&&(a[c]=t[c]);a.originalType=e,a.mdxType="string"==typeof e?e:i,l[1]=a;for(var s=2;s<o;s++)l[s]=n[s];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},16752:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return c},default:function(){return d},frontMatter:function(){return a},metadata:function(){return s},toc:function(){return p}});var r=n(87462),i=n(63366),o=(n(67294),n(3905)),l=["components"],a={id:"UIE-Click-Events",title:"Click events",slug:"/uie-events-reference/uie-click-events"},c="Click events",s={unversionedId:"uitoolkits/uielements/uie-events/uie-events-reference/UIE-Click-Events",id:"uitoolkits/uielements/uie-events/uie-events-reference/UIE-Click-Events",title:"Click events",description:"A ClickEvent occurs when the user clicks the left mouse button (or the first button on a pointing device) over a VisualElement.",source:"@site/docs/uitoolkits/uielements/uie-events/uie-events-reference/uie-click-events.md",sourceDirName:"uitoolkits/uielements/uie-events/uie-events-reference",slug:"/uie-events-reference/uie-click-events",permalink:"/doc-unity-manual/docs/uie-events-reference/uie-click-events",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/uitoolkits/uielements/uie-events/uie-events-reference/uie-click-events.md",tags:[],version:"current",frontMatter:{id:"UIE-Click-Events",title:"Click events",slug:"/uie-events-reference/uie-click-events"},sidebar:"tutorialSidebar",previous:{title:"\u66f4\u6539\u4e8b\u4ef6",permalink:"/doc-unity-manual/docs/uie-events-reference/uie-change-events"},next:{title:"\u547d\u4ee4\u4e8b\u4ef6",permalink:"/doc-unity-manual/docs/uie-events-reference/uie-command-events"}},u={},p=[{value:"\u72ec\u7279\u7684\u5c5e\u6027",id:"\u72ec\u7279\u7684\u5c5e\u6027",level:2},{value:"\u4e8b\u4ef6\u5217\u8868",id:"\u4e8b\u4ef6\u5217\u8868",level:2},{value:"ClickEvent",id:"clickevent",level:3},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:2}],m={toc:p};function d(e){var t=e.components,n=(0,i.Z)(e,l);return(0,o.kt)("wrapper",(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"click-events"},"Click events"),(0,o.kt)("p",null,"A ",(0,o.kt)("a",{parentName:"p",href:"https://docs.unity3d.com/cn/2022.1/ScriptReference/UIElements.ClickEvent.html"},"ClickEvent")," occurs when the user clicks the left mouse button (or the first button on a pointing device) over a VisualElement."),(0,o.kt)("p",null,"A click consists of a pointer down event followed by a pointer up event on the same VisualElement. The pointer is allowed to move between the two events, as long as the down and up events occur over the same VisualElement."),(0,o.kt)("p",null,"This event can be used to detect clicks on visual elements that aren\u2019t buttons. For example, the implementation of the ",(0,o.kt)("inlineCode",{parentName:"p"},"Toggle")," control uses the ",(0,o.kt)("inlineCode",{parentName:"p"},"ClickEvent")," to show or hide the check mark, and to change the control\u2019s value."),(0,o.kt)("p",null,"The base class for ",(0,o.kt)("inlineCode",{parentName:"p"},"ClickEvent")," is ",(0,o.kt)("a",{parentName:"p",href:"https://docs.unity3d.com/cn/2022.1/ScriptReference/UIElements.PointerEventBase_1.html"},"PointerEventBase"),". For more information please also see the documentation on ",(0,o.kt)("a",{parentName:"p",href:"/doc-unity-manual/docs/uie-events-reference/uie-pointer-events"},"Pointer Events"),"."),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"th"},"\u4e8b\u4ef6")),(0,o.kt)("th",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"th"},"\u63cf\u8ff0")),(0,o.kt)("th",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"th"},"\u6d93\u6ef4")),(0,o.kt)("th",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"th"},"\u5192\u6ce1")),(0,o.kt)("th",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"th"},"\u53ef\u53d6\u6d88")))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("a",{parentName:"td",href:"https://docs.unity3d.com/cn/2022.1/ScriptReference/UIElements.ClickEvent.html"},"ClickEvent")),(0,o.kt)("td",{parentName:"tr",align:null},"Occurs when the left mouse button is clicked."),(0,o.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,o.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,o.kt)("td",{parentName:"tr",align:null},"\u2714")))),(0,o.kt)("h2",{id:"\u72ec\u7279\u7684\u5c5e\u6027"},"\u72ec\u7279\u7684\u5c5e\u6027"),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"ClickEvent")," has no unique properties, but inherits all properties from its base class. You can find a list of properties on the ",(0,o.kt)("a",{parentName:"p",href:"/doc-unity-manual/docs/uie-events-reference/uie-pointer-events"},"Pointer Events")," page."),(0,o.kt)("h2",{id:"\u4e8b\u4ef6\u5217\u8868"},"\u4e8b\u4ef6\u5217\u8868"),(0,o.kt)("h3",{id:"clickevent"},"ClickEvent"),(0,o.kt)("p",null,"Unity sends this event when the left mouse button is clicked over a visual element."),(0,o.kt)("p",null," ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"target"))," : The element underneath the mouse or pointing device when the click occurred."),(0,o.kt)("p",null,"Use the following code to register for a ",(0,o.kt)("inlineCode",{parentName:"p"},"ClickEvent")," on a visual element:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"visualElement.RegisterCallback&lt;ClickEvent&gt;(OnClickEvent);\n")),(0,o.kt)("h2",{id:"\u793a\u4f8b"},"\u793a\u4f8b"),(0,o.kt)("p",null,"The following example shows how to react to the ClickEvent on a colored visual element. When an element is clicked, its color will change to a new, random color."),(0,o.kt)("p",null,"\u8981\u67e5\u770b\u793a\u4f8b\u8fd0\u884c\u6548\u679c\uff0c\u8bf7\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Create a new C# script called ClickEventExampleWindow. 2.\u5c06\u8be5\u793a\u4f8b\u4ee3\u7801\u590d\u5236\u5230 C# \u811a\u672c\u3002"),(0,o.kt)("li",{parentName:"ol"},"Under  ",(0,o.kt)("strong",{parentName:"li"},"Window ",">"," UI Toolkit ",">"," Click Event Example")," , open the newly created Editor window.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'using UnityEditor;\nusing UnityEngine;\nusing UnityEngine.UIElements;\n\npublic class ClickEventExampleWindow : EditorWindow\n{\n  [MenuItem("Window/UI Toolkit/ClickEventExample")]\n  public static void ShowExample()\n  {\n    var wnd = GetWindow&lt;ClickEventExampleWindow&gt;();\n    wnd.titleContent = new GUIContent("Click Event Example");\n  }\n\n  public void CreateGUI()\n  {\n    // Create a few different colored boxes\n    for (int i = 0; i &lt; 4; i++)\n    {\n      // Create VisualElement with random background color\n      var newBox = new VisualElement() { style = { flexGrow = 1, backgroundColor = GetRandomColor() } };\n      rootVisualElement.Add(newBox);\n\n      // Register a click event to the visual element to change the background color to a new color\n      newBox.RegisterCallback&lt;ClickEvent&gt;(OnBoxClicked);\n    }\n  }\n\n  private void OnBoxClicked(ClickEvent evt)\n  {\n    // Only perform this action at the target, not in a parent\n    if (evt.propagationPhase != PropagationPhase.AtTarget)\n      return;\n\n    // Assign a random new color\n    var targetBox = evt.target as VisualElement;\n    targetBox.style.backgroundColor = GetRandomColor();\n  }\n\n  private Color GetRandomColor()\n  {\n    return new Color(Random.Range(0, 1f), Random.Range(0, 1f), Random.Range(0, 1f));\n  }\n}\n')))}d.isMDXComponent=!0}}]);