"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[33420],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return h}});var r=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=r.createContext({}),s=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=s(e.components);return r.createElement(c.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,c=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=s(n),h=o,g=u["".concat(c,".").concat(h)]||u[h]||d[h]||a;return n?r.createElement(g,i(i({ref:t},p),{},{components:n})):r.createElement(g,i({ref:t},p))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=u;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var s=2;s<a;s++)i[s]=n[s];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},11195:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return c},default:function(){return h},frontMatter:function(){return l},metadata:function(){return s},toc:function(){return d}});var r=n(87462),o=n(63366),a=(n(67294),n(3905)),i=["components"],l={id:"light-probes-and-scene-loading",title:"\u5149\u7167\u63a2\u9488\u548c\u573a\u666f\u52a0\u8f7d",slug:"/light-probes/light-probes-and-scene-loading"},c="\u5149\u7167\u63a2\u9488\u548c\u573a\u666f\u52a0\u8f7d",s={unversionedId:"graphics/lighting-overview/light-probes/light-probes-and-scene-loading",id:"graphics/lighting-overview/light-probes/light-probes-and-scene-loading",title:"\u5149\u7167\u63a2\u9488\u548c\u573a\u666f\u52a0\u8f7d",description:"Unity \u4f1a\u6839\u636e\u60a8\u52a0\u8f7d\u6216\u5378\u8f7d\u573a\u666f\u7684\u65b9\u5f0f\u800c\u4ee5\u4e0d\u540c\u65b9\u5f0f\u66f4\u65b0\u5176\u5149\u7167\u63a2\u9488\u6570\u636e\u3002",source:"@site/docs/graphics/lighting-overview/light-probes/light-probes-and-scene-loading.md",sourceDirName:"graphics/lighting-overview/light-probes",slug:"/light-probes/light-probes-and-scene-loading",permalink:"/doc-unity-manual/docs/light-probes/light-probes-and-scene-loading",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/graphics/lighting-overview/light-probes/light-probes-and-scene-loading.md",tags:[],version:"current",frontMatter:{id:"light-probes-and-scene-loading",title:"\u5149\u7167\u63a2\u9488\u548c\u573a\u666f\u52a0\u8f7d",slug:"/light-probes/light-probes-and-scene-loading"},sidebar:"tutorialSidebar",previous:{title:"Light Probe Proxy Volume component",permalink:"/doc-unity-manual/docs/light-probes/class-light-probe-proxy-volume"},next:{title:"\u5149\u7167\u63a2\u9488\u548c\u7f51\u683c\u6e32\u67d3\u5668",permalink:"/doc-unity-manual/docs/light-probes/light-probes-mesh-renderer"}},p={},d=[],u={toc:d};function h(e){var t=e.components,n=(0,o.Z)(e,i);return(0,a.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"\u5149\u7167\u63a2\u9488\u548c\u573a\u666f\u52a0\u8f7d"},"\u5149\u7167\u63a2\u9488\u548c\u573a\u666f\u52a0\u8f7d"),(0,a.kt)("p",null,"Unity \u4f1a\u6839\u636e\u60a8\u52a0\u8f7d\u6216\u5378\u8f7d\u573a\u666f\u7684\u65b9\u5f0f\u800c\u4ee5\u4e0d\u540c\u65b9\u5f0f\u66f4\u65b0\u5176\u5149\u7167\u63a2\u9488\u6570\u636e\u3002"),(0,a.kt)("p",null,"Unity \u4f7f\u7528 ",(0,a.kt)("a",{parentName:"p",href:"https://docs.unity3d.com/cn/2022.1/ScriptReference/LightProbes.html"},"LightProbes")," C# \u5bf9\u8c61\u4e3a\u6240\u6709\u5f53\u524d\u52a0\u8f7d\u7684\u573a\u666f\u5b58\u50a8\u5149\u7167\u63a2\u9488\u6570\u636e\u3002",(0,a.kt)("inlineCode",{parentName:"p"},"LightProbes")," \u5bf9\u8c61\u5305\u542b\u4e00\u4e2a\u5185\u90e8\u6570\u636e\u7ed3\u6784\uff0c\u79f0\u4e3a\u56db\u9762\u4f53\u66f2\u9762\u7ec6\u5206\u3002Unity \u5728\u5176\u8ba1\u7b97\u4e2d\u4f7f\u7528\u56db\u9762\u4f53\u66f2\u9762\u7ec6\u5206\u6765\u786e\u5b9a\u5149\u7167\u63a2\u9488\u7167\u4eae\u6e38\u620f\u5bf9\u8c61\u7684\u65b9\u5f0f\u3002"),(0,a.kt)("p",null,"\u52a0\u8f7d\u6216\u5378\u8f7d\u573a\u666f\u65f6\uff0cUnity \u4f1a\u81ea\u52a8\u66f4\u65b0 ",(0,a.kt)("inlineCode",{parentName:"p"},"LightProbes")," \u5bf9\u8c61\uff0c\u4ee5\u5305\u542b\u6240\u6709\u5f53\u524d\u52a0\u8f7d\u7684\u573a\u666f\u4e2d\u6240\u6709\u5149\u7167\u63a2\u9488\u7684\u4f4d\u7f6e\u548c\u7cfb\u6570\u3002\u4f46\u662f\uff0cUnity \u662f\u5426\u66f4\u65b0\u56db\u9762\u4f53\u66f2\u9762\u7ec6\u5206\u53d6\u51b3\u4e8e\u52a0\u8f7d\u6216\u5378\u8f7d\u573a\u666f\u7684\u65b9\u5f0f\u3002"),(0,a.kt)("p",null,"When you load a Scene with ",(0,a.kt)("a",{parentName:"p",href:"https://docs.unity3d.com/cn/2022.1/ScriptReference/SceneManagement.LoadSceneMode.html"},"LoadSceneMode.Single"),", Unity updates the tetrahedral tessellation automatically as part of the load process, because the new light probe data completely replaces the previous light probe data."),(0,a.kt)("p",null,"When you load a Scene with ",(0,a.kt)("a",{parentName:"p",href:"https://docs.unity3d.com/cn/2022.1/ScriptReference/SceneManagement.LoadSceneMode.html"},"LoadSceneMode.Additive"),", or unload a Scene with ",(0,a.kt)("a",{parentName:"p",href:"https://docs.unity3d.com/cn/2022.1/ScriptReference/SceneManagement.SceneManager.UnloadSceneAsync.html"},"UnloadSceneAsync"),", Unity does not automatically update the tetrahedral tessellation, because the new or removed light probe data needs to be recalculated - which is a computationally expensive operation, and there may be subsequent scenes to be loaded or unloaded after this operation."),(0,a.kt)("p",null,"Therefore Unity provides you with the ",(0,a.kt)("a",{parentName:"p",href:"https://docs.unity3d.com/cn/2022.1/Manual/LightProbes-needsRetetrahedralization.html"},"needsRetetrahedralization")," event to allow you to decide when to retetrahedralize the new light probe data. For example, if you are additively loading five new scenes, you would not want to retetrahedralize the data five times, once after each scene loads. Instead, you would only want to retetrahedralize the data after all five scenes have loaded and all the new light probe data is ready."),(0,a.kt)("p",null,"\u5982\u679c Unity \u4f7f\u7528\u8fc7\u65f6\u7684\u56db\u9762\u4f53\u66f2\u9762\u7ec6\u5206\u6765\u6267\u884c\u8ba1\u7b97\uff0c\u5219\u7ed3\u679c\u5c06\u4e0d\u4f1a\u8003\u8651\u4efb\u4f55\u65b0\u52a0\u8f7d\u6216\u5378\u8f7d\u7684\u5149\u7167\u63a2\u9488\u3002\u8fd9\u610f\u5473\u7740\u5149\u7167\u63a2\u9488\u53ef\u80fd\u65e0\u6cd5\u6309\u9884\u671f\u7167\u4eae\u6e38\u620f\u5bf9\u8c61\uff0c\u800c\u4e14\u5bf9 ",(0,a.kt)("a",{parentName:"p",href:"https://docs.unity3d.com/cn/2022.1/ScriptReference/LightProbes.CalculateInterpolatedLightAndOcclusionProbes.html"},"LightProbes.CalculateInterpolatedLightAndOcclusionProbes()")," \u6216 ",(0,a.kt)("a",{parentName:"p",href:"https://docs.unity3d.com/cn/2022.1/ScriptReference/LightProbes.GetInterpolatedProbe.html"},"LightProbes.GetInterpolatedProbe()")," \u7684\u8c03\u7528\u53ef\u80fd\u4f1a\u8fd4\u56de\u610f\u5916\u7ed3\u679c\u3002"),(0,a.kt)("p",null,"\u8981\u5f3a\u5236 Unity \u66f4\u65b0\u56db\u9762\u4f53\u66f2\u9762\u7ec6\u5206\uff0c\u53ef\u4ee5\u8c03\u7528 ",(0,a.kt)("a",{parentName:"p",href:"https://docs.unity3d.com/cn/2022.1/ScriptReference/LightProbes.Tetrahedralize.html"},"LightProbes.Tetrahedralize")," \u6216 ",(0,a.kt)("a",{parentName:"p",href:"https://docs.unity3d.com/cn/2022.1/ScriptReference/LightProbes.TetrahedralizeAsync.html"},"LightProbes.TetrahedralizeAsync()"),"\u3002\u8fd9\u4e9b\u51fd\u6570\u4f7f Unity \u4f7f\u7528\u6240\u6709\u5f53\u524d\u52a0\u8f7d\u7684\u573a\u666f\u7684\u6240\u6709\u5149\u7167\u63a2\u9488\u4e2d\u7684\u6570\u636e\u6765\u66f4\u65b0\u56db\u9762\u4f53\u66f2\u9762\u7ec6\u5206\u3002"),(0,a.kt)("p",null,"\u66f4\u65b0\u56db\u9762\u4f53\u66f2\u9762\u7ec6\u5206\u662f\u4e00\u9879 CPU \u5bc6\u96c6\u578b\u64cd\u4f5c\uff0c\u5e76\u4e14\u968f\u7740\u5149\u7167\u63a2\u9488\u6570\u91cf\u7684\u589e\u52a0\uff0cCPU \u7684\u8d1f\u8f7d\u4e5f\u4f1a\u589e\u52a0\u3002\u5982\u679c\u8981\u52a0\u8f7d\u548c\u5378\u8f7d\u591a\u4e2a\u573a\u666f\uff0c\u5e76\u4e14\u7531\u4e8e\u66f4\u65b0\u56db\u9762\u4f53\u7ec6\u5206\u800c\u5bf9\u6027\u80fd\u4ea7\u751f\u4e86\u5f71\u54cd\uff0c\u90a3\u4e48\u6700\u597d\u662f\u5ef6\u8fdf\u66f4\u65b0\uff1a\u7b49\u5230\u52a0\u8f7d\u6216\u5378\u8f7d\u4e86\u4e00\u5b9a\u91cf\u7684\u5185\u5bb9\u6216\u8005\u7b49\u5230 CPU \u8d1f\u8f7d\u4e0d\u592a\u53ef\u80fd\u5f71\u54cd\u5e94\u7528\u7a0b\u5e8f\u6027\u80fd\u65f6\uff0c\u518d\u8fdb\u884c\u66f4\u65b0\u3002"))}h.isMDXComponent=!0}}]);