"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1129],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=p(n),m=a,h=d["".concat(l,".").concat(m)]||d[m]||u[m]||i;return n?r.createElement(h,o(o({ref:t},c),{},{components:n})):r.createElement(h,o({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var p=2;p<i;p++)o[p]=n[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},35757:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return l},default:function(){return m},frontMatter:function(){return s},metadata:function(){return p},toc:function(){return u}});var r=n(87462),a=n(63366),i=(n(67294),n(3905)),o=["components"],s={id:"BestPracticeUnderstandingPerformanceInUnity5",title:"\u5b57\u7b26\u4e32\u548c\u6587\u672c",slug:"/best-practice-understanding-performance-in-unity/best-practice-understanding-performance-in-unity5"},l="\u5b57\u7b26\u4e32\u548c\u6587\u672c",p={unversionedId:"unity-overview/analysis/best-practice-understanding-performance-in-unity/BestPracticeUnderstandingPerformanceInUnity5",id:"unity-overview/analysis/best-practice-understanding-performance-in-unity/BestPracticeUnderstandingPerformanceInUnity5",title:"\u5b57\u7b26\u4e32\u548c\u6587\u672c",description:"\u5b57\u7b26\u4e32\u548c\u6587\u672c\u7684\u5904\u7406\u4e0d\u5f53\u662f Unity \u9879\u76ee\u4e2d\u6027\u80fd\u95ee\u9898\u7684\u5e38\u89c1\u539f\u56e0\u3002\u5728 C# \u4e2d\uff0c\u6240\u6709\u5b57\u7b26\u4e32\u5747\u4e0d\u53ef\u53d8\u3002\u5bf9\u5b57\u7b26\u4e32\u7684\u4efb\u4f55\u64cd\u4f5c\u5747\u4f1a\u5bfc\u81f4\u5206\u914d\u4e00\u4e2a\u5b8c\u6574\u7684\u65b0\u5b57\u7b26\u4e32\u3002\u8fd9\u79cd\u64cd\u4f5c\u7684\u4ee3\u4ef7\u76f8\u5bf9\u6bd4\u8f83\u9ad8\uff0c\u800c\u4e14\u5728\u5927\u578b\u5b57\u7b26\u4e32\u4e0a\u3001\u5927\u578b\u6570\u636e\u96c6\u4e0a\u6216\u7d27\u51d1\u5faa\u73af\u4e2d\u6267\u884c\u65f6\uff0c\u63a5\u8fde\u4e0d\u65ad\u7684\u91cd\u590d\u7684\u5b57\u7b26\u4e32\u53ef\u80fd\u53d1\u5c55\u6210\u6027\u80fd\u95ee\u9898\u3002",source:"@site/docs/unity-overview/analysis/best-practice-understanding-performance-in-unity/best-practice-understanding-performance-in-unity5.md",sourceDirName:"unity-overview/analysis/best-practice-understanding-performance-in-unity",slug:"/best-practice-understanding-performance-in-unity/best-practice-understanding-performance-in-unity5",permalink:"/doc-unity-manual/docs/best-practice-understanding-performance-in-unity/best-practice-understanding-performance-in-unity5",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/unity-overview/analysis/best-practice-understanding-performance-in-unity/best-practice-understanding-performance-in-unity5.md",tags:[],version:"current",frontMatter:{id:"BestPracticeUnderstandingPerformanceInUnity5",title:"\u5b57\u7b26\u4e32\u548c\u6587\u672c",slug:"/best-practice-understanding-performance-in-unity/best-practice-understanding-performance-in-unity5"},sidebar:"tutorialSidebar",previous:{title:"\u8d44\u6e90\u5ba1\u6838",permalink:"/doc-unity-manual/docs/best-practice-understanding-performance-in-unity/best-practice-understanding-performance-in-unity4"},next:{title:"Resources \u6587\u4ef6\u5939",permalink:"/doc-unity-manual/docs/best-practice-understanding-performance-in-unity/best-practice-understanding-performance-in-unity6"}},c={},u=[{value:"\u533a\u57df\u7ea6\u675f\u4e0e\u5e8f\u6570\u6bd4\u5bf9",id:"\u533a\u57df\u7ea6\u675f\u4e0e\u5e8f\u6570\u6bd4\u5bf9",level:2},{value:"\u4f4e\u6548\u7684\u5185\u7f6e\u5b57\u7b26\u4e32 API",id:"\u4f4e\u6548\u7684\u5185\u7f6e\u5b57\u7b26\u4e32-api",level:2},{value:"\u6b63\u5219\u8868\u8fbe\u5f0f",id:"\u6b63\u5219\u8868\u8fbe\u5f0f",level:2},{value:"XML\u3001JSON \u548c\u5176\u4ed6\u957f\u683c\u5f0f\u6587\u672c\u89e3\u6790",id:"xmljson-\u548c\u5176\u4ed6\u957f\u683c\u5f0f\u6587\u672c\u89e3\u6790",level:2},{value:"\u65b9\u6848 1\uff1a\u5728\u6784\u5efa\u65f6\u89e3\u6790",id:"\u65b9\u6848-1\u5728\u6784\u5efa\u65f6\u89e3\u6790",level:3},{value:"\u65b9\u6848 2\uff1a\u62c6\u5206\u548c\u5ef6\u8fdf\u52a0\u8f7d",id:"\u65b9\u6848-2\u62c6\u5206\u548c\u5ef6\u8fdf\u52a0\u8f7d",level:3},{value:"\u65b9\u6848 3\uff1a\u7ebf\u7a0b",id:"\u65b9\u6848-3\u7ebf\u7a0b",level:3}],d={toc:u};function m(e){var t=e.components,n=(0,a.Z)(e,o);return(0,i.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"\u5b57\u7b26\u4e32\u548c\u6587\u672c"},"\u5b57\u7b26\u4e32\u548c\u6587\u672c"),(0,i.kt)("p",null,"\u5b57\u7b26\u4e32\u548c\u6587\u672c\u7684\u5904\u7406\u4e0d\u5f53\u662f Unity \u9879\u76ee\u4e2d\u6027\u80fd\u95ee\u9898\u7684\u5e38\u89c1\u539f\u56e0\u3002\u5728 C# \u4e2d\uff0c\u6240\u6709\u5b57\u7b26\u4e32\u5747\u4e0d\u53ef\u53d8\u3002\u5bf9\u5b57\u7b26\u4e32\u7684\u4efb\u4f55\u64cd\u4f5c\u5747\u4f1a\u5bfc\u81f4\u5206\u914d\u4e00\u4e2a\u5b8c\u6574\u7684\u65b0\u5b57\u7b26\u4e32\u3002\u8fd9\u79cd\u64cd\u4f5c\u7684\u4ee3\u4ef7\u76f8\u5bf9\u6bd4\u8f83\u9ad8\uff0c\u800c\u4e14\u5728\u5927\u578b\u5b57\u7b26\u4e32\u4e0a\u3001\u5927\u578b\u6570\u636e\u96c6\u4e0a\u6216\u7d27\u51d1\u5faa\u73af\u4e2d\u6267\u884c\u65f6\uff0c\u63a5\u8fde\u4e0d\u65ad\u7684\u91cd\u590d\u7684\u5b57\u7b26\u4e32\u53ef\u80fd\u53d1\u5c55\u6210\u6027\u80fd\u95ee\u9898\u3002"),(0,i.kt)("p",null,"\u6b64\u5916\uff0c\u7531\u4e8e N \u4e2a\u5b57\u7b26\u4e32\u8fde\u63a5\u9700\u8981\u5206\u914d N\u20131 \u4e2a\u4e2d\u95f4\u5b57\u7b26\u4e32\uff0c\u4e32\u884c\u8fde\u63a5\u4e5f\u53ef\u80fd\u6210\u4e3a\u6258\u7ba1\u5185\u5b58\u538b\u529b\u7684\u4e3b\u8981\u539f\u56e0\u3002"),(0,i.kt)("p",null,"\u5982\u679c\u5fc5\u987b\u5728\u7d27\u51d1\u5faa\u73af\u4e2d\u6216\u6bcf\u5e27\u671f\u95f4\u5bf9\u5b57\u7b26\u4e32\u8fdb\u884c\u8fde\u63a5\uff0c\u8bf7\u4f7f\u7528 StringBuilder \u6267\u884c\u5b9e\u9645\u8fde\u63a5\u64cd\u4f5c\u3002\u4e3a\u6700\u5927\u9650\u5ea6\u51cf\u5c11\u4e0d\u5fc5\u8981\u7684\u5185\u5b58\u5206\u914d\uff0c\u53ef\u91cd\u590d\u4f7f\u7528 StringBuilder \u5b9e\u4f8b\u3002"),(0,i.kt)("p",null,"Microsoft \u6574\u7406\u4e86\u4e00\u4efd\u5904\u7406 C# \u4e2d\u7684\u5b57\u7b26\u4e32\u7684\u6700\u4f73\u505a\u6cd5\u6e05\u5355\uff0c\u53ef\u5728\u8fd9\u91cc\u7684 MSDN \u7f51\u7ad9\u4e0a\u627e\u5230\u8be5\u6e05\u5355\uff1a",(0,i.kt)("a",{parentName:"p",href:"https://msdn.microsoft.com/en-us/library/dd465121(v=vs.110).aspx"},"msdn.microsoft.com"),"\u3002"),(0,i.kt)("h2",{id:"\u533a\u57df\u7ea6\u675f\u4e0e\u5e8f\u6570\u6bd4\u5bf9"},"\u533a\u57df\u7ea6\u675f\u4e0e\u5e8f\u6570\u6bd4\u5bf9"),(0,i.kt)("p",null,"\u5728\u4e0e\u5b57\u7b26\u4e32\u76f8\u5173\u7684\u4ee3\u7801\u4e2d\u7ecf\u5e38\u51fa\u73b0\u7684\u6838\u5fc3\u6027\u80fd\u95ee\u9898\u4e4b\u4e00\u662f\u65e0\u610f\u95f4\u4f7f\u7528\u4e86\u7f13\u6162\u7684\u9ed8\u8ba4\u5b57\u7b26\u4e32 API\u3002\u8fd9\u4e9b API \u662f\u4e3a\u5546\u4e1a\u5e94\u7528\u7a0b\u5e8f\u6784\u5efa\u7684\uff0c\u53ef\u6839\u636e\u4e0e\u6587\u672c\u5b57\u7b26\u6709\u5173\u7684\u591a\u79cd\u4e0d\u540c\u533a\u57df\u6027\u548c\u8bed\u8a00\u89c4\u5219\u6765\u5904\u7406\u5b57\u7b26\u4e32\u3002"),(0,i.kt)("p",null,"For example, the following example code returns true when run under the US-English locale, but returns false for many European locales."),(0,i.kt)("p",null," ",(0,i.kt)("strong",{parentName:"p"},"Note")," : As of Unity 5.3 and 5.4, Unity\u2019s scripting runtimes always run under the US English (en-US) locale:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'    String.Equals("encyclopedia", "encyclop\xe6dia");\n')),(0,i.kt)("p",null,"For most Unity projects, this is entirely unnecessary. It\u2019s roughly ten times faster to use the ordinal comparison type, which compares strings in a manner familiar to C and C++ programmers: by simply comparing each sequential byte of the string, without regard for the character represented by that byte."),(0,i.kt)("p",null,"\u5207\u6362\u81f3\u5e8f\u6570\u6bd4\u5bf9\u7684\u65b9\u5f0f\u975e\u5e38\u7b80\u5355\uff0c\u53ea\u9700\u5c06 ",(0,i.kt)("inlineCode",{parentName:"p"},"StringComparison.Ordinal")," \u4f5c\u4e3a\u6700\u7ec8\u53c2\u6570\u63d0\u4f9b\u7ed9 ",(0,i.kt)("inlineCode",{parentName:"p"},"String.Equals"),"\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"myString.Equals(otherString, StringComparison.Ordinal);\n\n")),(0,i.kt)("h2",{id:"\u4f4e\u6548\u7684\u5185\u7f6e\u5b57\u7b26\u4e32-api"},"\u4f4e\u6548\u7684\u5185\u7f6e\u5b57\u7b26\u4e32 API"),(0,i.kt)("p",null,"Beyond switching to ordinal comparisons, certain C# ",(0,i.kt)("inlineCode",{parentName:"p"},"String")," APIs are known to be extremely inefficient. Among these are ",(0,i.kt)("inlineCode",{parentName:"p"},"String.Format"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"String.StartsWith")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"String.EndsWith"),". ",(0,i.kt)("inlineCode",{parentName:"p"},"String.Format")," is difficult to replace, but the inefficient string comparison methods are trivially optimized away."),(0,i.kt)("p",null,"While Microsoft\u2019s recommendation is to pass ",(0,i.kt)("inlineCode",{parentName:"p"},"StringComparison.Ordinal")," into any string comparison that doesn\u2019t need to be adjusted for localization, Unity benchmarks show that the impact of this is relatively minimal compared to a custom implementation."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"\u65b9\u6cd5"),(0,i.kt)("th",{parentName:"tr",align:null},"100k \u77ed\u5b57\u7b26\u4e32\u7684\u65f6\u95f4\uff08\u6beb\u79d2\uff09"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"String.StartsWith"),"\uff0c\u9ed8\u8ba4\u533a\u57df\u6027"),(0,i.kt)("td",{parentName:"tr",align:null},"137")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"String.EndsWith"),", default culture"),(0,i.kt)("td",{parentName:"tr",align:null},"542")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"String.StartsWith"),"\uff0c\u5e8f\u6570"),(0,i.kt)("td",{parentName:"tr",align:null},"115")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"String.EndsWith"),"\uff0c\u5e8f\u6570"),(0,i.kt)("td",{parentName:"tr",align:null},"34")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u81ea\u5b9a\u4e49 ",(0,i.kt)("inlineCode",{parentName:"td"},"StartsWith")," \u66ff\u6362"),(0,i.kt)("td",{parentName:"tr",align:null},"4.5")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u81ea\u5b9a\u4e49 ",(0,i.kt)("inlineCode",{parentName:"td"},"EndsWith")," \u66ff\u6362"),(0,i.kt)("td",{parentName:"tr",align:null},"4.5")))),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"String.StartsWith")," \u548c ",(0,i.kt)("inlineCode",{parentName:"p"},"String.EndsWith")," \u5747\u53ef\u4ee5\u66ff\u6362\u4e3a\u7c7b\u4f3c\u4e8e\u4ee5\u4e0b\u793a\u4f8b\u7684\u7b80\u5355\u7684\u624b\u5de5\u7f16\u7801\u7248\u672c\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"\n    public static bool CustomEndsWith(this string a, string b)\n        {\n        int ap = a.Length - 1;\n        int bp = b.Length - 1;\n    \n        while (ap &gt;= 0 && bp &gt;= 0 && a [ap] == b [bp])\n        {\n            ap--;\n            bp--;\n        }\n    \n        return (bp &lt; 0);\n        }\n\n        public static bool CustomStartsWith(this string a, string b)\n        {\n        int aLen = a.Length;\n        int bLen = b.Length;\n    \n        int ap = 0; int bp = 0;\n    \n        while (ap &lt; aLen && bp &lt; bLen && a [ap] == b [bp])\n        {\n            ap++;\n            bp++;\n        }\n    \n        return (bp == bLen);\n        }\n\n")),(0,i.kt)("h2",{id:"\u6b63\u5219\u8868\u8fbe\u5f0f"},"\u6b63\u5219\u8868\u8fbe\u5f0f"),(0,i.kt)("p",null,"While Regular Expressions are a powerful way to match and manipulate strings, they can be extremely performance-intensive. Further, due to the C# library\u2019s implementation of Regular Expressions, even simple Boolean ",(0,i.kt)("inlineCode",{parentName:"p"},"IsMatch")," queries allocate large transient datastructures \u201cunder the hood.\u201d This transient managed memory churn should be deemed unacceptable, except during initialization."),(0,i.kt)("p",null,"If regular expressions are necessary, it\u2019s strongly recommended to not use the static ",(0,i.kt)("inlineCode",{parentName:"p"},"Regex.Match")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"Regex.Replace")," methods, which accept the regular expression as a string parameter. These methods compile the regular expression on-the-fly and don\u2019t cache the generated object."),(0,i.kt)("p",null,"\u4ee5\u4e0b\u793a\u4f8b\u4ee3\u7801\u4e3a\u65e0\u5bb3\u7684\u5355\u884c\u4ee3\u7801\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'\nRegex.Match(myString, "foo");\n\n')),(0,i.kt)("p",null,"\u4f46\u662f\uff0c\u8be5\u4ee3\u7801\u6bcf\u6b21\u6267\u884c\u65f6\u4f1a\u4ea7\u751f 5 KB \u7684\u5783\u573e\u3002\u901a\u8fc7\u7b80\u5355\u7684\u91cd\u6784\u5373\u53ef\u6d88\u9664\u5176\u4e2d\u7684\u5927\u90e8\u5206\u5783\u573e\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'\nvar myRegExp = new Regex("foo");\n\nmyRegExp.Match(myString);\n\n')),(0,i.kt)("p",null,"In this example, each call to ",(0,i.kt)("inlineCode",{parentName:"p"},"myRegExp.Match")," \u201conly\u201d results in 320 bytes of garbage. While this is still expensive for a simple matching operation, it\u2019s a considerable improvement over the previous example."),(0,i.kt)("p",null,"Therefore, if the regular expressions are invariant string literals, it\u2019s considerably more efficient to precompile them by passing them as the first parameter of the Regex object\u2019s constructor. These precompiled Regexes should then be reused."),(0,i.kt)("h2",{id:"xmljson-\u548c\u5176\u4ed6\u957f\u683c\u5f0f\u6587\u672c\u89e3\u6790"},"XML\u3001JSON \u548c\u5176\u4ed6\u957f\u683c\u5f0f\u6587\u672c\u89e3\u6790"),(0,i.kt)("p",null,"Parsing text is often one of the heaviest operations that occurs at loading time. Sometimes, the time spent parsing text can outweigh the time spent loading and instantiating Assets."),(0,i.kt)("p",null,"The reasons behind this depend on the specific parser used. C#\u2019s built-in XML parser is extremely flexible, but as a result, it\u2019s not optimizable for specific data layouts."),(0,i.kt)("p",null,"Many third-party parsers are built on reflection. While reflection is an excellent choice during development (because it allows the parser to rapidly adapt to changing data layouts), it\u2019s notoriously slow."),(0,i.kt)("p",null,"Unity has introduced a partial solution with its built-in ",(0,i.kt)("a",{parentName:"p",href:"https://docs.unity3d.com/cn/2022.1/ScriptReference/JsonUtility.html"},"JSONUtility")," API, which provides an interface to Unity\u2019s serialization system that reads/emits JSON. In most benchmarks, it\u2019s faster than pure C# JSON parsers, but it has the same limitations as other interfaces to Unity\u2019s serialization system \u2013 it can\u2019t serialized many complex data types, such as Dictionaries, without additional code."),(0,i.kt)("p",null," ",(0,i.kt)("strong",{parentName:"p"},"Note")," : See the ",(0,i.kt)("a",{parentName:"p",href:"https://docs.unity3d.com/cn/2022.1/ScriptReference/ISerializationCallbackReceiver.html"},"ISerializationCallbackReceiver")," interface for one way to add the additional processing necessary to convert to/from complex data types during Unity\u2019s serialization process."),(0,i.kt)("p",null,"\u5f53\u9047\u5230\u6587\u672c\u6570\u636e\u89e3\u6790\u6240\u5f15\u8d77\u7684\u6027\u80fd\u95ee\u9898\u65f6\uff0c\u8bf7\u8003\u8651\u4e09\u79cd\u66ff\u4ee3\u89e3\u51b3\u65b9\u6848\u3002"),(0,i.kt)("h3",{id:"\u65b9\u6848-1\u5728\u6784\u5efa\u65f6\u89e3\u6790"},"\u65b9\u6848 1\uff1a\u5728\u6784\u5efa\u65f6\u89e3\u6790"),(0,i.kt)("p",null,"\u907f\u514d\u6587\u672c\u89e3\u6790\u6210\u672c\u7684\u6700\u4f73\u65b9\u6cd5\u662f\u5b8c\u5168\u53d6\u6d88\u8fd0\u884c\u65f6\u6587\u672c\u89e3\u6790\u3002\u901a\u5e38\uff0c\u8fd9\u610f\u5473\u7740\u901a\u8fc7\u67d0\u79cd\u6784\u5efa\u6b65\u9aa4\u5c06\u6587\u672c\u6570\u636e\u201c\u70d8\u7119\u201d\u6210\u4e8c\u8fdb\u5236\u683c\u5f0f\u3002"),(0,i.kt)("p",null,"\u5927\u591a\u6570\u9009\u62e9\u4f7f\u7528\u8be5\u65b9\u6cd5\u7684\u5f00\u53d1\u8005\u4f1a\u5c06\u5176\u6570\u636e\u79fb\u52a8\u5230\u67d0\u79cd ScriptableObject \u884d\u751f\u7684\u7c7b\u5c42\u7ea7\u89c6\u56fe\u4e2d\uff0c\u7136\u540e\u901a\u8fc7 AssetBundle \u5206\u914d\u6570\u636e\u3002\u6709\u5173\u4f7f\u7528 ScriptableObjects \u7684\u7cbe\u5f69\u8ba8\u8bba\uff0c\u8bf7\u53c2\u9605 youtube \u4e0a ",(0,i.kt)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=VBA1QCoEAX4"},"Richard Fine \u7684 Unite 2016 \u8bb2\u5ea7"),"\u3002"),(0,i.kt)("p",null,"This strategy offers the best possible performance, but is only suitable for data that doesn\u2019t need to be generated dynamically. it\u2019s best suited for game design parameters and other content."),(0,i.kt)("h3",{id:"\u65b9\u6848-2\u62c6\u5206\u548c\u5ef6\u8fdf\u52a0\u8f7d"},"\u65b9\u6848 2\uff1a\u62c6\u5206\u548c\u5ef6\u8fdf\u52a0\u8f7d"),(0,i.kt)("p",null,"\u7b2c\u4e8c\u79cd\u53ef\u884c\u7684\u65b9\u6cd5\u662f\u5c06\u5fc5\u987b\u89e3\u6790\u7684\u6570\u636e\u62c6\u5206\u4e3a\u8f83\u5c0f\u7684\u6570\u636e\u5757\u3002\u62c6\u5206\u540e\uff0c\u89e3\u6790\u6570\u636e\u7684\u6210\u672c\u53ef\u5206\u644a\u5230\u591a\u4e2a\u5e27\u3002\u5728\u7406\u60f3\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u8bc6\u522b\u51fa\u4e3a\u7528\u6237\u63d0\u4f9b\u6240\u9700\u4f53\u9a8c\u800c\u9700\u8981\u7684\u7279\u5b9a\u6570\u636e\u90e8\u5206\uff0c\u7136\u540e\u53ea\u52a0\u8f7d\u8fd9\u4e9b\u90e8\u5206\u3002"),(0,i.kt)("p",null,"\u4e3e\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\uff1a\u5982\u679c\u9879\u76ee\u4e3a\u5e73\u53f0\u6e38\u620f\uff0c\u5219\u6ca1\u5fc5\u8981\u5c06\u6240\u6709\u5173\u5361\u7684\u6570\u636e\u4e00\u8d77\u5e8f\u5217\u3002\u5982\u679c\u5c06\u6570\u636e\u62c6\u5206\u4e3a\u6bcf\u4e2a\u5173\u5361\u7684\u72ec\u7acb\u8d44\u6e90\uff0c\u5e76\u4e14\u5c06\u5173\u5361\u5212\u5206\u5230\u533a\u57df\u4e2d\uff0c\u5219\u53ef\u4ee5\u5728\u73a9\u5bb6\u95ef\u5173\u5230\u76f8\u5e94\u4f4d\u7f6e\u65f6\u518d\u89e3\u6790\u6570\u636e\u3002"),(0,i.kt)("p",null,"\u867d\u7136\u8fd9\u542c\u8d77\u6765\u4e0d\u96be\uff0c\u4f46\u5b9e\u9645\u4e0a\u9700\u8981\u5728\u5de5\u5177\u7f16\u7801\u65b9\u9762\u6295\u5165\u5927\u91cf\u7cbe\u529b\uff0c\u5e76\u53ef\u80fd\u9700\u8981\u91cd\u7ec4\u6570\u636e\u7ed3\u6784\u3002"),(0,i.kt)("h3",{id:"\u65b9\u6848-3\u7ebf\u7a0b"},"\u65b9\u6848 3\uff1a\u7ebf\u7a0b"),(0,i.kt)("p",null,"For data that\u2019s parsed entirely into plain C# objects, and doesn\u2019t require any interaction with Unity APIs, it\u2019s possible to move the parsing operations to worker threads."),(0,i.kt)("p",null,"This option can be extremely powerful on platforms with a significant number of cores. However, it requires careful programming to avoid creating deadlocks and race conditions."),(0,i.kt)("p",null," ",(0,i.kt)("strong",{parentName:"p"},"Note")," : iOS devices have at most 2 cores. Most Android devices have from 2 to 4. This technique of more interest when building for standalone and console build targets."),(0,i.kt)("p",null,"Projects that choose to implement threading use the built-in C# ",(0,i.kt)("a",{parentName:"p",href:"https://msdn.microsoft.com/en-us/library/system.threading.thread(v=vs.110).aspx"},"Thread")," and ",(0,i.kt)("a",{parentName:"p",href:"https://msdn.microsoft.com/en-us/library/system.threading.threadpool(v=vs.110).aspx"},"ThreadPool")," classes (see ",(0,i.kt)("a",{parentName:"p",href:"https://msdn.microsoft.com/en-us/library/system.threading.thread(v=vs.110).aspx"},"msdn.microsoft.com"),") to manage their worker threads, along with the standard C# synchronization classes."))}m.isMDXComponent=!0}}]);