"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[65370],{3905:function(e,n,t){t.d(n,{Zo:function(){return u},kt:function(){return d}});var a=t(67294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var c=a.createContext({}),m=function(e){var n=a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},u=function(e){var n=m(e.components);return a.createElement(c.Provider,{value:n},e.children)},s={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},p=a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,r=e.originalType,c=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),p=m(t),d=i,h=p["".concat(c,".").concat(d)]||p[d]||s[d]||r;return t?a.createElement(h,l(l({ref:n},u),{},{components:t})):a.createElement(h,l({ref:n},u))}));function d(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var r=t.length,l=new Array(r);l[0]=p;var o={};for(var c in n)hasOwnProperty.call(n,c)&&(o[c]=n[c]);o.originalType=e,o.mdxType="string"==typeof e?e:i,l[1]=o;for(var m=2;m<r;m++)l[m]=t[m];return a.createElement.apply(null,l)}return a.createElement.apply(null,t)}p.displayName="MDXCreateElement"},43714:function(e,n,t){t.r(n),t.d(n,{assets:function(){return u},contentTitle:function(){return c},default:function(){return d},frontMatter:function(){return o},metadata:function(){return m},toc:function(){return s}});var a=t(87462),i=t(63366),r=(t(67294),t(3905)),l=["components"],o={id:"DynamicResolution",title:"\u52a8\u6001\u5206\u8fa8\u7387",slug:"/dynamic-resolution"},c="\u52a8\u6001\u5206\u8fa8\u7387",m={unversionedId:"graphics/cameras-overview/dynamic-resolution/DynamicResolution",id:"graphics/cameras-overview/dynamic-resolution/DynamicResolution",title:"\u52a8\u6001\u5206\u8fa8\u7387",description:"\u52a8\u6001\u5206\u8fa8\u7387\u662f\u4e00\u79cd\u6444\u50cf\u673a\u8bbe\u7f6e\uff0c\u5141\u8bb8\u52a8\u6001\u7f29\u653e\u5355\u4e2a\u6e32\u67d3\u76ee\u6807\uff0c\u4ee5\u4fbf\u51cf\u5c11 GPU \u4e0a\u7684\u5de5\u4f5c\u8d1f\u8f7d\u3002\u5728\u5e94\u7528\u7a0b\u5e8f\u7684\u5e27\u7387\u964d\u4f4e\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u9010\u6e10\u7f29\u5c0f\u5206\u8fa8\u7387\u6765\u4fdd\u6301\u5e27\u7387\u7a33\u5b9a\u3002\u5982\u679c\u6027\u80fd\u6570\u636e\u8868\u660e\u7531\u4e8e\u5e94\u7528\u7a0b\u5e8f\u53d7 GPU \u9650\u5236\u800c\u5bfc\u81f4\u5e27\u7387\u5373\u5c06\u964d\u4f4e\uff0c\u5219 Unity \u4f1a\u89e6\u53d1\u6b64\u7f29\u653e\u3002\u8fd8\u53ef\u4ee5\u624b\u52a8\u89e6\u53d1\u7f29\u653e\uff0c\u65b9\u6cd5\u662f\u62a2\u5360\u5e94\u7528\u7a0b\u5e8f\u4e2d GPU \u8d44\u6e90\u6d88\u8017\u7279\u522b\u9ad8\u7684\u90e8\u5206\uff0c\u5e76\u901a\u8fc7\u811a\u672c\u63a7\u5236\u7f29\u653e\u3002\u5982\u679c\u7f29\u653e\u9010\u6e10\u8fdb\u884c\uff0c\u52a8\u6001\u5206\u8fa8\u7387\u51e0\u4e4e\u4e0d\u53ef\u5bdf\u89c9\u3002",source:"@site/docs/graphics/cameras-overview/dynamic-resolution/dynamic-resolution.md",sourceDirName:"graphics/cameras-overview/dynamic-resolution",slug:"/dynamic-resolution",permalink:"/doc-unity-manual/docs/dynamic-resolution",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/graphics/cameras-overview/dynamic-resolution/dynamic-resolution.md",tags:[],version:"current",frontMatter:{id:"DynamicResolution",title:"\u52a8\u6001\u5206\u8fa8\u7387",slug:"/dynamic-resolution"},sidebar:"tutorialSidebar",previous:{title:"Deep learning super sampling",permalink:"/doc-unity-manual/docs/cameras-overview/deep-learning-super-sampling"},next:{title:"FrameTimingManager",permalink:"/doc-unity-manual/docs/dynamic-resolution/frame-timing-manager"}},u={},s=[{value:"\u6e32\u67d3\u7ba1\u7ebf\u517c\u5bb9\u6027",id:"\u6e32\u67d3\u7ba1\u7ebf\u517c\u5bb9\u6027",level:2},{value:"\u652f\u6301\u7684\u5e73\u53f0",id:"\u652f\u6301\u7684\u5e73\u53f0",level:2},{value:"\u5bf9\u6e32\u67d3\u76ee\u6807\u7684\u5f71\u54cd",id:"\u5bf9\u6e32\u67d3\u76ee\u6807\u7684\u5f71\u54cd",level:2},{value:"\u7f29\u653e\u6e32\u67d3\u76ee\u6807",id:"\u7f29\u653e\u6e32\u67d3\u76ee\u6807",level:2},{value:"MRT \u7f13\u51b2\u533a",id:"mrt-\u7f13\u51b2\u533a",level:2},{value:"\u63a7\u5236\u7f29\u653e",id:"\u63a7\u5236\u7f29\u653e",level:2},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:2},{value:"\u53e6\u8bf7\u53c2\u9605",id:"\u53e6\u8bf7\u53c2\u9605",level:2}],p={toc:s};function d(e){var n=e.components,t=(0,i.Z)(e,l);return(0,r.kt)("wrapper",(0,a.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"\u52a8\u6001\u5206\u8fa8\u7387"},"\u52a8\u6001\u5206\u8fa8\u7387"),(0,r.kt)("p",null,"\u52a8\u6001\u5206\u8fa8\u7387\u662f\u4e00\u79cd\u6444\u50cf\u673a\u8bbe\u7f6e\uff0c\u5141\u8bb8\u52a8\u6001\u7f29\u653e\u5355\u4e2a\u6e32\u67d3\u76ee\u6807\uff0c\u4ee5\u4fbf\u51cf\u5c11 GPU \u4e0a\u7684\u5de5\u4f5c\u8d1f\u8f7d\u3002\u5728\u5e94\u7528\u7a0b\u5e8f\u7684\u5e27\u7387\u964d\u4f4e\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u9010\u6e10\u7f29\u5c0f\u5206\u8fa8\u7387\u6765\u4fdd\u6301\u5e27\u7387\u7a33\u5b9a\u3002\u5982\u679c\u6027\u80fd\u6570\u636e\u8868\u660e\u7531\u4e8e\u5e94\u7528\u7a0b\u5e8f\u53d7 GPU \u9650\u5236\u800c\u5bfc\u81f4\u5e27\u7387\u5373\u5c06\u964d\u4f4e\uff0c\u5219 Unity \u4f1a\u89e6\u53d1\u6b64\u7f29\u653e\u3002\u8fd8\u53ef\u4ee5\u624b\u52a8\u89e6\u53d1\u7f29\u653e\uff0c\u65b9\u6cd5\u662f\u62a2\u5360\u5e94\u7528\u7a0b\u5e8f\u4e2d GPU \u8d44\u6e90\u6d88\u8017\u7279\u522b\u9ad8\u7684\u90e8\u5206\uff0c\u5e76\u901a\u8fc7\u811a\u672c\u63a7\u5236\u7f29\u653e\u3002\u5982\u679c\u7f29\u653e\u9010\u6e10\u8fdb\u884c\uff0c\u52a8\u6001\u5206\u8fa8\u7387\u51e0\u4e4e\u4e0d\u53ef\u5bdf\u89c9\u3002"),(0,r.kt)("h2",{id:"\u6e32\u67d3\u7ba1\u7ebf\u517c\u5bb9\u6027"},"\u6e32\u67d3\u7ba1\u7ebf\u517c\u5bb9\u6027"),(0,r.kt)("p",null,"Dynamic resolution support depends on which ",(0,r.kt)("a",{parentName:"p",href:"/doc-unity-manual/docs/render-pipelines"},"render pipeline")," your project uses."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"\u529f\u80fd")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"\u5185\u7f6e\u6e32\u67d3\u7ba1\u7ebf")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"\u901a\u7528\u6e32\u67d3\u7ba1\u7ebf (URP)")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"\u9ad8\u6e05\u6e32\u67d3\u7ba1\u7ebf (HDRP)")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"\u52a8\u6001\u5206\u8fa8\u7387")),(0,r.kt)("td",{parentName:"tr",align:null},"\u662f (1)"),(0,r.kt)("td",{parentName:"tr",align:null},"\u662f (1)"),(0,r.kt)("td",{parentName:"tr",align:null},"\u662f (2)")))),(0,r.kt)("p",null," ",(0,r.kt)("strong",{parentName:"p"},"\u6ce8\u610f")," \uff1a"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"The ",(0,r.kt)("a",{parentName:"li",href:"/doc-unity-manual/docs/built-in-render-pipeline"},"Built-in Render Pipeline"),", and the ",(0,r.kt)("a",{parentName:"li",href:"/doc-unity-manual/docs/render-pipelines/universal-render-pipeline"},"Universal Render Pipeline (URP)")," both support dynamic resolution as described in this document."),(0,r.kt)("li",{parentName:"ol"},"The ",(0,r.kt)("a",{parentName:"li",href:"/doc-unity-manual/docs/render-pipelines/high-definition-render-pipeline"},"High Definition Render Pipeline (HDRP)")," supports dynamic resolution, but you enable and use it in a different way. For information on dynamic resolution in HDRP, see ",(0,r.kt)("a",{parentName:"li",href:"https://docs.unity3d.com/Packages/com.unity.render-pipelines.high-definition@latest?subfolder=/manual/Dynamic-Resolution.html"},"Dynamic resoluton in HDRP"),".")),(0,r.kt)("h2",{id:"\u652f\u6301\u7684\u5e73\u53f0"},"\u652f\u6301\u7684\u5e73\u53f0"),(0,r.kt)("p",null,"Unity supports dynamic resolution on iOS, macOS and tvOS (Metal only), Android (Vulkan only), Windows Standalone and UWP (DirectX 12 only)."),(0,r.kt)("h2",{id:"\u5bf9\u6e32\u67d3\u76ee\u6807\u7684\u5f71\u54cd"},"\u5bf9\u6e32\u67d3\u76ee\u6807\u7684\u5f71\u54cd"),(0,r.kt)("p",null,"\u4f7f\u7528\u52a8\u6001\u5206\u8fa8\u7387\uff0cUnity \u4e0d\u4f1a\u91cd\u65b0\u5206\u914d\u6e32\u67d3\u76ee\u6807\u3002\u4ece\u6982\u5ff5\u4e0a\u8bb2\uff0cUnity \u4f1a\u7f29\u653e\u6e32\u67d3\u76ee\u6807\uff1b\u4f46\u5b9e\u9645\u4e0a\uff0cUnity \u4f7f\u7528\u952f\u9f7f\uff0c\u800c\u4e14\u7f29\u5c0f\u7684\u6e32\u67d3\u76ee\u6807\u4ec5\u4f7f\u7528\u539f\u59cb\u6e32\u67d3\u76ee\u6807\u7684\u4e00\u5c0f\u90e8\u5206\u3002Unity \u4ee5\u5168\u5206\u8fa8\u7387\u5206\u914d\u6e32\u67d3\u76ee\u6807\uff0c\u7136\u540e\u52a8\u6001\u5206\u8fa8\u7387\u7cfb\u7edf\u4f1a\u7f29\u5c0f\u6e32\u67d3\u76ee\u6807\u5e76\u518d\u6b21\u5907\u4efd\uff0c\u4f7f\u7528\u7684\u662f\u539f\u59cb\u76ee\u6807\u7684\u4e00\u90e8\u5206\u800c\u4e0d\u662f\u91cd\u65b0\u5206\u914d\u65b0\u76ee\u6807\u3002"),(0,r.kt)("h2",{id:"\u7f29\u653e\u6e32\u67d3\u76ee\u6807"},"\u7f29\u653e\u6e32\u67d3\u76ee\u6807"),(0,r.kt)("p",null,"\u4f7f\u7528\u52a8\u6001\u5206\u8fa8\u7387\u65f6\uff0c\u6e32\u67d3\u76ee\u6807\u5177\u6709 ",(0,r.kt)("a",{parentName:"p",href:"https://docs.unity3d.com/cn/2022.1/ScriptReference/RenderTextureCreationFlags.DynamicallyScalable.html"},"DynamicallyScalable")," \u6807\u5fd7\u3002\u53ef\u901a\u8fc7\u8bbe\u7f6e\u6b64\u6807\u5fd7\u6765\u6307\u660e Unity \u662f\u5426\u5e94\u8be5\u5c06\u6b64\u6e32\u67d3\u7eb9\u7406\u4f5c\u4e3a\u52a8\u6001\u5206\u8fa8\u7387\u8fc7\u7a0b\u7684\u4e00\u90e8\u5206\u8fdb\u884c\u7f29\u653e\u3002\u6444\u50cf\u673a\u8fd8\u5177\u6709 ",(0,r.kt)("a",{parentName:"p",href:"https://docs.unity3d.com/cn/2022.1/Manual/Camera-allowDynamicResolution.html"},"allowDynamicResolution")," \u6807\u5fd7\uff0c\u4f7f\u7528\u8be5\u6807\u5fd7\u53ef\u4ee5\u8fd9\u6837\u8bbe\u7f6e\u52a8\u6001\u5206\u8fa8\u7387\uff1a\u5728\u53ea\u60f3\u5c06\u52a8\u6001\u5206\u8fa8\u7387\u5e94\u7528\u4e8e\u4e0d\u592a\u590d\u6742\u7684\u573a\u666f\u65f6\uff0c\u65e0\u9700\u8986\u76d6\u6e32\u67d3\u76ee\u6807\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://docs.unity3d.com/cn/2022.1/uploads/Main/DynamicResolution.png",alt:"DynamicResolution.png"})),(0,r.kt)("h2",{id:"mrt-\u7f13\u51b2\u533a"},"MRT \u7f13\u51b2\u533a"),(0,r.kt)("p",null,"\u5728 Camera \u7ec4\u4ef6\u4e0a\u542f\u7528  ",(0,r.kt)("strong",{parentName:"p"},"Allow Dynamic Resolution"),"  \u65f6\uff0cUnity \u4f1a\u7f29\u653e\u8be5\u6444\u50cf\u673a\u7684\u6240\u6709\u76ee\u6807\u3002"),(0,r.kt)("h2",{id:"\u63a7\u5236\u7f29\u653e"},"\u63a7\u5236\u7f29\u653e"),(0,r.kt)("p",null,"\u53ef\u4ee5\u901a\u8fc7 ",(0,r.kt)("a",{parentName:"p",href:"https://docs.unity3d.com/cn/2022.1/ScriptReference/ScalableBufferManager.html"},"ScalableBufferManager")," \u63a7\u5236\u7f29\u653e\u3002\u501f\u52a9 ",(0,r.kt)("a",{parentName:"p",href:"https://docs.unity3d.com/cn/2022.1/ScriptReference/ScalableBufferManager.html"},"ScalableBufferManager"),"\uff0c\u53ef\u4ee5\u63a7\u5236\u5df2\u6807\u8bb0\u7531\u52a8\u6001\u5206\u8fa8\u7387\u7cfb\u7edf\u8fdb\u884c\u6269\u5c55\u7684\u6240\u6709\u6e32\u67d3\u76ee\u6807\u7684\u52a8\u6001\u5bbd\u5ea6\u548c\u9ad8\u5ea6\u7f29\u653e\u3002"),(0,r.kt)("p",null,"\u4f8b\u5982\uff0c\u5047\u8bbe\u5e94\u7528\u7a0b\u5e8f\u4ee5\u7406\u60f3\u7684\u5e27\u7387\u8fd0\u884c\uff0c\u4f46\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u7531\u4e8e\u7c92\u5b50\u589e\u591a\u3001\u540e\u671f\u6548\u679c\u548c\u5c4f\u5e55\u590d\u6742\u6027\u7b49\u591a\u91cd\u56e0\u7d20\u7684\u5f71\u54cd\uff0cGPU \u6027\u80fd\u4f1a\u4e0b\u964d\u3002Unity ",(0,r.kt)("a",{parentName:"p",href:"https://docs.unity3d.com/cn/2022.1/ScriptReference/FrameTimingManager.html"},"FrameTimingManager")," \u53ef\u4ee5\u68c0\u6d4b CPU \u6216 GPU \u6027\u80fd\u4f55\u65f6\u5f00\u59cb\u4e0b\u964d\u3002\u56e0\u6b64\uff0c\u53ef\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"FrameTimingManager")," \u8ba1\u7b97\u65b0\u7684\u6240\u9700\u5bbd\u5ea6\u548c\u9ad8\u5ea6\u7f29\u653e\u4ee5\u5c06\u5e27\u7387\u4fdd\u6301\u5728\u6240\u9700\u8303\u56f4\u5185\uff0c\u5e76\u5c06\u7f29\u653e\u964d\u4f4e\u5230\u8be5\u503c\u4ee5\u4fdd\u6301\u6027\u80fd\u7a33\u5b9a\uff08\u7acb\u5373\u8fdb\u884c\u6216\u5728\u8bbe\u5b9a\u7684\u5e27\u6570\u5185\u9010\u6e10\u8fdb\u884c\uff09\u3002\u5f53\u5c4f\u5e55\u590d\u6742\u5ea6\u964d\u4f4e\u5e76\u4e14 GPU \u6027\u80fd\u7a33\u5b9a\u65f6\uff0c\u53ef\u5c06\u5bbd\u5ea6\u548c\u9ad8\u5ea6\u7f29\u653e\u63d0\u9ad8\u5230\u4e8b\u5148\u8ba1\u7b97\u51fa\u7684 GPU \u53ef\u4ee5\u5904\u7406\u7684\u503c\u3002"),(0,r.kt)("h2",{id:"\u793a\u4f8b"},"\u793a\u4f8b"),(0,r.kt)("p",null,"This example script demonstrates basic use of the API. Add it to a Camera in your Scene, and check  ",(0,r.kt)("strong",{parentName:"p"},"Allow Dynamic Resolution"),"  in the Camera settings. You also need to open the  ",(0,r.kt)("strong",{parentName:"p"},"Player"),"  settings (menu:  ",(0,r.kt)("strong",{parentName:"p"},"Edit ",">"," Project Settings")," , then select the  ",(0,r.kt)("strong",{parentName:"p"},"Player"),"  category) and check the  ",(0,r.kt)("strong",{parentName:"p"},"Enable Frame Timing Stats"),"  checkbox. For more information about the functionality behind the  ",(0,r.kt)("strong",{parentName:"p"},"Enable Frame Timing Stats"),"  property, see ",(0,r.kt)("a",{parentName:"p",href:"/doc-unity-manual/docs/dynamic-resolution/frame-timing-manager"},"FrameTimingManager"),"."),(0,r.kt)("p",null,"\u5355\u51fb\u9f20\u6807\u6216\u7528\u4e00\u6839\u624b\u6307\u70b9\u51fb\u5c4f\u5e55\uff0c\u5206\u522b\u5c06\u9ad8\u5ea6\u548c\u5bbd\u5ea6\u5206\u8fa8\u7387\u964d\u4f4e ",(0,r.kt)("inlineCode",{parentName:"p"},"scaleWidthIncrement")," \u548c ",(0,r.kt)("inlineCode",{parentName:"p"},"scaleHeightIncrement")," \u53d8\u91cf\u4e2d\u7684\u5927\u5c0f\u3002\u7528\u4e24\u6839\u624b\u6307\u70b9\u51fb\u4f1a\u4ee5\u76f8\u540c\u7684\u589e\u91cf\u63d0\u9ad8\u5206\u8fa8\u7387\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'using System;\nusing System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\nusing UnityEngine.UI;\n\npublic class DynamicResolutionTest : MonoBehaviour\n{\n    public Text screenText;\n\n    FrameTiming[] frameTimings = new FrameTiming[3];\n\n    public float maxResolutionWidthScale = 1.0f;\n    public float maxResolutionHeightScale = 1.0f;\n    public float minResolutionWidthScale = 0.5f;\n    public float minResolutionHeightScale = 0.5f;\n    public float scaleWidthIncrement = 0.1f;\n    public float scaleHeightIncrement = 0.1f;\n\n    float m_widthScale = 1.0f;\n    float m_heightScale = 1.0f;\n\n    // \u8de8\u5e27\u4fdd\u6301\u7684\u52a8\u6001\u5206\u8fa8\u7387\u7b97\u6cd5\u53d8\u91cf\n    uint m_frameCount = 0;\n\n    const uint kNumFrameTimings = 2;\n\n    double m_gpuFrameTime;\n    double m_cpuFrameTime;\n\n    // \u4f7f\u7528\u6b64\u51fd\u6570\u8fdb\u884c\u521d\u59cb\u5316\n    void Start()\n    {\n        int rezWidth = (int)Mathf.Ceil(ScalableBufferManager.widthScaleFactor * Screen.currentResolution.width);\n        int rezHeight = (int)Mathf.Ceil(ScalableBufferManager.heightScaleFactor * Screen.currentResolution.height);\n        screenText.text = string.Format("Scale: {0:F3}x{1:F3}\\nResolution: {2}x{3}\\n",\n            m_widthScale,\n            m_heightScale,\n            rezWidth,\n            rezHeight);\n    }\n\n    // \u6bcf\u5e27\u8c03\u7528\u4e00\u6b21 Update\n    void Update()\n    {\n        float oldWidthScale = m_widthScale;\n        float oldHeightScale = m_heightScale;\n\n        // \u4e00\u6839\u624b\u6307\u964d\u4f4e\u5206\u8fa8\u7387\n        if (Input.GetButtonDown("Fire1"))\n        {\n            m_heightScale = Mathf.Max(minResolutionHeightScale, m_heightScale - scaleHeightIncrement);\n            m_widthScale = Mathf.Max(minResolutionWidthScale, m_widthScale - scaleWidthIncrement);\n        }\n\n        // \u4e24\u6839\u624b\u6307\u63d0\u9ad8\u5206\u8fa8\u7387\n        if (Input.GetButtonDown("Fire2"))\n        {\n            m_heightScale = Mathf.Min(maxResolutionHeightScale, m_heightScale + scaleHeightIncrement);\n            m_widthScale = Mathf.Min(maxResolutionWidthScale, m_widthScale + scaleWidthIncrement);\n        }\n\n        if (m_widthScale != oldWidthScale || m_heightScale != oldHeightScale)\n        {\n            ScalableBufferManager.ResizeBuffers(m_widthScale, m_heightScale);\n        }\n        DetermineResolution();\n        int rezWidth = (int)Mathf.Ceil(ScalableBufferManager.widthScaleFactor * Screen.currentResolution.width);\n        int rezHeight = (int)Mathf.Ceil(ScalableBufferManager.heightScaleFactor * Screen.currentResolution.height);\n        screenText.text = string.Format("Scale: {0:F3}x{1:F3}\\nResolution: {2}x{3}\\nScaleFactor: {4:F3}x{5:F3}\\nGPU: {6:F3} CPU: {7:F3}",\n            m_widthScale,\n            m_heightScale,\n            rezWidth,\n            rezHeight,\n            ScalableBufferManager.widthScaleFactor,\n            ScalableBufferManager.heightScaleFactor,\n            m_gpuFrameTime,\n            m_cpuFrameTime);\n    }\n\n    // \u4f30\u7b97\u4e0b\u4e00\u5e27\u65f6\u95f4\u5e76\u5728\u5fc5\u8981\u65f6\u66f4\u65b0\u5206\u8fa8\u7387\u7f29\u653e\u3002\n    private void DetermineResolution()\n    {\n        ++m_frameCount;\n        if (m_frameCount &lt;= kNumFrameTimings)\n        {\n            return;\n        }\n        FrameTimingManager.CaptureFrameTimings();\n        FrameTimingManager.GetLatestTimings(kNumFrameTimings, frameTimings);\n        if (frameTimings.Length &lt; kNumFrameTimings)\n        {\n            Debug.LogFormat("Skipping frame {0}, didn\'t get enough frame timings.",\n                m_frameCount);\n\n            return;\n        }\n\n        m_gpuFrameTime = (double)frameTimings[0].gpuFrameTime;\n        m_cpuFrameTime = (double)frameTimings[0].cpuFrameTime;\n    }\n}\n')),(0,r.kt)("h2",{id:"\u53e6\u8bf7\u53c2\u9605"},"\u53e6\u8bf7\u53c2\u9605"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.unity3d.com/cn/2022.1/ScriptReference/FrameTimingManager.html"},"FrameTimingManager API reference"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/doc-unity-manual/docs/dynamic-resolution/frame-timing-manager"},"FrameTimingManager User Manual documentation"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.unity3d.com/cn/2022.1/ScriptReference/ScalableBufferManager.html"},"ScalableBufferManager API reference"),".")),(0,r.kt)("hr",null),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"2018\u201309\u201320 \u9875\u9762\u5df2\u53d1\u5e03"),(0,r.kt)("li",{parentName:"ul"},"\u5728 2017.4 \u7248\u4e2d\u6dfb\u52a0\u4e86\u6709\u5173\u52a8\u6001\u5206\u8fa8\u7387\u7684\u6587\u6863"),(0,r.kt)("li",{parentName:"ul"},"\u5728 2019.1 \u4e2d\u6dfb\u52a0\u4e86\u5bf9 macOS\uff08\u4ec5\u9650 Metal\uff09\u3001Windows \u72ec\u7acb\u5e73\u53f0\u548c UWP\uff08\u4ec5\u9650 DirectX 12\uff09\u7684\u52a8\u6001\u5206\u8fa8\u7387\u652f\u6301")))}d.isMDXComponent=!0}}]);