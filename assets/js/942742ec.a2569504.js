"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[85953],{3905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return g}});var i=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=i.createContext({}),p=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},d=function(e){var t=p(e.components);return i.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),m=p(n),g=r,c=m["".concat(s,".").concat(g)]||m[g]||u[g]||a;return n?i.createElement(c,l(l({ref:t},d),{},{components:n})):i.createElement(c,l({ref:t},d))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,l=new Array(a);l[0]=m;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:r,l[1]=o;for(var p=2;p<a;p++)l[p]=n[p];return i.createElement.apply(null,l)}return i.createElement.apply(null,n)}m.displayName="MDXCreateElement"},42985:function(e,t,n){n.r(t),n.d(t,{assets:function(){return d},contentTitle:function(){return s},default:function(){return g},frontMatter:function(){return o},metadata:function(){return p},toc:function(){return u}});var i=n(87462),r=n(63366),a=(n(67294),n(3905)),l=["components"],o={id:"webgl-building",title:"Building your WebGL application",slug:"/webgl-building"},s="Building your WebGL application",p={unversionedId:"platform-specific/webgl/webgl-building-distribution/webgl-building/webgl-building",id:"platform-specific/webgl/webgl-building-distribution/webgl-building/webgl-building",title:"Building your WebGL application",description:"To create a build for WebGL, go to  File &gt; Build Settings  from Unity\u2019s main menu. In the Platform list, select  WebGL  and then click  Switch Platform .",source:"@site/docs/platform-specific/webgl/webgl-building-distribution/webgl-building/webgl-building.md",sourceDirName:"platform-specific/webgl/webgl-building-distribution/webgl-building",slug:"/webgl-building",permalink:"/docs/webgl-building",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/platform-specific/webgl/webgl-building-distribution/webgl-building/webgl-building.md",tags:[],version:"current",frontMatter:{id:"webgl-building",title:"Building your WebGL application",slug:"/webgl-building"},sidebar:"tutorialSidebar",previous:{title:"Building and distributing a WebGL project",permalink:"/docs/webgl-building-distribution"},next:{title:"Reduce load times with AssetBundles",permalink:"/docs/webgl-building/webgl-assetbundles"}},d={},u=[{value:"Build Folder",id:"build-folder",level:2},{value:"Deep Profiling Support",id:"deep-profiling-support",level:2},{value:"Enable Exceptions",id:"enable-exceptions",level:2},{value:"\u6570\u636e\u7f13\u5b58",id:"\u6570\u636e\u7f13\u5b58",level:2},{value:"Texture Compression",id:"texture-compression",level:2},{value:"Create builds for desktop and mobile browsers from a script",id:"create-builds-for-desktop-and-mobile-browsers-from-a-script",level:3}],m={toc:u};function g(e){var t=e.components,n=(0,r.Z)(e,l);return(0,a.kt)("wrapper",(0,i.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"building-your-webgl-application"},"Building your WebGL application"),(0,a.kt)("p",null,"To create a build for WebGL, go to  ",(0,a.kt)("strong",{parentName:"p"},"File ",">"," Build Settings"),"  from Unity\u2019s main menu. In the Platform list, select  ",(0,a.kt)("strong",{parentName:"p"},"WebGL"),"  and then click  ",(0,a.kt)("strong",{parentName:"p"},"Switch Platform")," ."),(0,a.kt)("p",null,"When you have configured the Build Settings, choose one the following options:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Build")," : Builds your application into a Player."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Build and Run")," : Builds your application in a Player, and opens that Player on your target platform.")),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://docs.unity3d.com/cn/2022.1/uploads/Main/WebGLBuilding-BuildPlayerOptions.png",alt:"Build Settings \u7a97\u53e3"})),(0,a.kt)("p",null,"Build Settings \u7a97\u53e3"),(0,a.kt)("p",null,"The Unity build system for WebGL supports the following settings:"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},(0,a.kt)("strong",{parentName:"th"},"\u8bbe\u7f6e")),(0,a.kt)("th",{parentName:"tr",align:null},(0,a.kt)("strong",{parentName:"th"},"\u529f\u80fd")))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("strong",{parentName:"td"},"Texture Compression")),(0,a.kt)("td",{parentName:"tr",align:null},"The texture compression format to use for the build. The options are:")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"->  ",(0,a.kt)("strong",{parentName:"td"},"Use Player Settings")),(0,a.kt)("td",{parentName:"tr",align:null},"This is the default selection. It uses the texture compression format you set in the ",(0,a.kt)("a",{parentName:"td",href:"/docs/webgl-gettingstarted/class-player-settings-web-gl"},"Player settings")," window.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"->  ",(0,a.kt)("strong",{parentName:"td"},"ETC2")),(0,a.kt)("td",{parentName:"tr",align:null},"Uses ETC2 format, which is widely supported on mobile devices.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"->  ",(0,a.kt)("strong",{parentName:"td"},"ASTC")),(0,a.kt)("td",{parentName:"tr",align:null},"Uses ASTC format, which is widely supported on mobile devices.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"->  ",(0,a.kt)("strong",{parentName:"td"},"DXT")),(0,a.kt)("td",{parentName:"tr",align:null},"Uses DXT format, which is widely supported on desktop devices.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("strong",{parentName:"td"},"Development Build")),(0,a.kt)("td",{parentName:"tr",align:null},"Enable this setting to include scripting debug symbols and the Profiler in your build. When you enable this, Unity sets the ",(0,a.kt)("inlineCode",{parentName:"td"},"DEVELOPMENT_BUILD")," scripting define. You should use this setting only when you want to test your application. Note that development builds don\u2019t minify content, which means the development builds are very large to distribute.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("strong",{parentName:"td"},"Code Optimization")),(0,a.kt)("td",{parentName:"tr",align:null},"Select the optimization mode to use for compiling the WebGL code.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"->  ",(0,a.kt)("strong",{parentName:"td"},"Speed")),(0,a.kt)("td",{parentName:"tr",align:null},"This is the default setting. Selecting this generates WebGL code that\u2019s optimized for runtime performance.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"->  ",(0,a.kt)("strong",{parentName:"td"},"Size")),(0,a.kt)("td",{parentName:"tr",align:null},"Selecting this generates WebGL code that\u2019s optimized for build size. This is useful when building WebGL games to run on mobile browsers on Android and iOS, where the default optimize-for-speed option would generate larger WebAssembly files for mobile devices to consume.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("strong",{parentName:"td"},"Autoconnect Profiler")),(0,a.kt)("td",{parentName:"tr",align:null},"Typically, when enabled, this setting allows you to automatically connect the Unity Profiler to your build. However for WebGL, as you can\u2019t connect the ",(0,a.kt)("a",{parentName:"td",href:"#profiler"},"Profiler")," to a running build, use this option to connect the content to the Editor instead. This is because the Profiler connection is handled using WebSockets on WebGL, but a web browser only allows outgoing connections from the content. For this setting to be available, you should enable the  ",(0,a.kt)("strong",{parentName:"td"},"Development Build"),"  option.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("strong",{parentName:"td"},"Deep Profiling")),(0,a.kt)("td",{parentName:"tr",align:null},"Enable this setting to turn on ",(0,a.kt)("a",{parentName:"td",href:"/docs/profiler-window#%E6%B7%B1%E5%BA%A6%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90"},"Deep Profiling")," in the Profiler. This makes the Profiler instrument every function call in your application and returns more detailed profiling data. When you enable Deep Profiling Support, it might slow down script execution. This option is only available if you enable the  ",(0,a.kt)("strong",{parentName:"td"},"Development Build"),"  option.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("strong",{parentName:"td"},"Build")),(0,a.kt)("td",{parentName:"tr",align:null},"Use it build your application.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("strong",{parentName:"td"},"Build And Run")),(0,a.kt)("td",{parentName:"tr",align:null},"Use it to view the WebGL Player locally. Unity uses a local web server to host your build, and opens it from a localhost URL. Alternatively, you can use a custom local web server with properly configured response headers. For more information, see ",(0,a.kt)("a",{parentName:"td",href:"/docs/webgl-building-distribution/webgl-deploying"},"Compressed builds and server configuration"),".")))),(0,a.kt)("p",null,"For changing the settings for  ",(0,a.kt)("strong",{parentName:"p"},"Asset Import Overrides")," , see ",(0,a.kt)("a",{parentName:"p",href:"/docs/editor-features/build-settings#asset-import-overrides"},"Build Settings"),"."),(0,a.kt)("h2",{id:"build-folder"},"Build Folder"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"Build")," folder contains the following files (",(0,a.kt)("inlineCode",{parentName:"p"},"[ExampleBuild]")," represents the name of the target build folder)."),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"\u6587\u4ef6\u540d"),(0,a.kt)("th",{parentName:"tr",align:null},"\u5305\u542b"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"[ExampleBuild].loader.js")),(0,a.kt)("td",{parentName:"tr",align:null},"\u7f51\u9875\u9700\u8981\u7528\u6765\u52a0\u8f7d Unity \u5185\u5bb9\u7684 JavaScript \u4ee3\u7801\u3002")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"[ExampleBuild].framework.js")),(0,a.kt)("td",{parentName:"tr",align:null},"JavaScript \u8fd0\u884c\u65f6\u548c\u63d2\u4ef6\u3002")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"[ExampleBuild].wasm")),(0,a.kt)("td",{parentName:"tr",align:null},"WebAssembly \u4e8c\u8fdb\u5236\u6587\u4ef6\u3002")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"[ExampleBuild].mem")),(0,a.kt)("td",{parentName:"tr",align:null},"\u7528\u4e8e\u521d\u59cb\u5316\u64ad\u653e\u5668\u5806\u5185\u5b58\u7684\u4e8c\u8fdb\u5236\u6620\u50cf\u6587\u4ef6\u3002Unity \u4ec5\u9488\u5bf9\u591a\u7ebf\u7a0b WebAssembly \u6784\u5efa\u751f\u6210\u6b64\u6587\u4ef6\u3002")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"[ExampleBuild].data")),(0,a.kt)("td",{parentName:"tr",align:null},"\u8d44\u6e90\u6570\u636e\u548c\u573a\u666f\u3002")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"[ExampleBuild].symbols.json")),(0,a.kt)("td",{parentName:"tr",align:null},"\u8c03\u8bd5\u9519\u8bef\u5806\u6808\u8ddf\u8e2a\u6240\u9700\u7684\u8c03\u8bd5\u7b26\u53f7\u540d\u79f0\u3002\u4ec5\u5f53\u542f\u7528 Debug Symbols \u9009\u9879\u65f6 ( ",(0,a.kt)("strong",{parentName:"td"},"File"),"  ",">","  ",(0,a.kt)("strong",{parentName:"td"},"Build Settings"),"  ",">","  ",(0,a.kt)("strong",{parentName:"td"},"Player Settings")," )\uff0c\u624d\u4f1a\u4e3a Release \u6784\u5efa\u751f\u6210\u6b64\u6587\u4ef6\u3002")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"[ExampleBuild].jpg")),(0,a.kt)("td",{parentName:"tr",align:null},"\u5728\u6784\u5efa\u52a0\u8f7d\u65f6\u663e\u793a\u7684\u80cc\u666f\u56fe\u50cf\u3002\u4ec5\u5f53\u5728 Player Settings ( ",(0,a.kt)("strong",{parentName:"td"},"File"),"  ",">","  ",(0,a.kt)("strong",{parentName:"td"},"Build Settings"),"  ",">","  ",(0,a.kt)("strong",{parentName:"td"},"Player Settings"),"  ",">","  ",(0,a.kt)("strong",{parentName:"td"},"Splash Image")," ) \u4e2d\u63d0\u4f9b\u4e86\u80cc\u666f\u56fe\u50cf\u65f6\uff0c\u624d\u4f1a\u751f\u6210\u6b64\u6587\u4ef6\u3002\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u542f\u52a8\u753b\u9762\u9875\u9762\u3002")))),(0,a.kt)("p",null,"\u5982\u679c\u5bf9\u6784\u5efa\u542f\u7528\u67d0\u79cd ",(0,a.kt)("strong",{parentName:"p"},"\u538b\u7f29\u65b9\u6cd5")," \uff0cUnity \u4f1a\u8bc6\u522b\u4e0e\u538b\u7f29\u65b9\u6cd5\u5bf9\u5e94\u7684\u6269\u5c55\u540d\uff0c\u5e76\u5c06\u6b64\u6269\u5c55\u540d\u6dfb\u52a0\u5230 Build \u5b50\u6587\u4ef6\u5939\u4e2d\u7684\u6587\u4ef6\u7684\u540d\u79f0\u4e2d\u3002\u5982\u679c\u542f\u7528  ",(0,a.kt)("strong",{parentName:"p"},"Decompression Fallback")," \uff0cUnity \u5c06\u6269\u5c55\u540d ",(0,a.kt)("inlineCode",{parentName:"p"},".unityweb")," \u9644\u52a0\u5230\u6784\u5efa\u6587\u4ef6\u540d\u3002\u5426\u5219\uff0cUnity \u4e3a Gzip \u538b\u7f29\u65b9\u6cd5\u9644\u52a0\u6269\u5c55\u540d ",(0,a.kt)("inlineCode",{parentName:"p"},".gz"),"\uff0c\u6216\u8005\u4e3a Brotli \u538b\u7f29\u65b9\u6cd5\u9644\u52a0\u6269\u5c55\u540d ",(0,a.kt)("inlineCode",{parentName:"p"},".br"),"\u3002 \u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 ",(0,a.kt)("a",{parentName:"p",href:"/docs/webgl-building-distribution/webgl-deploying"},"WebGL\uff1a\u538b\u7f29\u6784\u5efa\u548c\u670d\u52a1\u5668\u914d\u7f6e"),"\u3002"),(0,a.kt)("p",null,"If you enable  ",(0,a.kt)("strong",{parentName:"p"},"Name Files As Hashes"),"  in the  ",(0,a.kt)("strong",{parentName:"p"},"Player Settings")," , Unity uses the hash of the file content instead of the default filename. This applies to each file in the build folder. This option allows you to upload updated versions of the game builds into the same folder on the server, and only upload the files which have changed between build iterations."),(0,a.kt)("p",null," ",(0,a.kt)("strong",{parentName:"p"},"\u6ce8\u610f")," \uff1a\u5728\u67d0\u4e9b\u6d4f\u89c8\u5668\u4e2d\u53ef\u80fd\u65e0\u6cd5\u76f4\u63a5\u4ece\u6587\u4ef6\u7cfb\u7edf\u6253\u5f00\u64ad\u653e\u5668\u3002\u8fd9\u662f\u7531\u4e8e\u672c\u5730\u6587\u4ef6 URL \u5e94\u7528\u4e86\u5b89\u5168\u9650\u5236\u3002"),(0,a.kt)("h2",{id:"deep-profiling-support"},"Deep Profiling Support"),(0,a.kt)("p",null,"\u542f\u7528  ",(0,a.kt)("strong",{parentName:"p"},"Deep Profiling Support"),"  \u8bbe\u7f6e\u53ef\u4f7f Unity Profiler \u5bf9\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684\u6bcf\u6b21\u51fd\u6570\u8c03\u7528\u90fd\u8fdb\u884c\u6027\u80fd\u5206\u6790\u3002\u5982\u9700\u4e86\u89e3\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u6709\u5173",(0,a.kt)("a",{parentName:"p",href:"/docs/profiler-window#%E6%B7%B1%E5%BA%A6%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90"},"\u6df1\u5ea6\u6027\u80fd\u5206\u6790"),"\u7684\u6587\u6863\u3002"),(0,a.kt)("h2",{id:"enable-exceptions"},"Enable Exceptions"),(0,a.kt)("p",null,"Open  ",(0,a.kt)("strong",{parentName:"p"},"Publishing Settings"),"  to access  ",(0,a.kt)("strong",{parentName:"p"},"Enable Exceptions")," .  ",(0,a.kt)("strong",{parentName:"p"},"Enable Exceptions"),"  allows you to specify how unexpected code behavior (also known as errors) is handled at run time. It has these options:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"None")," \uff1a\u5982\u679c\u4e0d\u9700\u8981\u4efb\u4f55\u5f02\u5e38\u652f\u6301\uff0c\u8bf7\u9009\u62e9\u6b64\u9009\u9879\u3002\u6b64\u9009\u9879\u53ef\u63d0\u4f9b\u6700\u4f73\u6027\u80fd\u548c\u6700\u5c0f\u6784\u5efa\u3002\u4f7f\u7528\u6b64\u9009\u9879\uff0c\u629b\u51fa\u7684\u4efb\u4f55\u5f02\u5e38\u90fd\u4f1a\u5bfc\u81f4\u5185\u5bb9\u56e0\u8be5\u8bbe\u7f6e\u4e2d\u7684\u9519\u8bef\u800c\u505c\u6b62\u3002"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Explicitly Thrown Exceptions Only")," \uff08\u9ed8\u8ba4\u8bbe\u7f6e\uff09\uff1a\u9009\u62e9\u6b64\u9009\u9879\u53ef\u6355\u83b7\u4ece\u811a\u672c\u4e2d\u7684 ",(0,a.kt)("inlineCode",{parentName:"li"},"throw")," \u8bed\u53e5\u663e\u5f0f\u6307\u5b9a\u7684\u5f02\u5e38\uff0c\u5e76\u53ef\u786e\u4fdd\u8c03\u7528 ",(0,a.kt)("inlineCode",{parentName:"li"},"finally")," \u4ee3\u7801\u5757\u3002\u8bf7\u6ce8\u610f\uff0c\u9009\u62e9\u6b64\u9009\u9879\u4f1a\u4f7f\u811a\u672c\u4e2d\u751f\u6210\u7684 JavaScript \u4ee3\u7801\u53d8\u5f97\u66f4\u957f\u4e14\u66f4\u6162\uff1b\u4ec5\u5f53\u811a\u672c\u662f\u9879\u76ee\u7684\u4e3b\u8981\u74f6\u9888\u65f6\uff0c\u8fd9\u624d\u4f1a\u6210\u4e3a\u95ee\u9898\u3002"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Full Without Stacktrace")," : Select this option to capture: ","*"," Exceptions which are explicitly specified from ",(0,a.kt)("inlineCode",{parentName:"li"},"throw")," statements in your scripts (the same as in the ",(0,a.kt)("em",{parentName:"li"},"Explicitly Thrown Exceptions Only")," option)"),(0,a.kt)("li",{parentName:"ul"},"Null \u5f15\u7528"),(0,a.kt)("li",{parentName:"ul"},"\u8d8a\u754c\u6570\u7ec4\u8bbf\u95ee"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Full With Stacktrace")," \uff1a\u6b64\u9009\u9879\u4e0e\u4e0a\u9762\u7684\u9009\u9879\u7c7b\u4f3c\uff0c\u4f46\u4e5f\u6355\u83b7\u5806\u6808\u8ddf\u8e2a\u3002Unity \u901a\u8fc7\u5728\u4ee3\u7801\u4e2d\u5d4c\u5165\u5bf9\u5f02\u5e38\u68c0\u67e5\u6765\u751f\u6210\u8fd9\u4e9b\u5f02\u5e38\uff0c\u56e0\u6b64\u8be5\u9009\u9879\u4f1a\u964d\u4f4e\u6027\u80fd\u5e76\u589e\u52a0\u6d4f\u89c8\u5668\u5185\u5b58\u4f7f\u7528\u91cf\u3002\u4ec5\u7528\u4e8e\u8c03\u8bd5\uff0c\u5e76\u59cb\u7ec8\u5728 64 \u4f4d\u6d4f\u89c8\u5668\u4e2d\u8fdb\u884c\u6d4b\u8bd5\u3002")),(0,a.kt)("h2",{id:"\u6570\u636e\u7f13\u5b58"},"\u6570\u636e\u7f13\u5b58"),(0,a.kt)("p",null,"To access  ",(0,a.kt)("strong",{parentName:"p"},"Data Caching")," , go to  ",(0,a.kt)("strong",{parentName:"p"},"Publishing Setings"),"  via  ",(0,a.kt)("strong",{parentName:"p"},"File"),"  ",">","  ",(0,a.kt)("strong",{parentName:"p"},"Build Settings"),"  ",">","  ",(0,a.kt)("strong",{parentName:"p"},"Player Settings"),"  ",">","  ",(0,a.kt)("strong",{parentName:"p"},"WebGL")," . This enables the browser to cache the main data files into the IndexedDB database."),(0,a.kt)("p",null,"\u4f7f\u7528\u9ed8\u8ba4\u6d4f\u89c8\u5668 HTTP \u7f13\u5b58\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u6d4f\u89c8\u5668\u7f13\u5b58\u7279\u5b9a\u54cd\u5e94\u3002\u8fd9\u662f\u56e0\u4e3a\u6d4f\u89c8\u5668 HTTP \u7f13\u5b58\u7a7a\u95f4\u6709\u9650\uff0c\u6d4f\u89c8\u5668\u53ef\u80fd\u65e0\u6cd5\u7f13\u5b58\u8fc7\u5927\u7684\u6587\u4ef6\u3002"),(0,a.kt)("p",null,"\u4e3a\u4e86\u63d0\u9ad8\u52a0\u8f7d\u901f\u5ea6\uff0cIndexedDB \u5141\u8bb8\u60a8\u7f13\u5b58\u8d85\u8fc7\u6d4f\u89c8\u5668\u9650\u5236\u7684\u6587\u4ef6\u3002\u7f13\u5b58\u66f4\u591a\u6587\u4ef6\u65f6\uff0c\u4e0b\u4e00\u6b21\u6784\u5efa\u8fd0\u884c\u671f\u95f4\u4e0b\u8f7d\u5185\u5bb9\u5728\u7528\u6237\u8ba1\u7b97\u673a\u4e0a\u53ef\u7528\u7684\u673a\u4f1a\u5c31\u589e\u52a0\u4e86\u3002"),(0,a.kt)("p",null,"\u6570\u636e\u7f13\u5b58\u4ec5\u4e3a HTTP \u54cd\u5e94\u7f13\u5b58 IndexedDB \u7f13\u5b58\u4e2d\u7684 ",(0,a.kt)("inlineCode",{parentName:"p"},".data")," \u6587\u4ef6\u3002\u8981\u7f13\u5b58\u8d44\u6e90\u5305\uff0c\u9700\u8981\u542f\u7528\u6570\u636e\u7f13\u5b58\u5e76\u8986\u76d6 ",(0,a.kt)("inlineCode",{parentName:"p"},"unityInstance.Module.cacheControl()"),"\u3002 \u4e3a\u6b64\uff0c\u8bf7\u786e\u4fdd ",(0,a.kt)("inlineCode",{parentName:"p"},"Module.cacheControl(url)")," \u4e3a\u8bf7\u6c42\u7684\u8d44\u6e90\u5305 URL \u8fd4\u56de ",(0,a.kt)("inlineCode",{parentName:"p"},"must-revalidate"),"\u3002\u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u5728 createUnityInstance() \u8fd4\u56de\u7684 Promise \u7684\u6267\u884c\u56de\u8c03\u4e2d\u91cd\u5199 unityInstance.Module.cacheControl() \u51fd\u6570\u3002 \u6709\u5173 createUnityInstance() \u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 ",(0,a.kt)("a",{parentName:"p",href:"/docs/webgl-building-distribution/webgl-deploying"},"WebGL\uff1a\u538b\u7f29\u6784\u5efa\u548c\u670d\u52a1\u5668\u914d\u7f6e"),"\u3002"),(0,a.kt)("h2",{id:"texture-compression"},"Texture Compression"),(0,a.kt)("p",null,"The texture compression setting in WebGL lets you create builds that target platforms based on the texture compression formats they support. The texture compression format value you set here has priority over the ",(0,a.kt)("a",{parentName:"p",href:"/docs/webgl-gettingstarted/class-player-settings-web-gl"},"Player settings")," texture compression format value. To run your game on both desktop and mobile browsers with compressed textures, you might want to create two builds: ","*"," Targeting desktop browsers with DXT set as the texture compression format ","*"," Targeting mobile browsers with ASTC set as the texture compression format"),(0,a.kt)("h3",{id:"create-builds-for-desktop-and-mobile-browsers-from-a-script"},"Create builds for desktop and mobile browsers from a script"),(0,a.kt)("p",null,"You can run a build for both desktop browsers and mobile browsers with the corresponding texture compression formats simultaneously using a script. For example:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\nusing UnityEditor;\nusing System.Diagnostics;\nusing System.IO;\nusing UnityEditor.Build.Reporting;\n\npublic class comboBuild\n{\n    //This creates a menu item to trigger the dual builds https://docs.unity3d.com/ScriptReference/MenuItem.html \n\n    [MenuItem("Game Build Menu/Dual Build")]\n    public static void BuildGame()\n    {\n      //This builds the player twice: a build with desktop-specific texture settings (WebGL_Build) as well as mobile-specific texture settings (WebGL_Mobile), and combines the necessary files into one directory (WebGL_Build)\n      \n      string dualBuildPath    = "WebGLBuilds";\n      string desktopBuildName = "WebGL_Build";\n      string mobileBuildName  = "WebGL_Mobile";\n\n      string desktopPath = Path.Combine(dualBuildPath, desktopBuildName);\n      string mobilePath  = Path.Combine(dualBuildPath, mobileBuildName);\n      string[] scenes = new string[] {"Assets/scene.unity"};\n\n      EditorUserBuildSettings.webGLBuildSubtarget = WebGLTextureSubtarget.DXT;\n      BuildPipeline.BuildPlayer(scenes, desktopPath, BuildTarget.WebGL, BuildOptions.Development); \n\n      EditorUserBuildSettings.webGLBuildSubtarget = WebGLTextureSubtarget.ASTC;\n      BuildPipeline.BuildPlayer(scenes,  mobilePath, BuildTarget.WebGL, BuildOptions.Development); \n\n      // Copy the mobile.data file to the desktop build directory to consolidate them both\n      FileUtil.CopyFileOrDirectory(Path.Combine(mobilePath, "Build", mobileBuildName + ".data"), Path.Combine(desktopPath, "Build", mobileBuildName + ".data"));\n    }  \n}\n')),(0,a.kt)("p",null,"Finally, you can modify the ",(0,a.kt)("a",{parentName:"p",href:"/docs/webgl-building-distribution/webgl-templates"},"WebGL template\u2019s")," ",(0,a.kt)("inlineCode",{parentName:"p"},"index.html")," file to select the appropriate data file if there\u2019s support for the texture compression format extension:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'// choose the data file based on whether there\'s support for the ASTC texture compression format\n      var dataFile = "/{{{ DATA_FILENAME }}}";                                  \n      var c = document.createElement("canvas");                                 \n      var gl = c.getContext("webgl");                                      \n      var gl2 = c.getContext("webgl2");                                    \n      if ((gl && gl.getExtension(\'WEBGL_compressed_texture_astc\')) || (gl2 &&   \n              gl2.getExtension(\'WEBGL_compressed_texutre_astc\'))) {             \n        dataFile =  "/WebGL_Mobile.data";                                       \n      }                                                                         \n\n      var buildUrl = "Build";\n      var loaderUrl = buildUrl + "/{{{ LOADER_FILENAME }}}";                    \n      var config = {                                                            \n        dataUrl: buildUrl + dataFile,                                           \n        frameworkUrl: buildUrl + "/{{{ FRAMEWORK_FILENAME }}}",                 \n#if USE_WASM                                                                    \n        codeUrl: buildUrl + "/{{{ CODE_FILENAME }}}",                           \n#endif                                                                          \n#if MEMORY_FILENAME                                                             \n        memoryUrl: buildUrl + "/{{{ MEMORY_FILENAME }}}",                       \n#endif\n#if SYMBOLS_FILENAME                                                            \n        symbolsUrl: buildUrl + "/{{{ SYMBOLS_FILENAME }}}",                     \n#endif                                                                          \n        streamingAssetsUrl: "StreamingAssets",                                \n        companyName: {{{ JSON.stringify(COMPANY_NAME) }}},\n        productName: {{{ JSON.stringify(PRODUCT_NAME) }}},\n      productVersion: {{{ JSON.stringify(PRODUCT_VERSION) }}},                \n        showBanner: unityShowBanner,                                            \n     };  \n\n')),(0,a.kt)("hr",null),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u5728 Unity 2019.1 \u4e2d\u5220\u9664\u4e86 asm.js \u94fe\u63a5\u5668\u76ee\u6807 ","*","Unity 2020.1 \u4e2d\u6dfb\u52a0\u4e86\u6784\u5efa\u6587\u4ef6\u66f4\u65b0\u548c\u6570\u636e\u7f13\u5b58")))}g.isMDXComponent=!0}}]);