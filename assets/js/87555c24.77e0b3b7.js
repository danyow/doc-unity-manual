"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[19050],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return m}});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},l={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,p=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),d=s(n),m=r,h=d["".concat(p,".").concat(m)]||d[m]||l[m]||o;return n?a.createElement(h,i(i({ref:t},u),{},{components:n})):a.createElement(h,i({ref:t},u))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=d;var c={};for(var p in t)hasOwnProperty.call(t,p)&&(c[p]=t[p]);c.originalType=e,c.mdxType="string"==typeof e?e:r,i[1]=c;for(var s=2;s<o;s++)i[s]=n[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},63090:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return p},default:function(){return m},frontMatter:function(){return c},metadata:function(){return s},toc:function(){return l}});var a=n(87462),r=n(63366),o=(n(67294),n(3905)),i=["components"],c={id:"upm-dependencies",title:"\u4f9d\u8d56\u548c\u89e3\u6790",slug:"/upm-concepts/upm-dependencies"},p="\u4f9d\u8d56\u548c\u89e3\u6790",s={unversionedId:"packages-list/packages/upm-concepts/upm-dependencies",id:"packages-list/packages/upm-concepts/upm-dependencies",title:"\u4f9d\u8d56\u548c\u89e3\u6790",description:"\u5f53\u60a8\u5728 Package Manager \u7a97\u53e3\u4e2d\u5de5\u4f5c\u65f6\uff0c\u53ef\u4ee5\u5b89\u88c5\u6765\u81ea\u591a\u4e2a\u6765\u6e90\u7684\u5305\uff08\u6ce8\u518c\u8868\uff0c\u672c\u5730\u6587\u4ef6\u5939\u6216\u8005 tarball \u4ee5\u53ca Git URL\uff09\u3002\u7136\u800c\uff0c\u867d\u7136 Package Manager \u4ece\u8fd9\u4e9b\u6e90\u65e0\u7f1d\u5b89\u88c5\u5305\uff0c\u4f46\u5b83\u9996\u5148\u5fc5\u987b\u8fdb\u884c\u4e00\u7cfb\u5217\u8ba1\u7b97\u6765\u51b3\u5b9a\u5b89\u88c5\u54ea\u4e2a\u7248\u672c\uff0c\u4ee5\u53ca\u5b89\u88c5\u5176\u4ed6\u54ea\u4e9b\u5305\u548c\u7248\u672c\u6765\u652f\u6301\u5b83\u3002",source:"@site/docs/packages-list/packages/upm-concepts/upm-dependencies.md",sourceDirName:"packages-list/packages/upm-concepts",slug:"/upm-concepts/upm-dependencies",permalink:"/doc-unity-manual/docs/upm-concepts/upm-dependencies",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/packages-list/packages/upm-concepts/upm-dependencies.md",tags:[],version:"current",frontMatter:{id:"upm-dependencies",title:"\u4f9d\u8d56\u548c\u89e3\u6790",slug:"/upm-concepts/upm-dependencies"},sidebar:"tutorialSidebar",previous:{title:"\u5168\u5c40\u7f13\u5b58",permalink:"/doc-unity-manual/docs/upm-concepts/upm-cache"},next:{title:"\u5305\u72b6\u6001\u548c\u751f\u547d\u5468\u671f",permalink:"/doc-unity-manual/docs/upm-concepts/upm-lifecycle"}},u={},l=[],d={toc:l};function m(e){var t=e.components,n=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"\u4f9d\u8d56\u548c\u89e3\u6790"},"\u4f9d\u8d56\u548c\u89e3\u6790"),(0,o.kt)("p",null,"\u5f53\u60a8\u5728 Package Manager \u7a97\u53e3\u4e2d\u5de5\u4f5c\u65f6\uff0c\u53ef\u4ee5\u5b89\u88c5\u6765\u81ea\u591a\u4e2a\u6765\u6e90\u7684\u5305\uff08",(0,o.kt)("a",{parentName:"p",href:"/doc-unity-manual/docs/upm-ui-actions/upm-ui-install"},"\u6ce8\u518c\u8868"),"\uff0c\u672c\u5730",(0,o.kt)("a",{parentName:"p",href:"/doc-unity-manual/docs/upm-ui-actions/upm-ui-local"},"\u6587\u4ef6\u5939"),"\u6216\u8005 ",(0,o.kt)("a",{parentName:"p",href:"/doc-unity-manual/docs/upm-ui-actions/upm-ui-tarball"},"tarball")," \u4ee5\u53ca ",(0,o.kt)("a",{parentName:"p",href:"/doc-unity-manual/docs/upm-ui-actions/upm-ui-giturl"},"Git URL"),"\uff09\u3002\u7136\u800c\uff0c\u867d\u7136 Package Manager \u4ece\u8fd9\u4e9b\u6e90\u65e0\u7f1d\u5b89\u88c5\u5305\uff0c\u4f46\u5b83\u9996\u5148\u5fc5\u987b\u8fdb\u884c\u4e00\u7cfb\u5217\u8ba1\u7b97\u6765\u51b3\u5b9a\u5b89\u88c5\u54ea\u4e2a\u7248\u672c\uff0c\u4ee5\u53ca\u5b89\u88c5\u5176\u4ed6\u54ea\u4e9b\u5305\u548c\u7248\u672c\u6765\u652f\u6301\u5b83\u3002"),(0,o.kt)("p",null," ",(0,o.kt)("strong",{parentName:"p"},"Direct dependencies")," "),(0,o.kt)("p",null,"When you select a package version to install through the Package Manager window, you are adding a \u201cdependency\u201d to your ",(0,o.kt)("a",{parentName:"p",href:"/doc-unity-manual/docs/upm-manifest-prj"},"project manifest"),". This is a declaration that you need a specific version of a particular package in order for the project to work. To add a dependency to your project, you add a reference to the package and version in the form ",(0,o.kt)("inlineCode",{parentName:"p"},"package-name@package-version")," to the ",(0,o.kt)("a",{parentName:"p",href:"/doc-unity-manual/docs/upm-manifest-prj#%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB"},"dependencies")," property of the ",(0,o.kt)("inlineCode",{parentName:"p"},"&lt;project-root&gt;/Packages/manifest.json")," file. These are called \u201cdirect\u201d dependencies because your project directly depends on them."),(0,o.kt)("p",null," ",(0,o.kt)("strong",{parentName:"p"},"Indirect dependencies")," "),(0,o.kt)("p",null,"Packages can also require other packages in order to work. These are called \u201cindirect\u201d, or transitive, dependencies. The package developer adds these to the ",(0,o.kt)("a",{parentName:"p",href:"/doc-unity-manual/docs/upm-manifest-pkg"},"dependencies")," property of the package manifest file during development (",(0,o.kt)("inlineCode",{parentName:"p"},"&lt;package-root&gt;/package.json"),"). For example, in the diagram below, the ",(0,o.kt)("inlineCode",{parentName:"p"},"alembic@1.0.7")," package has a dependency on the ",(0,o.kt)("inlineCode",{parentName:"p"},"timeline@1.0.0")," package, so the timeline package is an \u201cindirect \u201ddependency. On the other hand, the project has dependencies on the ",(0,o.kt)("inlineCode",{parentName:"p"},"cinemachine@2.6.0")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"alembic@1.0.7")," packages, so those are both \u201cdirect\u201d dependencies."),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://docs.unity3d.com/cn/2022.1/uploads/Main/upm-dependencies.svg",alt:"\u663e\u793a\u76f4\u63a5\u4f9d\u8d56\u9879\u548c\u95f4\u63a5\u4f9d\u8d56\u9879\u7684\u56fe"})),(0,o.kt)("p",null," ",(0,o.kt)("strong",{parentName:"p"},"Version overrides")," "),(0,o.kt)("p",null,"When you add a package version as a dependency, that version is not necessarily the version that the Package Manager installs, because it has to consider all of the dependencies in your project, whether direct or indirect. For example, in this case, the Settings Manager package requested was version 1.0.1, but the installed version is actually version 1.0.3 because another package depended on the higher version, as indicated in the information message  ",(0,o.kt)("strong",{parentName:"p"},"(B)")," :"),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://docs.unity3d.com/cn/2022.1/uploads/Main/upm-solver-visual-cues.png",alt:"When you click the information button in the details pane (A), a text box appears (B) explaining why this version was installed instead of the one you requested"})),(0,o.kt)("p",null,"When you click the information button in the details pane (A), a text box appears (B) explaining why this version was installed instead of the one you requested"),(0,o.kt)("p",null," ",(0,o.kt)("strong",{parentName:"p"},"Dependency graph")," "),(0,o.kt)("p",null,"The Package Manager can only install one package version at a time, so it has to construct a ",(0,o.kt)("a",{parentName:"p",href:"/doc-unity-manual/docs/upm-conflicts"},"dependency graph"),", which is a list of every direct and indirect dependency for the project. The dependency graph determines which version of each package to install."),(0,o.kt)("p",null," ",(0,o.kt)("strong",{parentName:"p"},"Lock file")," "),(0,o.kt)("p",null,"When the Package Manager successfully resolves all version conflicts, it saves the resolution in a ",(0,o.kt)("a",{parentName:"p",href:"/doc-unity-manual/docs/upm-conflicts/upm-conflicts-auto"},"lock file")," to ensure determinism (so that the same packages are reliably installed every time), and to reduce the amount of time and resources it takes to compute the dependency graph again."),(0,o.kt)("br",null))}m.isMDXComponent=!0}}]);